// LICENSE_CODE ZON
(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([[12],{100:function(module,exports,__webpack_require__){var React=__webpack_require__(13);function Plus(props){return React.createElement("svg",props,[React.createElement("defs",{key:0},React.createElement("filter",{id:"prefix__a",width:"133.3%",height:"140%",x:"-16.7%",y:"-20%",filterUnits:"objectBoundingBox"},[React.createElement("feOffset",{in:"SourceAlpha",result:"shadowOffsetOuter1",key:0}),React.createElement("feGaussianBlur",{in:"shadowOffsetOuter1",result:"shadowBlurOuter1",stdDeviation:"4",key:1}),React.createElement("feColorMatrix",{in:"shadowBlurOuter1",result:"shadowMatrixOuter1",values:"0 0 0 0 0.639215686 0 0 0 0 0.709803922 0 0 0 0 0.792156863 0 0 0 0.74494646 0",key:2}),React.createElement("feMerge",{key:3},[React.createElement("feMergeNode",{in:"shadowMatrixOuter1",key:0}),React.createElement("feMergeNode",{in:"SourceGraphic",key:1})])])),React.createElement("g",{fill:"#A3B5CA",fillRule:"evenodd",filter:"url(#prefix__a)",transform:"translate(-33 -13)",key:1},React.createElement("path",{d:"M48 20c.368 0 .667.298.667.667l-.001 6.666h6.667c.369 0 .667.299.667.667 0 .368-.298.667-.667.667l-6.667-.001v6.667c0 .369-.298.667-.666.667-.368 0-.667-.298-.667-.667v-6.667h-6.666c-.369 0-.667-.298-.667-.666 0-.368.298-.667.667-.667h6.666v-6.666c0-.369.299-.667.667-.667z"}))])}Plus.defaultProps={width:"30",height:"30",viewBox:"0 0 30 30"};module.exports=Plus;Plus.default=Plus},101:function(module,__webpack_exports__,__webpack_require__){"use strict";var underscore__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(16);var underscore__WEBPACK_IMPORTED_MODULE_0___default=__webpack_require__.n(underscore__WEBPACK_IMPORTED_MODULE_0__);var react__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(13);var react__WEBPACK_IMPORTED_MODULE_1___default=__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_1__);var classnames__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(39);var classnames__WEBPACK_IMPORTED_MODULE_2___default=__webpack_require__.n(classnames__WEBPACK_IMPORTED_MODULE_2__);var react_flip_toolkit__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__(57);var _util_util_js__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__(10);var _util_util_js__WEBPACK_IMPORTED_MODULE_4___default=__webpack_require__.n(_util_util_js__WEBPACK_IMPORTED_MODULE_4__);var _util_zerr_js__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__(12);var _util_zerr_js__WEBPACK_IMPORTED_MODULE_5___default=__webpack_require__.n(_util_zerr_js__WEBPACK_IMPORTED_MODULE_5__);var _util_etask_js__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__(11);var _util_etask_js__WEBPACK_IMPORTED_MODULE_6___default=__webpack_require__.n(_util_etask_js__WEBPACK_IMPORTED_MODULE_6__);var _util_date_js__WEBPACK_IMPORTED_MODULE_7__=__webpack_require__(17);var _util_date_js__WEBPACK_IMPORTED_MODULE_7___default=__webpack_require__.n(_util_date_js__WEBPACK_IMPORTED_MODULE_7__);var _util_string_js__WEBPACK_IMPORTED_MODULE_8__=__webpack_require__(31);var _util_string_js__WEBPACK_IMPORTED_MODULE_8___default=__webpack_require__.n(_util_string_js__WEBPACK_IMPORTED_MODULE_8__);var _util_country_js__WEBPACK_IMPORTED_MODULE_9__=__webpack_require__(53);var _util_country_js__WEBPACK_IMPORTED_MODULE_9___default=__webpack_require__.n(_util_country_js__WEBPACK_IMPORTED_MODULE_9__);var _svc_vpn_pub_util_js__WEBPACK_IMPORTED_MODULE_10__=__webpack_require__(20);var _svc_vpn_pub_util_js__WEBPACK_IMPORTED_MODULE_10___default=__webpack_require__.n(_svc_vpn_pub_util_js__WEBPACK_IMPORTED_MODULE_10__);var _bext_pub_util_js__WEBPACK_IMPORTED_MODULE_11__=__webpack_require__(15);var _bext_pub_util_js__WEBPACK_IMPORTED_MODULE_11___default=__webpack_require__.n(_bext_pub_util_js__WEBPACK_IMPORTED_MODULE_11__);var _bext_vpn_ui_ui_lib_js__WEBPACK_IMPORTED_MODULE_12__=__webpack_require__(34);var _bext_vpn_util_util_js__WEBPACK_IMPORTED_MODULE_13__=__webpack_require__(14);var _bext_vpn_util_util_js__WEBPACK_IMPORTED_MODULE_13___default=__webpack_require__.n(_bext_vpn_util_util_js__WEBPACK_IMPORTED_MODULE_13__);var _svc_vpn_pub_common_ui_js__WEBPACK_IMPORTED_MODULE_14__=__webpack_require__(58);var _svc_vpn_pub_common_ui_js__WEBPACK_IMPORTED_MODULE_14___default=__webpack_require__.n(_svc_vpn_pub_common_ui_js__WEBPACK_IMPORTED_MODULE_14__);var _bext_vpn_ui_ui_api_js__WEBPACK_IMPORTED_MODULE_15__=__webpack_require__(25);var _bext_vpn_ui_context_js__WEBPACK_IMPORTED_MODULE_16__=__webpack_require__(52);var _img_hola_gray_svg__WEBPACK_IMPORTED_MODULE_17__=__webpack_require__(102);var _img_hola_gray_svg__WEBPACK_IMPORTED_MODULE_17___default=__webpack_require__.n(_img_hola_gray_svg__WEBPACK_IMPORTED_MODULE_17__);var _img_flame_gray_svg__WEBPACK_IMPORTED_MODULE_18__=__webpack_require__(103);var _img_flame_gray_svg__WEBPACK_IMPORTED_MODULE_18___default=__webpack_require__.n(_img_flame_gray_svg__WEBPACK_IMPORTED_MODULE_18__);var _bext_vpn_ui_page_lib_js__WEBPACK_IMPORTED_MODULE_19__=__webpack_require__(61);var _img_x_svg__WEBPACK_IMPORTED_MODULE_20__=__webpack_require__(59);var _img_x_svg__WEBPACK_IMPORTED_MODULE_20___default=__webpack_require__.n(_img_x_svg__WEBPACK_IMPORTED_MODULE_20__);var _img_left_svg__WEBPACK_IMPORTED_MODULE_21__=__webpack_require__(73);var _img_left_svg__WEBPACK_IMPORTED_MODULE_21___default=__webpack_require__.n(_img_left_svg__WEBPACK_IMPORTED_MODULE_21__);
// LICENSE_CODE ZON
function ownKeys(object,enumerableOnly){var keys=Object.keys(object);if(Object.getOwnPropertySymbols){var symbols=Object.getOwnPropertySymbols(object);if(enumerableOnly)symbols=symbols.filter((function(sym){return Object.getOwnPropertyDescriptor(object,sym).enumerable}));keys.push.apply(keys,symbols)}return keys}function _objectSpread(target){for(var i=1;i<arguments.length;i++){var source=arguments[i]!=null?arguments[i]:{};if(i%2){ownKeys(Object(source),true).forEach((function(key){_defineProperty(target,key,source[key])}))}else if(Object.getOwnPropertyDescriptors){Object.defineProperties(target,Object.getOwnPropertyDescriptors(source))}else{ownKeys(Object(source)).forEach((function(key){Object.defineProperty(target,key,Object.getOwnPropertyDescriptor(source,key))}))}}return target}function _defineProperty(obj,key,value){if(key in obj){Object.defineProperty(obj,key,{value:value,enumerable:true,configurable:true,writable:true})}else{obj[key]=value}return obj}function _extends(){_extends=Object.assign||function(target){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var key in source){if(Object.prototype.hasOwnProperty.call(source,key)){target[key]=source[key]}}}return target};return _extends.apply(this,arguments)}function _slicedToArray(arr,i){return _arrayWithHoles(arr)||_iterableToArrayLimit(arr,i)||_nonIterableRest()}function _nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}function _iterableToArrayLimit(arr,i){if(!(Symbol.iterator in Object(arr)||Object.prototype.toString.call(arr)==="[object Arguments]")){return}var _arr=[];var _n=true;var _d=false;var _e=undefined;try{for(var _i=arr[Symbol.iterator](),_s;!(_n=(_s=_i.next()).done);_n=true){_arr.push(_s.value);if(i&&_arr.length===i)break}}catch(err){_d=true;_e=err}finally{try{if(!_n&&_i["return"]!=null)_i["return"]()}finally{if(_d)throw _e}}return _arr}function _arrayWithHoles(arr){if(Array.isArray(arr))return arr}const useState=react__WEBPACK_IMPORTED_MODULE_1___default.a.useState,useEffect=react__WEBPACK_IMPORTED_MODULE_1___default.a.useEffect,useRef=react__WEBPACK_IMPORTED_MODULE_1___default.a.useRef,useContext=react__WEBPACK_IMPORTED_MODULE_1___default.a.useContext,Fragment=react__WEBPACK_IMPORTED_MODULE_1___default.a.Fragment;const App_context=_bext_vpn_ui_context_js__WEBPACK_IMPORTED_MODULE_16__["a"].App_context;const E={};const assign=Object.assign,ms=_util_date_js__WEBPACK_IMPORTED_MODULE_7___default.a.ms,CG=_bext_pub_util_js__WEBPACK_IMPORTED_MODULE_11___default.a.CG;const T=_bext_vpn_ui_ui_lib_js__WEBPACK_IMPORTED_MODULE_12__["a"].T,Country_button=_bext_vpn_ui_ui_lib_js__WEBPACK_IMPORTED_MODULE_12__["a"].Country_button,Country_menu=_bext_vpn_ui_ui_lib_js__WEBPACK_IMPORTED_MODULE_12__["a"].Country_menu,Country_flag=_bext_vpn_ui_ui_lib_js__WEBPACK_IMPORTED_MODULE_12__["a"].Country_flag,Site_icon=_bext_vpn_ui_ui_lib_js__WEBPACK_IMPORTED_MODULE_12__["a"].Site_icon,Dots=_bext_vpn_ui_ui_lib_js__WEBPACK_IMPORTED_MODULE_12__["a"].Dots,Working_button=_bext_vpn_ui_ui_lib_js__WEBPACK_IMPORTED_MODULE_12__["a"].Working_button,Tooltip=_bext_vpn_ui_ui_lib_js__WEBPACK_IMPORTED_MODULE_12__["a"].Tooltip,Timer=_bext_vpn_ui_ui_lib_js__WEBPACK_IMPORTED_MODULE_12__["a"].Timer,Btn=_bext_vpn_ui_ui_lib_js__WEBPACK_IMPORTED_MODULE_12__["a"].Btn,Close_tooltip=_bext_vpn_ui_ui_lib_js__WEBPACK_IMPORTED_MODULE_12__["a"].Close_tooltip,Menu_items=_bext_vpn_ui_ui_lib_js__WEBPACK_IMPORTED_MODULE_12__["a"].Menu_items,Menu_item=_bext_vpn_ui_ui_lib_js__WEBPACK_IMPORTED_MODULE_12__["a"].Menu_item;const Slides_switch=_svc_vpn_pub_common_ui_js__WEBPACK_IMPORTED_MODULE_14___default.a.Slides_switch;_bext_vpn_util_util_js__WEBPACK_IMPORTED_MODULE_13___default.a.assert_ui("be_watermark_popup");const top_url=_util_util_js__WEBPACK_IMPORTED_MODULE_4___default.a.get(window,"hola.tpopup_opt.url");const tpopup_mode=_bext_vpn_util_util_js__WEBPACK_IMPORTED_MODULE_13___default.a.get_tpopup_mode();const root_url=_svc_vpn_pub_util_js__WEBPACK_IMPORTED_MODULE_10___default.a.get_root_url(top_url);const flag_cls=c=>"flag "+(c||"").toLowerCase();const get_rule=()=>{let rules=_bext_vpn_util_util_js__WEBPACK_IMPORTED_MODULE_13___default.a.get_rules(_bext_vpn_ui_ui_api_js__WEBPACK_IMPORTED_MODULE_15__["a"].get_rules(),top_url);return rules&&rules[0]||null};const perr=(id,info,new_name,opt)=>{info=assign({url:top_url,root_url:root_url},info);const rule=get_rule();if(rule&&rule.enabled)info.proxy_country=rule.country;if(navigator&&!navigator.cookieEnabled)info.cookie_blocked=true;_bext_vpn_ui_ui_api_js__WEBPACK_IMPORTED_MODULE_15__["a"].perr(id,info,opt,new_name!==false)};const pref_perr=({prefix:prefix,is_mitm:is_mitm},mitm_pref)=>(id,info)=>{prefix=prefix||(is_mitm?mitm_pref||"mitm":"geo");perr(`${prefix}_${id}`,info)};const start_trial=country=>_util_etask_js__WEBPACK_IMPORTED_MODULE_6___default()((function*(){try{let trial=(yield _bext_vpn_ui_ui_api_js__WEBPACK_IMPORTED_MODULE_15__["a"].get_trial_active(root_url,country))||(yield _bext_vpn_ui_ui_api_js__WEBPACK_IMPORTED_MODULE_15__["a"].set_trial(root_url,country));yield _bext_vpn_ui_ui_api_js__WEBPACK_IMPORTED_MODULE_15__["a"].set_site_storage(root_url,"trial",{country:country,dont_show_ended:false});return trial}catch(e){let err=e.toString();if(err.includes("trial_forbidden_domain")){_bext_vpn_ui_ui_api_js__WEBPACK_IMPORTED_MODULE_15__["a"].force_bext_config_update(true);perr("geo_suggestion_start_trial_err_disabled",{country:country})}else perr("geo_suggestion_start_trial_err",{country:country,err:err});throw e}}));let size_synced;const set_iframe_pos=opt=>{let _opt={width:`${opt.width}px`,height:`${opt.height}px`,fade:!!opt.fade,animate:size_synced&&opt.animate,animation_time:opt.animation_time};_opt.left=_opt.right=_opt.top=_opt.bottom="auto";let pos=opt.position.split("_");_opt[pos[0]]=(opt["margin_"+pos[0]]||0)+"px";_opt[pos[1]]=(opt["margin_"+pos[1]]||0)+"px";size_synced=true;return resize_iframe(_opt)};const wm_height=38,wm_radius=wm_height/2;const iframe_margin_right=15,wm_margin=[15,4,8,7];const maximize_iframe=()=>resize_iframe({width:"calc(100% - 15px)",height:"100%",top:0,left:0,bottom:0,right:iframe_margin_right+"px",fade:true});const resize_iframe=opt=>{if(tpopup_mode=="window")return;return _bext_vpn_ui_ui_api_js__WEBPACK_IMPORTED_MODULE_15__["a"].resize_tpopup(opt)};const WATERMARK="watermark",SUGGESTION="suggestion";const SUBSCRIBE="subscribe",PROXY_ERROR="proxy_error";const COUNTRY_MENU="country_menu";const Wm_tooltip_menu=({el:el,position:position,on_click:on_click,on_hide:on_hide})=>{const pos=position.split("_");return react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement(Tooltip,{className:"wm-tooltip-menu",el:el,show_on_init:true,hide_on_click:false,hide_on_el_click:false,on_hide:on_hide,on_click:()=>{},position:pos[0]=="bottom"?"top":"bottom",r_align:pos[1]=="right",margin:4,width:190,show_delay:50,hide_delay:50},react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement(Menu_items,null,react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement(Menu_item,{href:"https://hola.org/cp",icon:"profile",text:"My account"}),react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement(Menu_item,{href:"https://hola.org/cp/settings",icon:"settings",text:"My settings"}),react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement(Menu_item,{href:"https://hola.org/support",icon:"support",text:"Help"})))};const Watermark_logo=({on_click:on_click,show_menu:show_menu,set_show_menu:set_show_menu,position:position,country:country})=>{const ref=useRef();const _useContext=useContext(App_context),trial=_useContext.trial,is_premium=_useContext.is_premium;const trial_left=_bext_vpn_ui_ui_lib_js__WEBPACK_IMPORTED_MODULE_12__["a"].use_trial_left(trial);let period=_bext_pub_util_js__WEBPACK_IMPORTED_MODULE_11___default.a.get_site_conf(root_url,"trial.period")||_bext_pub_util_js__WEBPACK_IMPORTED_MODULE_11___default.a.get_country_conf(country,"trial.period");let stop1,stop2;if(!is_premium&&period){let x=trial&&period?trial_left/period:1;stop1=Math.ceil(100*Math.max(.6*x*x+.4*x,0))+"%";stop2=Math.ceil(100*Math.min(-.6*x*x+1.6*x,1))+"%"}else stop1=stop2="100%";return react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement("div",{className:"watermark-logo",onClick:on_click,ref:ref},react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement("svg",{width:"0",height:"0"},react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement("defs",null,react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement("linearGradient",{id:"flame-gradient",x1:"0",y1:"0",x2:"0",y2:"1"},react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement("stop",{offset:"0%",stopColor:"#a3b5ca"}),react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement("stop",{offset:stop1,stopColor:"#a3b5ca"}),react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement("stop",{offset:stop2,stopColor:"#ff6400"}),react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement("stop",{offset:"100%",stopColor:"#ff6400"})))),react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement(react_flip_toolkit__WEBPACK_IMPORTED_MODULE_3__["a"],{flipId:"logo1",stagger:true},react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement("div",{className:"watermark-logo-flame"},react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement(_img_flame_gray_svg__WEBPACK_IMPORTED_MODULE_18___default.a,null))),react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement(react_flip_toolkit__WEBPACK_IMPORTED_MODULE_3__["a"],{flipId:"logo2",stagger:true},react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement("div",{className:"watermark-logo-hola"},react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement(_img_hola_gray_svg__WEBPACK_IMPORTED_MODULE_17___default.a,null))),show_menu&&react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement(Wm_tooltip_menu,{el:ref.current,position:position,on_hide:()=>set_show_menu(false)}))};const Modal_header=({title:title,back_click:back_click,login_click:login_click,close_click:close_click})=>{const on_logo_click=()=>_bext_vpn_ui_ui_api_js__WEBPACK_IMPORTED_MODULE_15__["a"].open_page("https://hola.org?utm_source=holaext");return react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement("div",{className:"modal-header"},back_click&&react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement(react_flip_toolkit__WEBPACK_IMPORTED_MODULE_3__["a"],{inverseFlipId:"modal_flip",scale:true},react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement("div",{className:"modal-header-back",onClick:back_click},react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement(_img_left_svg__WEBPACK_IMPORTED_MODULE_21___default.a,null))),react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement(react_flip_toolkit__WEBPACK_IMPORTED_MODULE_3__["a"],{inverseFlipId:"modal_flip",scale:true},react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement("div",{className:"modal-header-logo",onClick:on_logo_click})),!!login_click&&react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement(react_flip_toolkit__WEBPACK_IMPORTED_MODULE_3__["a"],{inverseFlipId:"modal_flip",scale:true},react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement("a",{className:"modal-header-sign-in",onClick:login_click},react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement(T,null,"Sign in"))),title&&react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement(react_flip_toolkit__WEBPACK_IMPORTED_MODULE_3__["a"],{inverseFlipId:"modal_flip",scale:true},react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement("div",{className:"modal-header-title"},title)),react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement(react_flip_toolkit__WEBPACK_IMPORTED_MODULE_3__["a"],{inverseFlipId:"modal_flip",scale:true},react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement("div",{className:"modal-header-close",onClick:close_click},react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement(_img_x_svg__WEBPACK_IMPORTED_MODULE_20___default.a,null))))};const get_plans=for_trial=>{let plan_ids=for_trial?CG("payment.trial_plan_ids",["3y","1y","1m"]):CG("payment.watermark_plan_ids",["3y","1y","1m"]);let all_plans=CG("payment.all_plans",[{period:"1 M",id:"1m",price:11.95},{period:"1 Y",id:"1y",price:83.88}]);return _svc_vpn_pub_common_ui_js__WEBPACK_IMPORTED_MODULE_14___default.a.fill_plans_info(plan_ids,all_plans)};const get_plan_url=(plan,ref)=>_bext_vpn_ui_ui_api_js__WEBPACK_IMPORTED_MODULE_15__["a"].plus_ref(ref,{plan_id:plan.id,root_url:root_url});const Subscribe=props=>{const slide=props.slide,is_mitm=props.is_mitm,force_flip=props.force_flip,close_cb=props.close_cb,set_slide=props.set_slide;const src=props.src||(is_mitm?"mitm_popup":"watermark");const _perr=(id,info)=>pref_perr(props)(`subscribe_${id}`,info);const _useState=useState(slide),_useState2=_slicedToArray(_useState,2),curr_slide=_useState2[0],set_curr_slide=_useState2[1];const on_slide_exit=()=>{set_curr_slide(slide);force_flip()};const close_click=()=>{_perr("close");close_cb()};const login_click=()=>{_bext_vpn_ui_ui_api_js__WEBPACK_IMPORTED_MODULE_15__["a"].login("subscribe",false);_perr("login")};const back_click=slide=="choose_plan"&&src!="watermark_banner"&&(()=>set_slide("remove_popup"));const upgrade_click=()=>{_perr("hide_popup");set_slide("choose_plan")};const ref=useRef();_bext_vpn_ui_ui_lib_js__WEBPACK_IMPORTED_MODULE_12__["a"].on_outside_click(ref,close_cb);useEffect(()=>{_perr("show");_bext_vpn_ui_ui_api_js__WEBPACK_IMPORTED_MODULE_15__["a"].pause_videos(_bext_vpn_ui_ui_api_js__WEBPACK_IMPORTED_MODULE_15__["a"].get_connection_id());return()=>_bext_vpn_ui_ui_api_js__WEBPACK_IMPORTED_MODULE_15__["a"].resume_videos(_bext_vpn_ui_ui_api_js__WEBPACK_IMPORTED_MODULE_15__["a"].get_connection_id())},[]);const _useState3=useState(false),_useState4=_slicedToArray(_useState3,2),sliding=_useState4[0],set_sliding=_useState4[1];let cls=`modal-dialog modal-subscribe modal-${curr_slide}`;return react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement(react_flip_toolkit__WEBPACK_IMPORTED_MODULE_3__["a"],{flipId:"modal_flip"},react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement("div",{ref:ref,className:cls,style:{pointerEvents:sliding?"none":"auto"}},react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement(Modal_header,{back_click:back_click,login_click:!_bext_vpn_ui_ui_api_js__WEBPACK_IMPORTED_MODULE_15__["a"].get_user_id()&&login_click,close_click:close_click}),react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement(Slides_switch,{slide:slide,exited_cb:on_slide_exit,exiting_cb:()=>set_sliding(true),entered_cb:()=>set_sliding(false)},react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement(Remove_popup_body,{key:"remove_popup",upgrade_click:upgrade_click}),react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement(Choose_plan_body,{key:"choose_plan",src:src,src_ref:props.src_ref}))))};const Remove_popup_body=({upgrade_click:upgrade_click})=>{const link_click=()=>_bext_vpn_ui_ui_api_js__WEBPACK_IMPORTED_MODULE_15__["a"].open_plus_page(root_url,"remove_popup");return react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement("div",{className:"modal-body remove-popup-body"},react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement("div",{className:"modal-body-title"},react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement(T,null,"To remove the popup, upgrade to Hola ",react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement("a",{onClick:link_click},"PLUS")," and get ",react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement("a",{onClick:link_click},"unlimited online privacy with no interruptions"))),react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement("div",{className:"remove-wm"},react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement("img",{src:"./bext/vpn/ui/img/watermark.svg",className:"remove-wm-image"}),react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement("img",{src:"./bext/vpn/ui/img/cursor.svg",className:"remove-wm-cursor"})),react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement(Btn,{onClick:upgrade_click},react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement(T,null,"Upgrade now!")))};let canvas;const get_text_width=(text,font)=>{if(!text)return 0;canvas=canvas||document.createElement("canvas");let context=canvas.getContext("2d");context.font=font;let metrics=context.measureText(text);return Math.ceil(metrics.width)};const get_font_size=(text,style,max_width)=>{let font_size=parseInt(style.fontSize,10);let width=get_text_width(text,`${style.fontWeight} ${style.fontSize} ${style.fontFamily}`);return width>max_width?Math.floor(font_size*max_width/width):font_size};const Month_price=({prefix:prefix,month_price:month_price,max_width:max_width})=>{let style={fontWeight:"bold",fontSize:"32px",fontFamily:"Montserrat"};let text=prefix+month_price.toFixed(2);style.fontSize=get_font_size(text,style,max_width);return react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement("div",{className:"month-price",style:style},text)};const Full_price=({prefix:prefix,price:price,month_price:month_price,regular_price:regular_price,max_width:max_width})=>{if(!regular_price||regular_price==price)return null;let style={fontWeight:"500",fontSize:"12px",fontFamily:"Montserrat"};let regular_text=prefix+regular_price.toFixed(2);let actual_text=prefix+price.toFixed(2);style.fontSize=get_font_size(regular_text+" "+actual_text,style,max_width);return react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement("div",{className:"full-price",style:style},react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement("span",{className:"regular-price"},regular_text)," ",actual_text)};const Plan=({src_country:src_country,plan:plan,on_click:on_click,best:best})=>{let cls=classnames__WEBPACK_IMPORTED_MODULE_2___default()("plan-btn",{"best-plan":best});let period_name={D:"day",M:"month",Y:"year"}[plan.period_type];let name=`${plan.period_count} ${_util_string_js__WEBPACK_IMPORTED_MODULE_8___default.a.capitalize(period_name)}`;if(plan.period_count>1)name+="s";let price=plan.price,month_price=plan.month_price,regular_price=plan.regular_price;let prefix="$";let user_currency=(_util_country_js__WEBPACK_IMPORTED_MODULE_9___default.a.code2currency(src_country)||"").toLowerCase();let local_price=user_currency&&plan.currency&&plan.currency[user_currency];if(local_price&&local_price.price&&local_price.month_price){price=local_price.price;month_price=local_price.month_price;regular_price=local_price.regular_price;prefix=_util_country_js__WEBPACK_IMPORTED_MODULE_9___default.a.currency2prefix(user_currency).toUpperCase()}let max_width=160;return react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement("div",{className:cls,onClick:()=>on_click(plan)},best&&react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement("div",{className:"best-badge"},react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement(T,null,"Best Value")),react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement("div",{className:"plan-name"},react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement(T,null,name)),react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement(Month_price,{prefix:prefix,month_price:month_price,max_width:max_width}),react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement("div",{className:"per"},react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement(T,null,"per month")),react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement(Full_price,{prefix:prefix,price:price,month_price:month_price,regular_price:regular_price,max_width:max_width}),react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement(Btn,{light:!best},react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement(T,null,"Upgrade")))};const Plan_feature=({parent_el:parent_el,on_click:on_click,name:name,text:text,tp_text:tp_text})=>{const ref=useRef();const on_tp_click=e=>{e.stopPropagation();on_click()};return react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement("div",{ref:ref,className:"plan-feature",onClick:on_click},react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement("div",{className:classnames__WEBPACK_IMPORTED_MODULE_2___default()("plan-feature-img",name)}),text,react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement(Tooltip,{el:ref.current,boundary_el:parent_el,position:"top",on_click:on_tp_click,width:392,className:"plan-feature-tooltip"},tp_text))};const Choose_plan_body=({src:src,src_ref:src_ref})=>{const _useContext2=useContext(App_context),trial=_useContext2.trial,src_country=_useContext2.src_country;const body_ref=useRef();useEffect(()=>{perr(src=="trial"?"geo_trial_choose_plan_show":"geo_choose_plan_show")},[]);const _on_click=plan=>{_bext_vpn_ui_ui_api_js__WEBPACK_IMPORTED_MODULE_15__["a"].open_page(get_plan_url(plan,ref));let id=src!="trial"?"geo_subscribe_plan_click":trial?"geo_trial_subscribe_plan_click":"geo_trial_ended_plan_click";perr(id,{plan:plan.id});if(src!="trial")return;trial_aj_event(trial,"select_plan_"+plan.id);_bext_vpn_ui_ui_api_js__WEBPACK_IMPORTED_MODULE_15__["a"].ga_send("checkout",{step:5,lab:"ext_trial"})};const plan_features=[{name:"plus_fast",text:react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement("span",null,react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement(T,null,"Access ",react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement("b",null,"6,394 fast",react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement("br",null),"servers")," worldwide")),tp_text:react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement("span",null,"With ",react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement("a",null,"Hola VPN PLUS")," you will have access to a vast amount of the ",react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement("b",null,"fastest servers")," to date, which will give you secure and continuous web browsing.",react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement("br",null),react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement("a",null,"GET IT NOW")," with our special 3y offer for $2.99/month.")},{name:"plus_unlimited",text:react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement("span",null,react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement(T,null,react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement("b",null,"Unlimited"),react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement("br",null),"Data")),tp_text:react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement("span",null,"With ",react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement("a",null,"Hola VPN PLUS")," you can rest assured that there are no ",react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement("b",null,"hidden or other extra charges and costs"),". It really is unlimited surfing!",react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement("br",null),react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement("a",null,"GET IT NOW with")," our special 3y offer for $2.99/month.")},{name:"plus_devices",text:react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement("span",null,react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement(T,null,"Connect ",react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement("b",null,"10 devices"),react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement("br",null),"at the same time")),tp_text:react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement("span",null,"With ",react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement("a",null,"Hola VPN PLUS")," you are safe!",react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement("br",null),"Your online privacy and anonymity are ",react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement("b",null,"protected from everybody")," - even from your VPN provider!",react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement("br",null),react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement("a",null,"GET IT NOW")," with our special 3y offer for $2.99/month.")},{name:"plus_no_logs",text:react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement("span",null,react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement(T,null,react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement("b",null,"No logs"),react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement("br",null),"policy")),tp_text:react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement("span",null,"With ",react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement("a",null,"Hola VPN PLUS")," you are covered. With just a single account, you get protection and browsing on up to ",react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement("b",null,"10 devices at the same time!")," There is no need to buy several separate plans - one is enough!",react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement("br",null),react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement("a",null,"GET IT NOW")," with our special 3y offer for $2.99/month.")},{name:"plus_security",text:react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement("span",null,react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement(T,null,"Best-in-class",react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement("br",null),"security & encryption")),tp_text:react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement("span",null,"With ",react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement("a",null,"Hola VPN PLUS")," you are protected!",react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement("br",null),"Hola VPN's unique technology gives you the ",react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement("b",null,"highest level of security and encryption")," on the market today. All your worries can be removed.",react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement("br",null),react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement("a",null,"GET IT NOW")," with our special 3y offer for $2.99/month.")}];let ref=(src_ref||src)+"_";if(src=="trial")ref+=trial?"remaining_":"ended_";ref+=root_url.replace(/\./g,"_");let plans=get_plans(src=="trial");let best=underscore__WEBPACK_IMPORTED_MODULE_0___default.a.max(plans,p=>p.price);return react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement("div",{ref:body_ref,className:"modal-body choose-plan-body"},react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement("div",{className:"choose-plan-title"},react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement(T,null,"Upgrade Your Plan")),react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement("div",{className:"choose-plan-subtitle"},react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement(T,null,react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement("span",null,"30 Day")," money back guarantee")),react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement("div",{className:"choose-plan-btns"},plans.map(plan=>react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement(Plan,{key:plan.period,src_country:src_country,plan:plan,best:best.id==plan.id,on_click:_on_click}))),react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement("div",{className:"choose-plan-footer-title"},react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement(T,null,"No Interruptions with Hola PLUS!")),react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement("div",{className:"choose-plan-features"},plan_features.map(f=>react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement(Plan_feature,_extends({key:f.name,on_click:()=>_on_click(best),parent_el:body_ref.current},f)))))};const Watermark_debug=({position:position,country:country})=>{const _useContext3=useContext(App_context),trial=_useContext3.trial;const _useState5=useState("00:15"),_useState6=_slicedToArray(_useState5,2),value=_useState6[0],set_value=_useState6[1];const pattern="\\d{1,2}:\\d{1,2}";const on_change=event=>set_value(event.target.value);const on_click=()=>{if(!value.match(pattern))return;let t=value.split(":");let time=t[0]*ms.MIN+t[1]*ms.SEC;_util_etask_js__WEBPACK_IMPORTED_MODULE_6___default()((function*(){try{yield _bext_vpn_ui_ui_api_js__WEBPACK_IMPORTED_MODULE_15__["a"].set_time_left(root_url,country,time)}catch(e){alert(e.toString())}}))};const on_close_click=()=>_bext_vpn_ui_ui_api_js__WEBPACK_IMPORTED_MODULE_15__["a"].set_dbg_conf("debug.watermark_trial",false);if(!trial)return null;const pos=position.split("_");const style=pos[1]=="right"?{left:"-122px"}:{right:"-120px"};return react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement("div",{className:"watermark-debug",style:style},react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement("input",{value:value,onChange:on_change,pattern:pattern}),react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement("button",{onClick:on_click},"set"),react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement("button",{className:"close",onClick:on_close_click}))};let skip_resize,first_wm_render=true;class Watermark extends react__WEBPACK_IMPORTED_MODULE_1___default.a.PureComponent{constructor(props){super(props);_defineProperty(this,"update_debug_conf",()=>{let _this=this;_util_etask_js__WEBPACK_IMPORTED_MODULE_6___default()((function*(){_this.setState({debug_trial:yield _bext_vpn_ui_ui_api_js__WEBPACK_IMPORTED_MODULE_15__["a"].get_dbg_conf("debug.watermark_trial")})}))});_defineProperty(this,"perr",(id,info)=>{pref_perr(this.props)(`watermark_${id}`,info)});_defineProperty(this,"logo_click",()=>{this.perr("click");this.setState({show_menu:!this.state.show_menu})});_defineProperty(this,"flag_click",()=>{this.perr("flag_click");this.props.flag_click()});_defineProperty(this,"fixup_mouse_event",e=>{let pos=this.props.position.split("_");let anchor={x:pos[1]=="right"?window.innerWidth:0,y:pos[0]=="bottom"?window.innerHeight:0};let x=e.clientX,y=e.clientY;let prev_mouse=this.prev_mouse,prev_anchor=this.prev_anchor;this.prev_mouse={x:x,y:y};if(prev_mouse&&prev_anchor&&(anchor.x!=prev_anchor.x&&e.movementX==x-prev_mouse.x||anchor.y!=prev_anchor.y&&e.movementY==y-prev_mouse.y)){x=x+anchor.x-prev_anchor.x;y=y+anchor.y-prev_anchor.y}else this.prev_anchor=anchor;return{x:x,y:y}});_defineProperty(this,"on_mouse_leave",()=>this.set_hover(false));_defineProperty(this,"on_body_mouse_move",e=>{if(!this.el||this.props.flipping)return;let wtm=document.querySelector(".wm-tooltip-menu");let wtma=document.querySelector(".wm-tooltip-menu .tooltip-arrow");let cp=document.querySelector(".close-tooltip");let cpa=document.querySelector(".close-tooltip .tooltip-arrow");let wbw=document.querySelector(".tooltip-banner-wrapper");if(_bext_vpn_ui_ui_lib_js__WEBPACK_IMPORTED_MODULE_12__["a"].is_mouse_over(wtm,e)||_bext_vpn_ui_ui_lib_js__WEBPACK_IMPORTED_MODULE_12__["a"].is_mouse_over(wtma,e))return;if(_bext_vpn_ui_ui_lib_js__WEBPACK_IMPORTED_MODULE_12__["a"].is_mouse_over(cp,e)||_bext_vpn_ui_ui_lib_js__WEBPACK_IMPORTED_MODULE_12__["a"].is_mouse_over(cpa,e)||_bext_vpn_ui_ui_lib_js__WEBPACK_IMPORTED_MODULE_12__["a"].is_mouse_over(wbw,e)){return void this.set_hover(true)}let pos=this.props.position.split("_");let _this$fixup_mouse_eve=this.fixup_mouse_event(e),x=_this$fixup_mouse_eve.x,y=_this$fixup_mouse_eve.y;let _this$el$getBoundingC=this.el.getBoundingClientRect(),left=_this$el$getBoundingC.left,right=_this$el$getBoundingC.right,top=_this$el$getBoundingC.top,bottom=_this$el$getBoundingC.bottom;if(this.state.hover){let d=this.state.debug_trial&&this.props.trial?120:80;if(pos[1]=="right")left-=d;else right+=d}let sqr=v=>v*v;let r=wm_radius,r2=sqr(r),hover;if(x>right-r&&y>bottom-r)hover=sqr(x-right+r)+sqr(y-bottom+r)<=r2;else if(x>right-r&&y<top+r)hover=sqr(x-right+r)+sqr(top+r-y)<=r2;else if(x<left+r&&y>bottom-r)hover=sqr(left+r-x)+sqr(y-bottom+r)<=r2;else if(x<left+r&&y<top+r)hover=sqr(left+r-x)+sqr(top+r-y)<=r2;else hover=x>=left&&x<=right&&y>=top&&y<=bottom;this.set_hover(hover)});_defineProperty(this,"set_hover",hover=>{if(this.state.hover!=hover)this.setState({hover:hover,entrance:false,entered:true})});_defineProperty(this,"on_flip_completed",()=>{if(!this.state.entered)this.setState({entered:true})});let need_entrance_anim=first_wm_render&&!props.flipping;this.state={hover:false,open:false,show_menu:false,entrance:need_entrance_anim,entered:!need_entrance_anim,debug_trial:false};first_wm_render=false}componentDidMount(){this.perr("show");_bext_vpn_ui_ui_api_js__WEBPACK_IMPORTED_MODULE_15__["a"].on("mouseleave",this.on_mouse_leave);document.body&&document.body.addEventListener("mousemove",this.on_body_mouse_move);_bext_vpn_ui_ui_api_js__WEBPACK_IMPORTED_MODULE_15__["a"].on("storage_debug_change",this.update_debug_conf);this.sync_size();this.update_debug_conf();_bext_vpn_util_util_js__WEBPACK_IMPORTED_MODULE_13___default.a.set_timeout(()=>this.setState({entrance:false}),500)}componentWillUnmount(){_bext_vpn_ui_ui_api_js__WEBPACK_IMPORTED_MODULE_15__["a"].off("mouseleave",this.on_mouse_leave);document.body&&document.body.removeEventListener("mousemove",this.on_body_mouse_move);_bext_vpn_ui_ui_api_js__WEBPACK_IMPORTED_MODULE_15__["a"].off("storage_debug_change",this.update_debug_conf);if(this.sync_size_et)this.sync_size_et.return()}componentDidUpdate(prev_props,prev_state){let trial_changed=this.props.trial!=prev_props.trial;let position_changed=this.props.position!=prev_props.position;let hover_changed=this.state.hover!=prev_state.hover;let entered_changed=this.state.entered!=prev_state.entered;let menu_changed=this.state.show_menu!=prev_state.show_menu;let size_changed=hover_changed||trial_changed||entered_changed||menu_changed;if(position_changed||size_changed||prev_props.flipping&&!this.props.flipping){this.sync_size(position_changed,size_changed)}if(position_changed)this.setState({hover:false})}get_size(open,arrow_anim){let width=80;let height=wm_height;if(this.need_trial_timer())width+=93;if(!arrow_anim&&open)width+=414;return{width:width,height:height}}get_iframe_size(open,arrow_anim){let _this$get_size=this.get_size(open),width=_this$get_size.width,height=_this$get_size.height;let inc_x=0,inc_y=0;if(!this.state.entered)inc_x+=50;if(!arrow_anim&&this.state.debug_trial&&this.props.trial)inc_x+=115;if(!arrow_anim&&open&&this.need_banner())inc_y+=this.get_banner_height();if(!arrow_anim&&open){inc_x=Math.max(inc_x,60);inc_y=Math.max(inc_y,150)}if(!arrow_anim&&this.state.show_menu){inc_x=Math.max(inc_x,150);inc_y=Math.max(inc_y,160)}return{width:width+inc_x+50,height:height+inc_y+24}}sync_size(position_changed,size_changed){let _this=this;if(this.props.flipping)return void this.setState({open:this.state.hover});if(skip_resize)return;if(this.sync_size_et)this.sync_size_et.return();_util_etask_js__WEBPACK_IMPORTED_MODULE_6___default()({cancel:true},(function*(){_this.sync_size_et=this;this.finally(()=>{_this.sync_size_et=null});let prev_open=_this.state.open;let open=_this.state.hover;let iframe_opt=assign({},_this.get_iframe_size(open),{margin_right:iframe_margin_right,animate:!size_changed&&position_changed,animation_time:300,position:_this.props.position});if(size_changed&&open){yield set_iframe_pos(iframe_opt);yield _util_etask_js__WEBPACK_IMPORTED_MODULE_6___default.a.sleep(20);_this.setState({open:open})}else{if(prev_open!=open){_this.setState({open:open});if(size_changed)yield _util_etask_js__WEBPACK_IMPORTED_MODULE_6___default.a.sleep(300)}yield set_iframe_pos(iframe_opt)}}))}need_trial_timer(){return!!this.props.trial&&!_bext_pub_util_js__WEBPACK_IMPORTED_MODULE_11___default.a.get_site_conf(root_url,"trial.hide_timer")&&!_bext_pub_util_js__WEBPACK_IMPORTED_MODULE_11___default.a.get_country_conf(this.props.country,"trial.hide_timer")}need_banner(){return!!this.get_banner_type()}get_banner_type(){let c=CG("geo_popup.watermark.banner")||{};if(this.context.is_premium||!_bext_pub_util_js__WEBPACK_IMPORTED_MODULE_11___default.a.check_min_ver(c.min_ver))return;let h=(new Date).getHours();return h%2==0?"privacy":"fast_server"}get_banner_height(){let map={trial:171,fast_server:191,privacy:319};return map[this.get_banner_type()]}render(){const _this$context=this.context,src_country=_this$context.src_country,ip=_this$context.ip;const _this$state=this.state,open=_this$state.open,hover=_this$state.hover,show_menu=_this$state.show_menu,debug_trial=_this$state.debug_trial,entrance=_this$state.entrance,entered=_this$state.entered;const _ref=!entrance?this.get_size(open):{width:wm_height,height:wm_height},width=_ref.width,height=_ref.height;const _this$props=this.props,is_mitm=_this$props.is_mitm,country=_this$props.country,trial_timer_click_cb=_this$props.trial_timer_click_cb,trial_timer_end_cb=_this$props.trial_timer_end_cb,can_close=_this$props.can_close,close_cb=_this$props.close_cb,banner_click_cb=_this$props.banner_click_cb,position=_this$props.position,set_position=_this$props.set_position,flipping=_this$props.flipping,trial=_this$props.trial;const show_timer=this.need_trial_timer();const style={width:width+"px",height:height+"px"};style.margin=wm_margin.map(m=>m+"px").join(" ");const pos=position.split("_");const cls=classnames__WEBPACK_IMPORTED_MODULE_2___default()("watermark","pos-"+pos[0],"pos-"+pos[1],{open:open,entrance:entrance});const flip_key=entrance?"entrance":open?"open":"";const spring=entered?{stiffness:480,damping:32}:{stiffness:180,damping:10};return react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement(react_flip_toolkit__WEBPACK_IMPORTED_MODULE_3__["b"],{flipKey:flip_key,spring:spring,applyTransformOrigin:false,decisionData:{open:hover,entered:entered},onComplete:this.on_flip_completed,staggerConfig:{default:{reverse:!hover,speed:.99}}},react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement(react_flip_toolkit__WEBPACK_IMPORTED_MODULE_3__["a"],{flipId:"modal_flip",shouldFlip:()=>flipping},react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement("div",{className:cls,style:style,ref:el=>this.el=el},!flipping&&react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement(Watermark_logo,{on_click:this.logo_click,position:position,country:country,set_show_menu:v=>this.setState({show_menu:v}),show_menu:show_menu}),react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement(Watermark_bg,{position:position}),react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement(react_flip_toolkit__WEBPACK_IMPORTED_MODULE_3__["a"],{inverseFlipId:"modal_flip",scale:true},react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement("div",{className:"watermark-body"},react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement("div",{className:"watermark-collapsible"},react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement(Arrows,{position:position,iframe_size:this.get_iframe_size(open,true),watermark_size:this.get_size(open,true),perr_cb:this.perr,position_cb:set_position}),react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement(Wm_flipped,{flipId:"sep1",stagger:true},react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement("div",{className:"watermark-separator"})),react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement(Watermark_body,{open:open}),react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement(Wm_flipped,{flipId:"sep2",stagger:true},react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement("div",{className:"watermark-separator"}))),react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement(Flag,{is_mitm:is_mitm,country:country,on_click:this.flag_click}),show_timer&&react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement(_bext_vpn_ui_ui_lib_js__WEBPACK_IMPORTED_MODULE_12__["a"].Trial_timer,{trial:trial,on_click:trial_timer_click_cb,on_end:trial_timer_end_cb}),react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement(Wm_close,{open:open,position:position,can_close:can_close,perr_cb:this.perr,close_cb:close_cb}),debug_trial&&open&&react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement(Watermark_debug,{position:position,country:country}),this.need_banner()&&open&&react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement(Watermark_banner,{perr_prefix:"watermark_banner",src_country:src_country,ip:ip,type:this.get_banner_type(),on_click:banner_click_cb}))))))}}_defineProperty(Watermark,"contextType",App_context);const Wm_country_menu=({on_close:on_close,on_change_country:on_change_country,position:position})=>{const _useContext4=useContext(App_context),rule=_useContext4.rule,src_country=_useContext4.src_country,is_premium=_useContext4.is_premium;const ref=useRef();const pop=_bext_vpn_ui_ui_lib_js__WEBPACK_IMPORTED_MODULE_12__["a"].use_popular_countries({root_url:root_url,src_country:src_country,rule:rule});const countries=_bext_vpn_ui_ui_api_js__WEBPACK_IMPORTED_MODULE_15__["a"].get_all_countries(rule&&rule.protect);_bext_vpn_ui_ui_lib_js__WEBPACK_IMPORTED_MODULE_12__["a"].on_outside_click(ref,()=>on_close());useEffect(()=>void _bext_vpn_ui_ui_api_js__WEBPACK_IMPORTED_MODULE_15__["a"].perr("watermark_country_menu_show"),[]);const on_click=opt=>{_bext_vpn_ui_ui_api_js__WEBPACK_IMPORTED_MODULE_15__["a"].perr("watermark_country_menu_click",_objectSpread({root_url:root_url},opt),{},true);on_change_country(opt)};const pos=position.split("_");const cls=classnames__WEBPACK_IMPORTED_MODULE_2___default()("wm-country-menu","pos-"+pos[0],"pos-"+pos[1]);let style={margin:wm_margin.map(m=>m+"px").join(" ")};return react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement(react_flip_toolkit__WEBPACK_IMPORTED_MODULE_3__["a"],{flipId:"modal_flip"},react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement("div",{ref:ref,className:cls,style:style},react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement(Country_menu,{pop_countries:pop,countries:countries,on_click:on_click,on_close:on_close,show_stop:true,inline:true,is_premium:is_premium})))};const Watermark_banner=({type:type,on_click:on_click,src_country:src_country,ip:ip})=>{const _useState7=useState(false),_useState8=_slicedToArray(_useState7,2),visible=_useState8[0],set_visible=_useState8[1];useEffect(()=>{_bext_vpn_ui_ui_api_js__WEBPACK_IMPORTED_MODULE_15__["a"].perr("watermark_banner_show",{type:type,root_url:root_url},{rate_limit:{count:1}},true);const t=_bext_vpn_util_util_js__WEBPACK_IMPORTED_MODULE_13___default.a.set_timeout(()=>set_visible(true));return()=>_bext_vpn_util_util_js__WEBPACK_IMPORTED_MODULE_13___default.a.clear_timeout(t)},[]);const handle_click=()=>{_bext_vpn_ui_ui_api_js__WEBPACK_IMPORTED_MODULE_15__["a"].perr("watermark_banner_click",{type:type,root_url:root_url},{},true);on_click(type)};const cls=classnames__WEBPACK_IMPORTED_MODULE_2___default()("tooltip-banner-wrapper","tooltip-banner-"+type,visible&&"tooltip-banner-visible");let style={};return react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement("div",{className:cls,style:style},react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement("div",{className:"tooltip-banner",onClick:handle_click},type=="privacy"&&react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement("div",{className:"tooltip-banner-img-glow"}),react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement("div",{className:"tooltip-banner-img"}),react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement("div",{className:"tooltip-banner-text"},type=="fast_server"&&react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement(T,null,"Upgrade to PLUS",react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement("br",null),"for VPN without limits"),type=="privacy"&&react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement(Fragment,null,react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement("p",{className:"tooltip-banner-status"},react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement(T,null,"Your status:")," ",react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement("span",null," ",react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement(T,null,"UNPROTECTED"))),react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement("p",{className:"tooltip-banner-location"},react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement(T,null,"Location:")," ",react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement("b",null,react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement(T,null,src_country)),react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement("br",null),react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement(T,null,"IP:")," ",react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement("b",null,ip),react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement("br",null)),react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement("p",{className:"tooltip-banner-upgrade"},react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement(T,null,react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement("span",null,"Upgrade to PLUS")," to hide your identity and encrypt all your traffic")))),react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement(Btn,null,react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement(T,null,"Upgrade")),react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement("div",{className:"tooltip-banner-arrow"})))};const Wm_flipped=props=>{const on_start=el=>el.style.transitionDuration="initial";const on_complete=el=>el.style.transitionDuration="";return react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement(react_flip_toolkit__WEBPACK_IMPORTED_MODULE_3__["a"],_extends({onStartImmediate:on_start,onComplete:on_complete,shouldFlip:opt=>opt.open},props),props.children)};const Watermark_bg=({position:position})=>{let r=wm_radius+"px";let right=position.endsWith("_right");let style={clipPath:right?`inset(0 0 0 -100vw round 0 ${r} ${r} 0)`:`inset(0 -100vw 0 0 round ${r} 0 0 ${r})`};let inner_style={borderRadius:right?`${r} 0 0 ${r}`:`0 ${r} ${r} 0`};return react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement("div",{className:"watermark-bg-wrapper"},react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement("div",{className:"watermark-bg",style:style},react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement(react_flip_toolkit__WEBPACK_IMPORTED_MODULE_3__["a"],{flipId:"wm_bg",stagger:true},react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement("div",{className:"watermark-bg-inner",style:inner_style}))))};const Flag=({is_mitm:is_mitm,on_click:on_click,country:country})=>react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement(react_flip_toolkit__WEBPACK_IMPORTED_MODULE_3__["a"],{flipId:"flag",shouldFlip:opt=>!opt.entered},react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement(Country_flag,{country:country,mitm:is_mitm,size:32,onClick:on_click}));const Wm_close=({position:position,open:open,perr_cb:perr_cb,close_cb:close_cb,can_close:can_close})=>{const _useState9=useState(false),_useState10=_slicedToArray(_useState9,2),show_hint=_useState10[0],set_show_hint=_useState10[1];useEffect(()=>{if(!open&&show_hint)set_show_hint(false)},[open]);const ref=useRef();const close_click=()=>{if(!can_close){perr_cb("close");close_cb();return}if(show_hint)hint_click(root_url);else void set_show_hint(true)};const hint_click=url=>{perr_cb("close");close_cb({root_url:url})};const pos=position.split("_");return react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement(Fragment,null,react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement("div",{className:"wm-close",onClick:close_click,ref:ref}),open&&show_hint&&react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement(Close_tooltip,{root_url:root_url,className:"wm-close-tooltip",position:pos[0]=="bottom"?"top":"bottom",width:280,margin:4,show_on_init:true,close_btn:ref.current,period:_bext_pub_util_js__WEBPACK_IMPORTED_MODULE_11___default.a.get_dont_show_def_period(),on_click:hint_click,on_hide:()=>set_show_hint(false)}))};const Arrows=({position:position,position_cb:position_cb,iframe_size:iframe_size,watermark_size:watermark_size,perr_cb:perr_cb})=>{const _useState11=useState(null),_useState12=_slicedToArray(_useState11,2),hover=_useState12[0],set_hover=_useState12[1];useEffect(()=>{if(!hover)return void _bext_vpn_ui_ui_api_js__WEBPACK_IMPORTED_MODULE_15__["a"].hide_arrow_anim(_bext_vpn_ui_ui_api_js__WEBPACK_IMPORTED_MODULE_15__["a"].get_connection_id());const width=iframe_size.width,height=iframe_size.height;let direction,logo_pos,css={};if(hover=="up-down"){css.height=`calc(100% - ${height}px)`;css.width=`${width}px`;css[pos[0]]=`${height}px`;css[pos[1]]=pos[1]=="right"?"15px":"0";direction=pos[0]=="top"?"down":"up";logo_pos=pos[1]=="right"?"left":"right"}else{css.width=`calc(100% - ${width}px)`;css.height=`${height}px`;css[pos[1]]=`${width}px`;css[pos[0]]="0";direction=pos[1]=="right"?"left":"right";logo_pos=pos[1]}_bext_vpn_ui_ui_api_js__WEBPACK_IMPORTED_MODULE_15__["a"].show_arrow_anim(_bext_vpn_ui_ui_api_js__WEBPACK_IMPORTED_MODULE_15__["a"].get_connection_id(),{css:css,direction:direction,logo_pos:logo_pos,size:watermark_size});return()=>_bext_vpn_ui_ui_api_js__WEBPACK_IMPORTED_MODULE_15__["a"].hide_arrow_anim(_bext_vpn_ui_ui_api_js__WEBPACK_IMPORTED_MODULE_15__["a"].get_connection_id())},[hover]);const pos=position.split("_");const listeners={onClick:({currentTarget:el})=>{let new_pos;if(el.classList.contains("arrow-left"))new_pos=`${pos[0]}_left`;else if(el.classList.contains("arrow-right"))new_pos=`${pos[0]}_right`;else if(el.classList.contains("arrow-down"))new_pos=`bottom_${pos[1]}`;else new_pos=`top_${pos[1]}`;position_cb(new_pos);set_hover(null);perr_cb("arrow",{new_pos:new_pos})},onMouseEnter:({currentTarget:el})=>{if(el.classList.contains("left-right"))set_hover("left-right");else if(el.classList.contains("up-down"))set_hover("up-down")},onMouseLeave:e=>set_hover(null)};const y_direction=pos[0]=="top"?"down":"up";const x_direction=pos[1]=="right"?"left":"right";const up_down=`arrow-btn up-down arrow-${y_direction} `+(hover=="up-down"?" hover":"");const left_right=`arrow-btn left-right arrow-${x_direction} `+(hover=="left-right"?" hover":"");return react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement("div",{className:"arrow-buttons"},react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement(Wm_flipped,{flipId:"x_arrow",stagger:true},react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement("div",_extends({className:left_right},listeners),react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement("div",{className:"arrow-anim"},react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement("div",{className:"arrow-icon"})))),react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement(Wm_flipped,{flipId:"y_arrow",stagger:true},react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement("div",_extends({className:up_down},listeners),react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement("div",{className:"arrow-anim"},react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement("div",{className:"arrow-icon"})))))};const Watermark_body=({open:open})=>{const _useContext5=useContext(App_context),rule=_useContext5.rule;const _useState13=useState("buttons"),_useState14=_slicedToArray(_useState13,2),view=_useState14[0],set_view=_useState14[1];const _useState15=useState(),_useState16=_slicedToArray(_useState15,2),rating=_useState16[0],set_rating=_useState16[1];useEffect(()=>{if(view!="buttons"&&view!="fixing"&&!open)set_view("buttons")},[open]);const yes_click=()=>_util_etask_js__WEBPACK_IMPORTED_MODULE_6___default()((function*(){set_rating(null);set_view("rated");yield _bext_vpn_ui_ui_api_js__WEBPACK_IMPORTED_MODULE_15__["a"].click_working({src:"watermark"});if(!_bext_vpn_ui_ui_api_js__WEBPACK_IMPORTED_MODULE_15__["a"].need_rating())return;yield _util_etask_js__WEBPACK_IMPORTED_MODULE_6___default.a.sleep(700);set_view("rate_us")}));const on_rated=r=>{set_rating(r);set_view("rated")};const no_click=event=>{set_view("fixing");if(!rule)return;let tab_id=_bext_vpn_ui_ui_api_js__WEBPACK_IMPORTED_MODULE_15__["a"].get_tab_id();_bext_vpn_ui_ui_api_js__WEBPACK_IMPORTED_MODULE_15__["a"].fix_vpn({rule:rule,root_url:root_url,url:top_url,tab_id:tab_id});_bext_vpn_ui_ui_api_js__WEBPACK_IMPORTED_MODULE_15__["a"].trigger_not_working({tab_id:tab_id,src:"watermark"});_bext_vpn_ui_ui_api_js__WEBPACK_IMPORTED_MODULE_15__["a"].send_fix_it_report({rule:rule,send_logs:true,src:"watermark"})};switch(view){case"buttons":return react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement(Wm_work_buttons,{yes_click:yes_click,no_click:no_click});case"rate_us":return react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement(_bext_vpn_ui_ui_lib_js__WEBPACK_IMPORTED_MODULE_12__["a"].Rate_us,{on_rated:on_rated});case"rated":return react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement(_bext_vpn_ui_ui_lib_js__WEBPACK_IMPORTED_MODULE_12__["a"].Rated,{rating:rating});case"fixing":return react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement("div",{className:"fixing-view"},react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement("span",{className:"common-ui-busy"}),react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement("span",null,react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement(T,null,"Fixing connection",react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement(Dots,null))))}};const Wm_work_buttons=({yes_click:yes_click,no_click:no_click})=>react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement("div",{className:"wm-work-buttons"},react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement(Wm_flipped,{flipId:"is_it_working",stagger:true},react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement("div",{className:"wm-work-buttons-title"},react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement(T,null,"Is it working?"))),react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement(Wm_flipped,{flipId:"btn_yes",stagger:true},react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement(Working_button,{on_click:yes_click,yes:true,small:true})),react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement(Wm_flipped,{flipId:"btn_no",stagger:true},react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement(Working_button,{on_click:no_click,small:true})));const Mitm_btn=({enable:enable,on_click:on_click})=>react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement("div",{className:"action-button mitm-unblock",onClick:on_click},react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement("div",{className:enable?"unlock-anim":"lock-anim"},react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement("div",{className:"power-switch"}),react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement("div",{className:"img-wrapper"},react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement("div",{className:"lock-img"}),react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement("div",{className:"unlock-img"}),react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement("div",{className:"strike-line"}))),react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement("div",{className:"title"},enable?react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement(T,null,"Unblock ",react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement("b",null,root_url)):react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement(T,null,"Continue without VPN")));const Timer_progress=({total:total,current:current,paused:paused})=>{const _useState17=useState(current),_useState18=_slicedToArray(_useState17,2),time=_useState18[0],set_time=_useState18[1];const start_ts_ref=useRef();useEffect(()=>{set_time(current);if(paused)return;start_ts_ref.current=Date.now()-current;let stop;let animate=()=>{if(stop)return;let _time=Math.min(Date.now()-start_ts_ref.current,total);set_time(_time);if(_time!=total)requestAnimationFrame(animate)};animate();return()=>stop=true},[total,current,paused]);const r=49,c=2*Math.PI*r;const fg_s={strokeDasharray:c,strokeDashoffset:c-c*time/total,strokeWidth:3,stroke:"#ff6400",fill:"none"};return react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement("div",{className:"timer-progress"},react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement("svg",{className:"timer-progress-circle",viewBox:"0 0 100 100"},react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement("circle",{cx:"50",cy:"50",r:r,style:fg_s})))};const Suggestion_body=props=>{useEffect(()=>void pref_perr(props,"mitm_popup")("suggestion_show"),[]);const is_mitm=props.is_mitm,no_click=props.no_click,yes_click=props.yes_click;const countries=props.countries;let site=root_url;let buttons,first_country;let size=80;if(is_mitm){buttons=[react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement(Mitm_btn,{enable:false,on_click:no_click,key:"no"}),react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement(Mitm_btn,{enable:true,on_click:yes_click,key:"yes"})];return react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement("div",{className:"modal-body mitm-suggestion-body"},react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement("div",{className:"modal-body-title"},react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement("div",{className:"stop-icon"}),react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement(T,null,react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement("b",null,site)," is blocked in your country or office")),react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement("div",{className:"modal-body-buttons"},buttons))}let src_country=(_bext_vpn_ui_ui_api_js__WEBPACK_IMPORTED_MODULE_15__["a"].get_country()||"").toLowerCase();first_country=countries[0]==src_country?countries[1]:countries[0];if(first_country=="*")first_country="us";buttons=[react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement(Country_button,{key:"no",size:size,country:src_country,on_click:no_click,title:T("No VPN")})];if(countries.length<3&&!countries.includes("*")){buttons=buttons.concat(countries.map(c=>react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement(Country_button,{size:size,active:true,key:"yes_"+c,country:c,title:`${T(c.toUpperCase())} VPN`,on_click:yes_click})))}else{buttons.push(react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement(Country_button,{key:"yes_"+first_country,active:true,size:size,country:first_country,title:`${T(first_country.toUpperCase())} VPN`,on_click:yes_click}));buttons.push(react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement(Country_button,{key:"more",active:true,size:size,pop_countries:countries,other:true,title:T("More VPNs"),toggle_dropdown:props.more_click,misc:react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement(T,null,"Choose from over ",react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement("span",null,"190")," countries"),on_click:props.more_click}))}return react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement("div",{className:"modal-body suggestion-body"},react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement("div",{className:"modal-body-title"},react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement(T,null,"Watch ",react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement("b",null,root_url)," with ",react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement("span",null,react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement(T,null,(first_country||"").toUpperCase())," VPN"))),react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement("div",{className:"modal-body-buttons"},buttons))};const Choose_country_body=({countries:countries,on_click:on_click,back_click:back_click})=>{const _useContext6=useContext(App_context),is_premium=_useContext6.is_premium;const all=_bext_vpn_ui_ui_api_js__WEBPACK_IMPORTED_MODULE_15__["a"].get_all_countries().sort((a,b)=>T(a).localeCompare(T(b)));const first=countries.filter(c=>c!="*");return react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement("div",{className:"modal-body choose-country-body"},react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement(Country_menu,{pop_countries:first,countries:all,on_click:on_click,on_close:back_click,no_header:true,inline:true,is_premium:is_premium}))};const A=react__WEBPACK_IMPORTED_MODULE_1___default.a.forwardRef((props,ref)=>react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement("a",_extends({ref:ref,target:"_blank",rel:"noopener noreferrer"},props),props.children));let geo_login_success_sent;const Login_body=({country:country,login_cb:login_cb})=>{const _useContext7=useContext(App_context),user=_useContext7.user;const _useState19=useState(false),_useState20=_slicedToArray(_useState19,2),signup=_useState20[0],set_signup=_useState20[1];useEffect(()=>void perr("geo_login_show"),[]);useEffect(()=>{if(!user)return;if(!geo_login_success_sent)perr("geo_login_success");geo_login_success_sent=true;login_cb()},[user]);const login_click=method=>{_bext_vpn_ui_ui_api_js__WEBPACK_IMPORTED_MODULE_15__["a"].set_email_verify_url(top_url);_bext_vpn_ui_ui_api_js__WEBPACK_IMPORTED_MODULE_15__["a"].open_login_popup({method:method,signup:signup,root_url:root_url});perr("geo_login_click",{method:method})};return react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement("div",{className:"modal-body"},react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement("div",{className:"modal-body-title"},react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement(T,null,"Sign in to unblock ",react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement("b",null,root_url))),react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement(Slides_switch,{slide:signup?"signup":"login"},react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement(Login_inner,{key:"login",signup:false,set_signup:set_signup,login_click:login_click}),react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement(Login_inner,{key:"signup",signup:true,set_signup:set_signup,login_click:login_click})))};const Login_inner=({signup:signup,set_signup:set_signup,login_click:login_click})=>react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement("div",{className:"login-inner"},react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement("div",{className:"login-methods"},react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement(Login_btn,{type:"google",signup:signup,on_click:login_click}),react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement(Login_btn,{type:"facebook",signup:signup,on_click:login_click}),react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement(Login_btn,{type:"email",signup:signup,on_click:login_click})),signup&&react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement("p",{className:"login-mode-switch"},react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement(T,null,"Already have an account?")," ",react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement("a",{onClick:()=>set_signup(false)},react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement(T,null,"Sign in"))),!signup&&react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement("p",{className:"login-mode-switch"},react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement(T,null,"Don't have an account?")," ",react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement("a",{onClick:()=>set_signup(true)},react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement(T,null,"Sign up"))),react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement("div",{className:"login-footer"},"By clicking ",signup?"Sign up":"Sign in",", you agree you have read and accepted the ",react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement(A,{href:"https://hola.org/legal/sla"},"Hola End User Agreement")," and the ",react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement(A,{href:"https://hola.org/legal/privacy"},"Hola Privacy Statement"),"."));const Login_btn=({type:type,signup:signup,on_click:on_click})=>{let login_with=signup?"Sign up with":"Sign in with";return react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement("div",{className:`login-btn login-btn-${type}`,onClick:()=>on_click(type)},react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement("div",{className:"login-btn-icon"}),react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement("div",null,react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement(T,null,login_with)," ",react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement(T,null,_util_string_js__WEBPACK_IMPORTED_MODULE_8___default.a.capitalize(type))))};const trial_aj_event=(trial,id)=>_bext_vpn_ui_ui_api_js__WEBPACK_IMPORTED_MODULE_15__["a"].aj_event((trial?"be_aj_trial_time_remaining_popup_":"be_aj_trial_time_ended_popup_")+id);const time2str=t=>{let n,str;if(t<ms.MIN){n=Math.round(t/ms.SEC);str="second"}else if(t<ms.HOUR){n=Math.round(t/ms.MIN);str="minute"}else{n=Math.round(t/ms.HOUR);str="hour"}if(n!=1)str+="s";return`${n} ${str}`};const Wait_timer=({total:total,paused:paused})=>{const _useState21=useState(total),_useState22=_slicedToArray(_useState21,2),time=_useState22[0],set_time=_useState22[1];const start_ts_ref=useRef();useEffect(()=>{set_time(total);if(paused)return;start_ts_ref.current=Date.now();let stop;let animate=()=>{if(stop)return;let _time=Math.max(start_ts_ref.current+total-Date.now(),0);set_time(_time);if(_time!=0)requestAnimationFrame(animate)};animate();return()=>stop=true},[total,paused]);const str=(time/1e3).toFixed(2);const sec_arr=Array.from(str.split(".")[0]);const ms_arr=Array.from(str.split(".")[1]);if(sec_arr.length<2)sec_arr.unshift("0");return react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement("div",{className:classnames__WEBPACK_IMPORTED_MODULE_2___default()("wait-timer",paused&&"wait-timer-paused")},react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement("div",{className:"wait-timer-value"},sec_arr.map((n,i)=>react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement("span",{key:i},n)),".",ms_arr.map((n,i)=>react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement("span",{key:i},n))),react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement("div",{className:"wait-timer-title"},react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement(T,null,"seconds")))};const Trial_subscribe_body=({country:country,close_cb:close_cb,unblock_cb:unblock_cb,subscribe_cb:subscribe_cb,modal_ref:modal_ref})=>{const _useContext8=useContext(App_context),trial=_useContext8.trial;const _useState23=useState(0),_useState24=_slicedToArray(_useState23,2),trial_changed=_useState24[0],set_trial_changed=_useState24[1];useEffect(()=>{const inc_trial_changed=()=>set_trial_changed(trial_changed+1);_bext_vpn_ui_ui_api_js__WEBPACK_IMPORTED_MODULE_15__["a"].on("trial_change",inc_trial_changed);return()=>_bext_vpn_ui_ui_api_js__WEBPACK_IMPORTED_MODULE_15__["a"].off("trial_change",inc_trial_changed)},[]);const last_trial=_bext_vpn_ui_ui_lib_js__WEBPACK_IMPORTED_MODULE_12__["a"].use_etask(()=>_bext_vpn_ui_ui_api_js__WEBPACK_IMPORTED_MODULE_15__["a"].get_trial_active(root_url,country),null,[trial,trial_changed]);const trial_left=_bext_vpn_ui_ui_lib_js__WEBPACK_IMPORTED_MODULE_12__["a"].use_trial_left(trial);const next_trial_ts=_bext_vpn_ui_ui_lib_js__WEBPACK_IMPORTED_MODULE_12__["a"].use_etask(()=>_bext_vpn_ui_ui_api_js__WEBPACK_IMPORTED_MODULE_15__["a"].get_next_trial_ts(root_url,country),0,[trial,trial_changed]);const wait_left=_bext_vpn_ui_ui_lib_js__WEBPACK_IMPORTED_MODULE_12__["a"].use_countdown(next_trial_ts);const wait2=_bext_vpn_ui_ui_lib_js__WEBPACK_IMPORTED_MODULE_12__["a"].use_etask(()=>_bext_vpn_ui_ui_api_js__WEBPACK_IMPORTED_MODULE_15__["a"].get_trial_wait(root_url,country));const _useState25=useState(0),_useState26=_slicedToArray(_useState25,2),wait2_ts=_useState26[0],start_wait2=_useState26[1];const wait2_left=_bext_vpn_ui_ui_lib_js__WEBPACK_IMPORTED_MODULE_12__["a"].use_countdown(wait2_ts);_bext_vpn_ui_ui_lib_js__WEBPACK_IMPORTED_MODULE_12__["a"].on_outside_click(modal_ref,()=>{if(!wait2_left)close_cb()});useEffect(()=>{if(!country){perr("trial_subscribe_no_country");_bext_vpn_ui_ui_api_js__WEBPACK_IMPORTED_MODULE_15__["a"].close_tpopup()}},[country]);useEffect(()=>{trial_aj_event(trial,"show");_util_etask_js__WEBPACK_IMPORTED_MODULE_6___default()((function*(){let grace_period=yield _bext_vpn_ui_ui_api_js__WEBPACK_IMPORTED_MODULE_15__["a"].is_trial_grace_period(root_url,country);_perr("show",{grace_period:grace_period,tab_active:_bext_vpn_ui_ui_api_js__WEBPACK_IMPORTED_MODULE_15__["a"].is_tab_active(),trial_left:_bext_vpn_ui_ui_api_js__WEBPACK_IMPORTED_MODULE_15__["a"].get_trial_left(trial)})}))},[]);const _perr=(id,info)=>{let prefix=trial?"geo_trial_subscribe_":"geo_trial_ended_";perr(prefix+id,info)};const on_continue=()=>{if(!trial&&(wait_left>0||wait2_left))return;if(!trial&&wait2&&!wait2_ts){perr("geo_trial_wait_show",{wait2:wait2});start_wait2(Date.now()+wait2);return}trial_aj_event(trial,"click_continue");_perr("plan_click_free",{trial_left:_bext_vpn_ui_ui_api_js__WEBPACK_IMPORTED_MODULE_15__["a"].get_trial_left(trial),wait_left:wait_left});if(trial)return void close_cb();if(wait_left>0)return;unblock_cb(country)};const on_subscribe=()=>{trial_aj_event(trial,"click_upgrade");subscribe_cb()};let free_text,plus_text,free_obj,plus_obj;let free_btn,plus_btn,free_btn_disabled=false;let period=_bext_pub_util_js__WEBPACK_IMPORTED_MODULE_11___default.a.get_site_conf(root_url,"trial.period")||_bext_pub_util_js__WEBPACK_IMPORTED_MODULE_11___default.a.get_country_conf(country,"trial.period");let hola_plus=react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement("img",{src:"./bext/vpn/ui/img/hola_plus.svg",width:"58",height:"41"});let site_icon=react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement(Site_icon,{root_url:root_url,size:40});if(trial){free_text=react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement("div",null,"FREE users have limited time per day…");plus_text=react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement("div",null,react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement("a",{onClick:on_subscribe},react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement("b",null,"UPGRADE TO PLUS")),react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement("br",null),"for VPN without limits");free_btn="Stay FREE";plus_btn="Upgrade to PLUS";plus_obj=hola_plus;free_obj=react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement(Fragment,null,react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement(Timer,{time:trial_left,hide_hours:true}),react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement(Timer_progress,{total:period,current:period-trial_left}))}else if(wait_left){free_text=react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement("div",null,"FREE users have limited time per day. You can continue watching ",react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement("b",null,root_url)," in:");plus_text=react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement("div",null,react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement("a",{onClick:on_subscribe},react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement("b",null,"UPGRADE TO PLUS")),react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement("br",null),"for VPN without limits");free_btn="Watch now";plus_btn="Upgrade to PLUS";free_btn_disabled=true;plus_obj=hola_plus;let total=last_trial?next_trial_ts-last_trial.expire_ts:ms.DAY;free_obj=react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement(Fragment,null,react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement(Timer,{time:wait_left,style:{transform:"scale(0.8)"}}),react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement(Timer_progress,{total:total,current:total-wait_left}))}else if(wait2&&!wait2_ts){free_text=react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement("div",null,"Free user will have to wait ",time2str(wait2)," while we load another ",time2str(period)," of ",react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement("b",null,root_url));plus_text=react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement("div",null,react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement("a",{onClick:on_subscribe},react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement("b",null,"UPGRADE TO PLUS")),react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement("br",null),"and enjoy unlimited data - without waiting to load!");free_btn="Stay FREE";plus_btn="Upgrade to PLUS";plus_obj=site_icon;free_obj=react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement(Fragment,null,react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement(Wait_timer,{total:wait2,paused:true}),react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement(Timer_progress,{total:wait2,current:wait2/100,paused:true}))}else if(wait2_ts&&wait2_left){free_text=react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement("div",null,"Loading ",time2str(period)," of ",react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement("br",null),react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement("b",null,root_url),react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement(Dots,null));plus_text=react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement("div",null,react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement("a",{onClick:on_subscribe},react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement("b",null,"UPGRADE TO PLUS")),react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement("br",null),"and enjoy unlimited data - without waiting to load!");free_btn="Watch now";plus_btn="Watch now";free_btn_disabled=true;plus_obj=site_icon;free_obj=react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement(Fragment,null,react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement(Wait_timer,{total:wait2}),react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement(Timer_progress,{total:wait2,current:wait2-wait2_left}))}else{free_text=react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement("div",null,"Enjoy another ",time2str(period)," of ",react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement("b",null,root_url),"...");plus_text=react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement("div",null,"Upgrade to ",react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement("a",{onClick:on_subscribe},react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement("b",null,"PLUS"))," and enjoy HD Streaming with No Buffering- The Fastest VPN on the market!");free_btn="Watch now";plus_btn="Upgrade to PLUS";plus_obj=hola_plus;free_obj=site_icon}return react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement("div",{className:"modal-body"},!!trial&&react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement("div",{className:"modal-body-title"},react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement(T,null,"Watch ",react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement("b",null,root_url)," with ",react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement("span",null,react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement(T,null,(country||"").toUpperCase())," VPN"))),react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement("div",{className:"trial-subscribe-columns"},react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement("div",{className:"trial-subscribe-column"},react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement("div",{className:"trial-subscribe-text"},free_text),react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement(Trial_circle,{white:free_obj!=site_icon,on_click:on_continue},free_obj),react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement(Btn,{light:true,disabled:free_btn_disabled,onClick:on_continue},react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement(T,null,free_btn))),react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement("div",{className:"trial-subscribe-column"},react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement("div",{className:"trial-subscribe-text"},plus_text),react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement(Trial_circle,{on_click:on_subscribe},plus_obj),react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement(Btn,{onClick:on_subscribe},react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement(T,null,plus_btn)))))};const Trial_circle=({on_click:on_click,children:children,white:white})=>react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement("div",{className:classnames__WEBPACK_IMPORTED_MODULE_2___default()("trial-circle",white&&"trial-circle-white"),onClick:on_click},react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement("div",{className:"trial-circle-shadow"}),react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement("div",{className:"trial-circle-content"},children));const Geo_suggestion=props=>{const _useContext9=useContext(App_context),trial=_useContext9.trial;const ref=useRef();_bext_vpn_ui_ui_lib_js__WEBPACK_IMPORTED_MODULE_12__["a"].on_outside_click(ref,()=>{if(props.slide!="trial_subscribe")props.close_cb()});useEffect(()=>{if(!trial)return;_bext_vpn_ui_ui_api_js__WEBPACK_IMPORTED_MODULE_15__["a"].pause_videos(_bext_vpn_ui_ui_api_js__WEBPACK_IMPORTED_MODULE_15__["a"].get_connection_id());return()=>_bext_vpn_ui_ui_api_js__WEBPACK_IMPORTED_MODULE_15__["a"].resume_videos(_bext_vpn_ui_ui_api_js__WEBPACK_IMPORTED_MODULE_15__["a"].get_connection_id())},[]);const _perr=(id,info)=>pref_perr(props)(id,info);const _useState27=useState(props.slide),_useState28=_slicedToArray(_useState27,2),curr_slide=_useState28[0],set_curr_slide=_useState28[1];const on_slide_exit=()=>{set_curr_slide(props.slide);props.force_flip()};const close_click=()=>{if(["trial_subscribe","choose_plan","stop_vpn_confirmation"].includes(props.slide)){trial_aj_event(trial,"click_x")}_perr("suggestion_close");props.close_cb()};const back_click=(props.slide=="choose_plan"||props.slide=="choose_country")&&props.back_cb;const no_click=()=>{_perr("suggestion_no");props.close_cb()};const more_click=()=>{_perr("suggestion_more");props.set_slide("choose_country")};const yes_click=({country:country})=>{_perr("suggestion_yes",{country:country});props.unblock_cb(country)};const try_again=()=>{let country=props.country;_perr("suggestion_try_again",{country:country});props.unblock_cb(country)};const title=props.slide=="choose_country"&&T("More VPNs");let cls=`modal-dialog geo-suggestion modal-${curr_slide}`;return react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement(react_flip_toolkit__WEBPACK_IMPORTED_MODULE_3__["a"],{flipId:"modal_flip"},react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement("div",{ref:ref,className:cls},react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement(Modal_header,{close_click:close_click,title:title,back_click:back_click}),react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement(_bext_vpn_ui_ui_lib_js__WEBPACK_IMPORTED_MODULE_12__["a"].Progress_bar,{visible:props.busy}),props.trial_error&&react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement("div",{className:"error-message"},react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement(T,null,"We've encountered an error. Please ",react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement("a",{onClick:try_again},react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement(T,null,"try again")))),react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement(Slides_switch,{slide:props.slide,exited_cb:on_slide_exit},react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement(Suggestion_body,{key:"suggestion",countries:props.countries,yes_click:yes_click,more_click:more_click,no_click:no_click,prefix:props.prefix}),react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement(Choose_country_body,{key:"choose_country",countries:props.countries,on_click:yes_click,back_click:back_click}),react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement(Trial_subscribe_body,{key:"trial_subscribe",country:props.country,subscribe_cb:props.subscribe_cb,close_cb:props.close_cb,unblock_cb:props.unblock_cb,modal_ref:ref}),react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement(Choose_plan_body,{key:"choose_plan",src:"trial"}),react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement(Login_body,{key:"login",country:props.country,login_cb:()=>props.unblock_cb(props.country)}),react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement(Verify_email_body,{key:"verify_email",country:props.country,done_cb:()=>props.unblock_cb(props.country)}),react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement(Stop_vpn_confirmation,{key:"stop_vpn_confirmation",country:props.country,stop_vpn:props.stop_vpn,back_to_trial:props.back_to_trial}))))};const Mitm_suggestion=({close_cb:close_cb})=>{const ignore=()=>{_bext_vpn_ui_ui_api_js__WEBPACK_IMPORTED_MODULE_15__["a"].mitm_set_ignore(top_url,_bext_vpn_ui_ui_api_js__WEBPACK_IMPORTED_MODULE_15__["a"].get_tab_id());_bext_vpn_ui_ui_api_js__WEBPACK_IMPORTED_MODULE_15__["a"].close_tpopup()};const close_click=()=>{perr("mitm_popup_suggestion_close");ignore()};const no_click=()=>{perr("mitm_popup_suggestion_no");ignore()};const yes_click=()=>{perr("mitm_popup_suggestion_yes");_bext_vpn_ui_ui_api_js__WEBPACK_IMPORTED_MODULE_15__["a"].mitm_set_unblock(top_url);close_cb()};return react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement(react_flip_toolkit__WEBPACK_IMPORTED_MODULE_3__["a"],{flipId:"modal_flip"},react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement("div",{className:"modal-dialog modal-mitm-suggestion"},react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement(Modal_header,{close_click:close_click}),react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement(Suggestion_body,{is_mitm:true,yes_click:yes_click,no_click:no_click})))};const Stop_vpn_confirmation=({country:country,stop_vpn:stop_vpn,back_to_trial:back_to_trial})=>{const title=react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement(T,null,"Proceed with",react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement("br",null),react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement(T,null,country.toUpperCase())," VPN");return react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement("div",{className:"modal-body"},react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement("div",{className:"modal-body-title"},react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement(T,null,"Do you want to stop VPN?")),react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement("div",{className:"modal-body-buttons"},react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement(Country_button,{on_click:stop_vpn,title:"Stop VPN",stop:true,size:80}),react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement(Country_button,{on_click:back_to_trial,title:title,country:country,size:80,active:true})))};const Verify_email_body=({done_cb:done_cb,country:country})=>{let _useContext10=useContext(App_context),user=_useContext10.user;const _useState29=useState(0),_useState30=_slicedToArray(_useState29,2),resent=_useState30[0],set_resent=_useState30[1];const _useState31=useState(false),_useState32=_slicedToArray(_useState31,2),sending=_useState32[0],set_sending=_useState32[1];useEffect(()=>{if(!user||user.verified)done_cb()},[user]);useEffect(()=>{perr("geo_verify_email_show");let et=_util_etask_js__WEBPACK_IMPORTED_MODULE_6___default()((function*(){while(!(yield _bext_vpn_ui_ui_api_js__WEBPACK_IMPORTED_MODULE_15__["a"].is_verified()))yield _util_etask_js__WEBPACK_IMPORTED_MODULE_6___default.a.sleep(3e3);perr("geo_verify_email_done");yield _bext_vpn_ui_ui_api_js__WEBPACK_IMPORTED_MODULE_15__["a"].refresh_user({reason:"verify_email_done"})}));return()=>et.return()},[]);const resend_click=()=>_util_etask_js__WEBPACK_IMPORTED_MODULE_6___default()((function*(){if(sending)return;set_resent(resent+1);set_sending(true);this.finally(()=>set_sending(false));yield _bext_vpn_ui_ui_api_js__WEBPACK_IMPORTED_MODULE_15__["a"].resend_verification_email();perr("geo_verify_email_resend")}));let email=user&&user.email;return react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement("div",{className:"modal-body"},react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement("div",{className:"modal-body-title"},react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement(T,null,"Verify your email address to unblock ",react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement("b",null,root_url))),react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement("div",null,react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement(T,null,"Verification email was sent to ",react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement("b",null,email))),react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement("div",null,react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement(T,null,"Check your mailbox and follow the instructions to complete the registration process.")),react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement(Btn,{disabled:sending,onClick:resend_click},react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement(T,null,sending?"Resending...":resent?"Resend email again":"Resend email")),react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement("div",null,react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement(T,null,"Problems? Contact us at ",react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement("a",{href:"mailto:help@hola.org",target:"_parent"},"help@hola.org"))))};const Proxy_error=()=>{const _useContext11=useContext(App_context),proxy_error=_useContext11.proxy_error,rule=_useContext11.rule;const _useState33=useState(false),_useState34=_slicedToArray(_useState33,2),report=_useState34[0],toggle_report=_useState34[1];const _useState35=useState(false),_useState36=_slicedToArray(_useState35,2),close_confirm=_useState36[0],toggle_close_confirm=_useState36[1];useEffect(()=>void perr("proxy_error_show",{proxy_error:proxy_error,rule:rule}),[]);const close_click=()=>{perr("proxy_error_close",{proxy_error:proxy_error,rule:rule});_bext_vpn_ui_ui_api_js__WEBPACK_IMPORTED_MODULE_15__["a"].close_tpopup()};const stop_vpn_click=()=>{perr("proxy_error_stop_vpn",{proxy_error:proxy_error,rule:rule});_bext_vpn_ui_ui_api_js__WEBPACK_IMPORTED_MODULE_15__["a"].stop_vpn(top_url,_bext_vpn_ui_ui_api_js__WEBPACK_IMPORTED_MODULE_15__["a"].get_tab_id());_bext_vpn_ui_ui_api_js__WEBPACK_IMPORTED_MODULE_15__["a"].close_tpopup()};const try_again_click=()=>{perr("proxy_error_try_again",{proxy_error:proxy_error,rule:rule});let tab_id=_bext_vpn_ui_ui_api_js__WEBPACK_IMPORTED_MODULE_15__["a"].get_tab_id();_bext_vpn_ui_ui_api_js__WEBPACK_IMPORTED_MODULE_15__["a"].fix_vpn({rule:rule,root_url:root_url,url:top_url,tab_id:tab_id});_bext_vpn_ui_ui_api_js__WEBPACK_IMPORTED_MODULE_15__["a"].trigger_not_working({tab_id:tab_id,src:"watermark"});_bext_vpn_ui_ui_api_js__WEBPACK_IMPORTED_MODULE_15__["a"].send_fix_it_report({rule:rule,send_logs:true,src:"watermark"})};const google_click=()=>{perr("proxy_error_google",{proxy_error:proxy_error,rule:rule});_bext_vpn_ui_ui_api_js__WEBPACK_IMPORTED_MODULE_15__["a"].open_page("https://google.com/search?q="+root_url)};const contact_click=()=>{perr("proxy_error_support",{proxy_error:proxy_error,rule:rule});toggle_report(true)};const dns_err=_util_util_js__WEBPACK_IMPORTED_MODULE_4___default.a.get(proxy_error,"err")=="ERR_DNS_FAILED";const country=rule&&rule.country;return react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement("div",{className:"modal-dialog modal-proxy-error"},react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement(Modal_header,{close_click:()=>toggle_close_confirm(true)}),react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement("div",{className:"modal-body proxy-error-body"},react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement("div",{className:"modal-body-title"},react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement("div",{className:"error-icon"}),dns_err?react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement(Fragment,null,react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement(T,null,"Sorry, ",react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement("b",null,root_url)," is down."),react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement("br",null),react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement(T,null,"DNS resolution failed. Verify you spelled the site correctly.")):react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement(T,null,"Sorry, there was an error. We are checking it out...")),react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement("ul",{className:"proxy-error-actions"},react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement("li",{onClick:try_again_click},react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement("span",{className:"action-icon f32"},react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement("span",{className:flag_cls(country)})),react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement(T,null,"Try again")),react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement("li",{onClick:stop_vpn_click},react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement("span",{className:"action-icon stop-vpn"}),react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement(T,null,"Stop VPN")),dns_err&&react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement("li",{onClick:google_click},react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement("span",{className:"action-icon search-google"}),react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement(T,null,"Search Google for ",react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement("span",null,root_url))),react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement("li",{onClick:contact_click},react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement("span",{className:"action-icon contact-support"}),react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement(T,null,"Contact Hola Support")))),(report||close_confirm)&&react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement("div",{className:"modal-backdrop"}),report&&react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement(_bext_vpn_ui_page_lib_js__WEBPACK_IMPORTED_MODULE_19__["e"],{url:top_url,close_cb:()=>toggle_report(false)}),close_confirm&&react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement(_bext_vpn_ui_page_lib_js__WEBPACK_IMPORTED_MODULE_19__["c"],{title:T("Stop VPN"),className:"stop-vpn-message",on_close:()=>toggle_close_confirm(false),action:[react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement("a",{key:"yes",onClick:stop_vpn_click},react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement(T,null,"Yes")),react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement("a",{key:"no",className:"btn-secondary",onClick:close_click},react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement(T,null,"No"))]},react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement(T,null,"Do you want to stop VPN for ",react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement("b",null,root_url),"?")))};class Popup_base extends react__WEBPACK_IMPORTED_MODULE_1___default.a.Component{constructor(props,context){super(props,context);_defineProperty(this,"force_flip",()=>this.setState(state=>({flip_key:state.flip_key+1})));_defineProperty(this,"set_slide",slide=>this.setState({slide:slide}));this.state={mode:props.initial_mode,slide:"",flip_key:1,flipping:false}}componentDidMount(){document.body&&document.body.classList.add("watermark");if(this.state.mode&&this.state.mode!=WATERMARK)maximize_iframe()}componentWillUnmount(){document.body&&document.body.classList.remove("watermark")}set_mode(mode,slide,mode_opt={}){let prev_mode=this.state.mode,prev_slide=this.state.slide;if(prev_mode==mode&&prev_slide==slide)return;let _this=this;_util_etask_js__WEBPACK_IMPORTED_MODULE_6___default()((function*(){_this.setState({flipping:prev_mode!=mode});const update_state=()=>_this.setState({mode:mode,slide:slide,mode_opt:mode_opt});if((!prev_mode||prev_mode==WATERMARK)&&mode!=WATERMARK){yield maximize_iframe();yield _util_etask_js__WEBPACK_IMPORTED_MODULE_6___default.a.sleep(50);update_state()}else if(prev_mode!=WATERMARK&&mode==WATERMARK){resize_iframe({fade:false});update_state()}else update_state()}))}render(){let _this$state2=this.state,mode=_this$state2.mode,flip_key=_this$state2.flip_key;if(!mode)return null;return react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement(react_flip_toolkit__WEBPACK_IMPORTED_MODULE_3__["b"],{className:"flipper",flipKey:`${mode}_${flip_key}`,onComplete:()=>this.setState({flipping:false}),spring:{stiffness:700,damping:60}},this.render_inner())}}_defineProperty(Popup_base,"contextType",App_context);class Watermark_popup extends Popup_base{constructor(props,context){super(props,context);_defineProperty(this,"on_force_trial",opt=>{if(opt.tab_id!=_bext_vpn_ui_ui_api_js__WEBPACK_IMPORTED_MODULE_15__["a"].get_tab_id()||!opt.country)return;if(this.state.mode==SUGGESTION){if(this.state.slide=="suggestion")this.unblock_cb(opt.country);else this.setState({country:opt.country})}else this.unblock_cb(opt.country)});_defineProperty(this,"on_trial_start",()=>{let _this=this;_util_etask_js__WEBPACK_IMPORTED_MODULE_6___default()((function*(){let country=yield _bext_vpn_ui_ui_api_js__WEBPACK_IMPORTED_MODULE_15__["a"].get_site_storage(root_url,"trial.country");_this.setState({country:country});_this.set_mode(WATERMARK)}))});_defineProperty(this,"on_trial_end",()=>{this.set_mode(SUGGESTION,"trial_subscribe")});_defineProperty(this,"unblock_cb",country=>{if(this.unblock_et)return;let _this=this;this.setState({country:country});_bext_vpn_ui_ui_api_js__WEBPACK_IMPORTED_MODULE_15__["a"].set_dont_show_again({tab_id:_bext_vpn_ui_ui_api_js__WEBPACK_IMPORTED_MODULE_15__["a"].get_tab_id(),root_url:root_url,period:"default",src:"unblock_cb",type:"suggestion"});_util_etask_js__WEBPACK_IMPORTED_MODULE_6___default()((function*(){_this.unblock_et=this;_this.setState({busy:true});this.finally(()=>{_this.unblock_et=null;_this.setState({busy:false})});perr("geo_suggestion_unblock",{country:country,slide:_this.state.slide,mode:_this.state.mode,user_id:_bext_vpn_ui_ui_api_js__WEBPACK_IMPORTED_MODULE_15__["a"].get_user_id(),root_url:root_url});let trial=yield _bext_vpn_ui_ui_api_js__WEBPACK_IMPORTED_MODULE_15__["a"].get_trial_active(root_url,country);if(!(yield _bext_vpn_ui_ui_api_js__WEBPACK_IMPORTED_MODULE_15__["a"].need_trial(root_url,country))){_this.do_unblock(country,trial);return}if(!_bext_vpn_ui_ui_api_js__WEBPACK_IMPORTED_MODULE_15__["a"].get_user_id())return void _this.set_mode(SUGGESTION,"login");if(_bext_vpn_util_util_js__WEBPACK_IMPORTED_MODULE_13___default.a.must_verify_email(_bext_vpn_ui_ui_api_js__WEBPACK_IMPORTED_MODULE_15__["a"].get_user()))return void _this.set_mode(SUGGESTION,"verify_email");let next_trial_ts=yield _bext_vpn_ui_ui_api_js__WEBPACK_IMPORTED_MODULE_15__["a"].get_next_trial_ts(root_url,country);if(next_trial_ts>Date.now())return void _this.set_mode(SUGGESTION,"trial_subscribe");try{trial=yield start_trial(country);_this.setState({trial_error:null});_this.do_unblock(country,trial)}catch(e){if(e.toString().includes("trial_forbidden_domain"))return void _bext_vpn_ui_ui_api_js__WEBPACK_IMPORTED_MODULE_15__["a"].close_tpopup();if(!_this.state.mode)_this.set_mode(SUGGESTION,"suggestion");_this.setState({trial_error:e.message||true})}}))});_defineProperty(this,"close_cb",opt=>{const _this$state3=this.state,mode=_this$state3.mode,slide=_this$state3.slide;const _this$context2=this.context,trial=_this$context2.trial,rule=_this$context2.rule,is_grace_period=_this$context2.is_grace_period;const type=mode==SUGGESTION?"suggestion":"watermark";if(mode==COUNTRY_MENU)return void this.set_mode(WATERMARK);if((mode==WATERMARK||mode==SUBSCRIBE)&&this.can_close_watermark())return void close(_objectSpread({type:type},opt));else if(mode==SUGGESTION){if(trial)return void this.set_mode(WATERMARK);if(slide=="stop_vpn_confirmation")this.stop_vpn();if(slide=="trial_subscribe"||slide=="choose_plan"){if(rule&&is_grace_period)return void this.set_slide("stop_vpn_confirmation");_bext_vpn_ui_ui_api_js__WEBPACK_IMPORTED_MODULE_15__["a"].set_site_storage(root_url,"trial.dont_show_ended",true)}close(_objectSpread({type:type},opt))}else if(mode==SUBSCRIBE)this.set_mode(WATERMARK);else if(mode==WATERMARK)this.set_mode(SUBSCRIBE,"remove_popup")});_defineProperty(this,"change_country_cb",opt=>{if(opt.country)this.setState({country:opt.country});_bext_vpn_ui_ui_api_js__WEBPACK_IMPORTED_MODULE_15__["a"].unblock_action(_objectSpread({url:_bext_vpn_ui_ui_api_js__WEBPACK_IMPORTED_MODULE_15__["a"].get_url()},opt));if(opt.disable)_bext_vpn_ui_ui_api_js__WEBPACK_IMPORTED_MODULE_15__["a"].close_tpopup();else this.close_cb()});_defineProperty(this,"banner_click_cb",type=>{let src="watermark_banner";let src_ref=src;if(type!="trial")src_ref+="_"+type;this.set_mode(SUBSCRIBE,"choose_plan",{src:src,src_ref:src_ref})});_defineProperty(this,"trial_timer_click_cb",()=>{perr("trial_timer_click");this.set_mode(SUGGESTION,"trial_subscribe")});_defineProperty(this,"trial_timer_end_cb",()=>{_util_zerr_js__WEBPACK_IMPORTED_MODULE_5___default.a.notice("trial_timer_end_cb %s %s",this.state.mode,this.state.slide);_bext_vpn_util_util_js__WEBPACK_IMPORTED_MODULE_13___default.a.set_timeout(()=>{if(this.state.mode!=WATERMARK)return;_util_zerr_js__WEBPACK_IMPORTED_MODULE_5___default.a.notice("missing_trial_end %s %s",this.state.mode,this.state.slide);perr("missing_trial_end",{},true,{with_log:true});this.on_trial_end();this.context.force_trial_update()},3e3)});_defineProperty(this,"subscribe_click",()=>{this.set_mode(SUGGESTION,"choose_plan")});_defineProperty(this,"back_click",()=>{if(this.state.slide=="choose_plan")this.set_slide("trial_subscribe");if(this.state.slide=="choose_country")this.set_slide("suggestion")});_defineProperty(this,"flag_click_cb",()=>{this.set_mode(COUNTRY_MENU)});_defineProperty(this,"stop_vpn",()=>{perr(`geo_watermark_stop_vpn`);_bext_vpn_ui_ui_api_js__WEBPACK_IMPORTED_MODULE_15__["a"].set_site_storage(root_url,"trial.dont_show_ended",true);_bext_vpn_ui_ui_api_js__WEBPACK_IMPORTED_MODULE_15__["a"].stop_vpn(top_url,_bext_vpn_ui_ui_api_js__WEBPACK_IMPORTED_MODULE_15__["a"].get_tab_id())});let state=this.state=this.state||{};const _opt2=get_watermark_opt(props,context);if(!_opt2)return void _bext_vpn_ui_ui_api_js__WEBPACK_IMPORTED_MODULE_15__["a"].close_tpopup();state.mode=_opt2.initial_mode;state.slide=_opt2.initial_slide;state.country=_opt2.country;state.countries=_opt2.countries;this.autostart_trial=_opt2.autostart_trial}componentDidMount(){super.componentDidMount();_bext_vpn_ui_ui_api_js__WEBPACK_IMPORTED_MODULE_15__["a"].on("force_trial",this.on_force_trial);_bext_vpn_ui_ui_api_js__WEBPACK_IMPORTED_MODULE_15__["a"].on("trial_start",this.on_trial_start);if(this.autostart_trial)this.unblock_cb(this.state.country)}componentWillUnmount(){super.componentWillUnmount();_bext_vpn_ui_ui_api_js__WEBPACK_IMPORTED_MODULE_15__["a"].off("force_trial",this.on_force_trial);_bext_vpn_ui_ui_api_js__WEBPACK_IMPORTED_MODULE_15__["a"].off("trial_start",this.on_trial_start)}componentDidUpdate(prev_props,prev_state){if(super.componentDidUpdate)super.componentDidUpdate(prev_props,prev_state);if(this.state.mode==SUBSCRIBE&&this.can_close_watermark())close();if(prev_props.trial&&!this.props.trial&&this.context.is_trial_expired){this.on_trial_end()}}can_close_watermark(){return this.context.is_premium||CG("geo_popup.watermark.allow_hide")}do_unblock(country,trial){let _this=this;_util_etask_js__WEBPACK_IMPORTED_MODULE_6___default()((function*(){trial=trial||_this.context.trial;_bext_vpn_ui_ui_api_js__WEBPACK_IMPORTED_MODULE_15__["a"].enable_root_url({root_url:_svc_vpn_pub_util_js__WEBPACK_IMPORTED_MODULE_10___default.a.get_root_url(top_url),country:country,src:trial&&"trial"});if(tpopup_mode=="window")return _bext_vpn_ui_ui_api_js__WEBPACK_IMPORTED_MODULE_15__["a"].close_tpopup();_bext_vpn_ui_ui_api_js__WEBPACK_IMPORTED_MODULE_15__["a"].resume_videos(_bext_vpn_ui_ui_api_js__WEBPACK_IMPORTED_MODULE_15__["a"].get_connection_id());if(yield _bext_vpn_ui_ui_api_js__WEBPACK_IMPORTED_MODULE_15__["a"].is_dont_show(root_url,"watermark"))_bext_vpn_ui_ui_api_js__WEBPACK_IMPORTED_MODULE_15__["a"].close_tpopup();else _this.setState({country:country},()=>_this.set_mode(WATERMARK))}))}render_inner(){let state=this.state,props=this.props,context=this.context;let mode_opt=state.mode_opt;switch(state.mode){case WATERMARK:return react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement(Watermark,{flipping:state.flipping||props.flipping,country:state.country,trial:context.trial,is_premium:context.is_premium,can_close:this.can_close_watermark(),position:context.watermark_pos,set_position:context.set_watermark_pos,close_cb:this.close_cb,banner_click_cb:this.banner_click_cb,flag_click:this.flag_click_cb,trial_timer_click_cb:this.trial_timer_click_cb,trial_timer_end_cb:this.trial_timer_end_cb});case SUBSCRIBE:return react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement(Subscribe,_extends({},mode_opt,{slide:state.slide,country:state.country,set_slide:this.set_slide,force_flip:this.force_flip,close_cb:this.close_cb}));case SUGGESTION:return react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement(Geo_suggestion,{country:state.country,countries:state.countries,slide:state.slide,set_slide:this.set_slide,trial_error:state.trial_error,busy:state.busy,close_cb:this.close_cb,unblock_cb:this.unblock_cb,subscribe_cb:this.subscribe_click,back_cb:this.back_click,force_flip:this.force_flip,stop_vpn:this.stop_vpn,back_to_trial:()=>this.set_slide("trial_subscribe"),prefix:props.prefix});case PROXY_ERROR:return react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement(Proxy_error,null);case COUNTRY_MENU:return react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement(Wm_country_menu,{on_close:this.close_cb,on_change_country:this.change_country_cb,position:context.watermark_pos})}}}class Mitm_popup extends Popup_base{constructor(...args){super(...args);_defineProperty(this,"close_cb",opt=>{if(this.context.is_premium)return void _bext_vpn_ui_ui_api_js__WEBPACK_IMPORTED_MODULE_15__["a"].close_tpopup();let mode=this.state.mode;if(mode==SUGGESTION||mode==SUBSCRIBE)this.set_mode(WATERMARK);else if(mode==WATERMARK)this.set_mode(SUBSCRIBE,"remove_popup")});_defineProperty(this,"banner_click_cb",()=>this.set_mode(SUBSCRIBE,"choose_plan",{src:"watermark_banner"}))}componentDidMount(){super.componentDidMount();let _this=this;this.on_manual_unblock=()=>_util_etask_js__WEBPACK_IMPORTED_MODULE_6___default()((function*(){let enabled=yield _bext_vpn_ui_ui_api_js__WEBPACK_IMPORTED_MODULE_15__["a"].is_mitm_active_manual(_bext_vpn_ui_ui_api_js__WEBPACK_IMPORTED_MODULE_15__["a"].get_tab_id());if(_this.state.mode==SUGGESTION&&enabled)_this.close_cb()}));_bext_vpn_ui_ui_api_js__WEBPACK_IMPORTED_MODULE_15__["a"].on("mitm_manual_unblock",this.on_manual_unblock)}componentWillUnmount(){super.componentWillUnmount();_bext_vpn_ui_ui_api_js__WEBPACK_IMPORTED_MODULE_15__["a"].off("mitm_manual_unblock",this.on_manual_unblock)}componentDidUpdate(prev_props,prev_state){if(super.componentDidUpdate)super.componentDidUpdate(prev_props,prev_state);if(this.context.is_premium&&this.state.mode==SUBSCRIBE)_bext_vpn_ui_ui_api_js__WEBPACK_IMPORTED_MODULE_15__["a"].close_tpopup()}render_inner(){let state=this.state,props=this.props,context=this.context;let mode_opt=state.mode_opt;return state.mode==WATERMARK?react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement(Watermark,{is_mitm:true,flipping:state.flipping||props.flipping,position:context.watermark_pos,set_position:context.set_watermark_pos,close_cb:this.close_cb,banner_click_cb:this.banner_click_cb,is_premium:context.is_premium}):state.mode==SUBSCRIBE?react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement(Subscribe,_extends({},mode_opt,{close_cb:this.close_cb,slide:state.slide,set_slide:this.set_slide,force_flip:this.force_flip,is_mitm:true})):react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement(Mitm_suggestion,{close_cb:this.close_cb})}}const close=(opt={})=>_util_etask_js__WEBPACK_IMPORTED_MODULE_6___default()((function*(){yield _bext_vpn_ui_ui_api_js__WEBPACK_IMPORTED_MODULE_15__["a"].set_dont_show_again({tab_id:_bext_vpn_ui_ui_api_js__WEBPACK_IMPORTED_MODULE_15__["a"].get_tab_id(),root_url:opt.root_url||root_url,period:"default",src:"x_btn",type:opt.type||"watermark"});_bext_vpn_ui_ui_api_js__WEBPACK_IMPORTED_MODULE_15__["a"].close_tpopup()}));const get_watermark_opt=(opt={},ctx)=>{let suggest_country=opt.suggest_country,force_suggestion=opt.force_suggestion,force_trial=opt.force_trial;let autostart_trial=false;let site_conf=_bext_pub_util_js__WEBPACK_IMPORTED_MODULE_11___default.a.get_site_conf(root_url);let force_country=force_trial&&force_trial.country;let trial_country=force_country||_util_util_js__WEBPACK_IMPORTED_MODULE_4___default.a.get(ctx.rule,"country")||_util_util_js__WEBPACK_IMPORTED_MODULE_4___default.a.get(get_rule(),"country")||opt.trial_country;let country_conf=_bext_pub_util_js__WEBPACK_IMPORTED_MODULE_11___default.a.get_country_conf(trial_country);if(ctx.rule&&!ctx.trial&&(site_conf&&site_conf.require_plus||country_conf&&country_conf.require_plus)&&!ctx.is_premium&&!ctx.is_grace_period){perr("rule_without_trial",site_conf||country_conf);_bext_vpn_ui_ui_api_js__WEBPACK_IMPORTED_MODULE_15__["a"].stop_vpn(top_url,_bext_vpn_ui_ui_api_js__WEBPACK_IMPORTED_MODULE_15__["a"].get_tab_id());return}if(_bext_pub_util_js__WEBPACK_IMPORTED_MODULE_11___default.a.proxy_error_ui_enabled("dialog")&&ctx.rule&&ctx.proxy_error){return{initial_mode:PROXY_ERROR}}let mode,slide,countries,country;let suggestion_conf=_bext_pub_util_js__WEBPACK_IMPORTED_MODULE_11___default.a.get_suggestion_conf(site_conf,ctx.src_country)||{};let suggested=force_country||suggestion_conf.proxy;if(suggested&&!Array.isArray(suggested))suggested=[suggested];if(suggest_country||force_suggestion){suggested=suggested||["*"];if(suggest_country)suggested.unshift(suggest_country.toLowerCase())}let is_trial_expired=ctx.is_trial_expired&&trial_country;let from_popupular=force_trial&&!force_country;let no_rule_no_trial=(!ctx.rule||ctx.is_grace_period)&&!ctx.trial;if(force_country&&!is_trial_expired&&!ctx.trial){country=force_country;autostart_trial=true}else if(no_rule_no_trial&&is_trial_expired&&!from_popupular){mode=SUGGESTION;slide="trial_subscribe";country=trial_country}else if((no_rule_no_trial||force_suggestion)&&suggested&&suggested.length){mode=SUGGESTION;slide="suggestion";countries=suggested.map(c=>c.toLowerCase())}else{country=ctx.rule&&ctx.rule.country;if(!country)return void perr("watermark_no_country");mode=WATERMARK}return{initial_mode:mode,initial_slide:slide,country:country,countries:countries,autostart_trial:autostart_trial}};E.Watermark_wrapper=function Watermark_wrapper(props){const _useContext12=useContext(App_context),context_inited=_useContext12.inited,trial=_useContext12.trial;const _useState37=useState(false),_useState38=_slicedToArray(_useState37,2),inited=_useState38[0],set_inited=_useState38[1];const _useState39=useState(null),_useState40=_slicedToArray(_useState39,2),force_trial=_useState40[0],set_force_trial=_useState40[1];const _useState41=useState(null),_useState42=_slicedToArray(_useState41,2),trial_country=_useState42[0],set_trial_country=_useState42[1];useEffect(()=>{let et=_util_etask_js__WEBPACK_IMPORTED_MODULE_6___default()((function*(){let _force_trial=yield _bext_vpn_ui_ui_api_js__WEBPACK_IMPORTED_MODULE_15__["a"].get_site_storage(root_url,"force_trial");let _trial_country=yield _bext_vpn_ui_ui_api_js__WEBPACK_IMPORTED_MODULE_15__["a"].get_site_storage(root_url,"trial.country");if(_force_trial)yield _bext_vpn_ui_ui_api_js__WEBPACK_IMPORTED_MODULE_15__["a"].set_site_storage(root_url,"force_trial",null);set_force_trial(_force_trial);set_trial_country(_trial_country);set_inited(true)}));return()=>et.return()},[root_url]);return inited&&context_inited?react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement(Watermark_popup,_extends({},props,{trial:trial,force_trial:force_trial,trial_country:trial_country})):null};E.Mitm_wrapper=function Mitm_wrapper(props){const _useContext13=useContext(App_context),inited=_useContext13.inited,rule=_useContext13.rule;return inited?react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement(Mitm_popup,_extends({initial_mode:rule?WATERMARK:SUGGESTION},props)):null};E.t={get_watermark_opt:get_watermark_opt,Watermark_popup:Watermark_popup};__webpack_exports__["a"]=E},102:function(module,exports,__webpack_require__){var React=__webpack_require__(13);function HolaGray(props){return React.createElement("svg",props,React.createElement("path",{fill:"#A3B5CA",fillOpacity:".8",fillRule:"evenodd",transform:"translate(-12237.001 40)",d:"M12286.385-16.8c-.17-.086-.269-.272-.355-.355-.269-.457-.553-.911-.821-1.42a8.644 8.644 0 01-4.544.908 7.331 7.331 0 01-3.179-1.4 4.116 4.116 0 01-1.547-3.448 4.265 4.265 0 011.633-3.266 5.683 5.683 0 013.9-.908c1.549 0 2.1 0 3.55-.1l1.093-.086v-.086a2.381 2.381 0 00-.1-.821c-.086-.639-1.42-1.547-2.994-1.42a6.452 6.452 0 00-1.817.824c-2.627 1.417-3.535-1.42-2.727-2.457a4.624 4.624 0 013.551-1.732 11.339 11.339 0 014.256.454 6.454 6.454 0 013.365 2 5.684 5.684 0 01.821 4c-.183 1.534-.636 3.081-.908 4.627a17.465 17.465 0 00-.1 2.272 3.123 3.123 0 01-.24 2.059 2.048 2.048 0 01-1.6.772 2.036 2.036 0 01-1.237-.417zm-4.2-7c-.51 0-1.7.367-1.788 1.361a1.5 1.5 0 001.42 1.547 3.025 3.025 0 002.624-.639 3.715 3.715 0 001.093-2.355c-1.095.086-2.834.086-3.35.086zm12.078 6.911a2.836 2.836 0 01-2.454-2.185h-.059a3.048 3.048 0 011.42-2.994 2.837 2.837 0 013.634.722 2.727 2.727 0 01.1 3.365 2.94 2.94 0 01-1.633.908 1.812 1.812 0 01-.816.2 1.789 1.789 0 01-.193-.015zm-54.8-.583a2.989 2.989 0 01-.824-1.716c-.269-1.547-1.277-12.9-1.546-14.45a4.349 4.349 0 01.1-2.17 2.079 2.079 0 011.08-1.093 2.3 2.3 0 011.731-.086 2.1 2.1 0 011.275 1.42 42.863 42.863 0 01.627 4.812 4.675 4.675 0 011.006-.908 5.549 5.549 0 016.572.056 6.02 6.02 0 011.731 3.365c.269 1.547.723 6.356.824 7.1a3.3 3.3 0 01-.284 2.084 2.3 2.3 0 01-2.84 1.009c-1.263-.553-1.42-2.185-1.42-3.278-.182-1.633-.269-3.179-.454-4.714-.185-1.275-.453-2.908-2-2.837a2.838 2.838 0 00-2.43 1.787 7.391 7.391 0 00-.1 2c.1.824.371 3.72.457 4.445a10.438 10.438 0 01.1 1.729 2.432 2.432 0 01-2.186 2h-.023a2.023 2.023 0 01-1.395-.555zm30.755-2.241l-1.007-13.61a19.241 19.241 0 01-.086-2.185 2.261 2.261 0 012-2.189 2.431 2.431 0 012.358 1.818c.1.553.1 1.42.183 2.185 0 0 1.093 13.073 1.093 13.625a2.482 2.482 0 01-2 2.726h-.157c-1.862.004-2.202-1.444-2.383-2.37zm-13.354 1.4a7.184 7.184 0 01-2.727-2.54 6.459 6.459 0 01-.91-4.087 7.8 7.8 0 013.1-6.174 8.022 8.022 0 017.1-.639 6.6 6.6 0 014.257 6.189 16.785 16.785 0 00-.083 1.716l.083-.043a7.587 7.587 0 01-3.633 5.677 7.928 7.928 0 01-3.492.81 7.93 7.93 0 01-3.694-.904zm3.006-10.387a3.755 3.755 0 00-2.087 2.837 5.341 5.341 0 00.457 3.9 2.724 2.724 0 003.815.454.086.086 0 00.087-.086 5.5 5.5 0 001.42-3.365.426.426 0 00-.087.454l-.056-.028a5.5 5.5 0 00-.453-3.179 2.847 2.847 0 00-2.26-1.117 2.834 2.834 0 00-.835.13zm34.746 4.809c-.907-.355-1.093-1.263-1.18-2.17a2.882 2.882 0 010-1.192h.044c.086-.812.453-7.353.824-9.81a3.234 3.234 0 011.814-2.723 2.833 2.833 0 013.038.553 2.364 2.364 0 01.639 1.716 6.479 6.479 0 01-.186 2.272c-.269 1.633-1.716 7.905-2.17 9.452a3.284 3.284 0 01-1.009 1.716 1.67 1.67 0 01-1.05.371 1.669 1.669 0 01-.763-.18z"}))}HolaGray.defaultProps={width:"50",height:"19",viewBox:"0 0 62.826 23.616"};module.exports=HolaGray;HolaGray.default=HolaGray},103:function(module,exports,__webpack_require__){var React=__webpack_require__(13);function FlameGray(props){return React.createElement("svg",props,React.createElement("path",{fill:"#A3B5CA",fillOpacity:".8",fillRule:"evenodd",d:"M14.297 0c-.06.153-1.092 2.824.48 4.88l.16.202c1.725 2.113 5.81 5.22 7.885 9.989l.025-.267c.16-1.324.802-2.55 1.81-3.447l.188-.16c1.657-1.397 2.348-1.438 2.348-1.438-.09.168-1.507 2.834-.787 5.053l.094.302c.73 2.394 1.647 6.548 1.48 9.155l-.003.31C27.824 31.993 22.182 38 13.946 38l-.37-.003C4.762 37.83 0 31.722 0 24.269l.014-.441c.106-2.202.712-4.354 1.778-6.295l.107-.21c1.53-3.175.004-7.397-.894-7.693.201.048 4.382 1.082 4.81 4.794l.02-.012c.242-.15 2.626-1.708 3.083-5.558.484-4.06 2.145-7.472 5.38-8.854zM4.993 25.235H3.5l.007.28c.205 5.5 4.827 9.888 10.492 9.894 5.762-.004 10.446-4.543 10.501-10.174h-1.493l-.01.262c-.225 4.695-4.158 8.434-8.998 8.495-4.93-.063-8.916-3.94-9.006-8.757zm13.97-5.371c-1.09 0-1.976 1.192-1.976 2.662s.886 2.663 1.977 2.663c1.09 0 1.977-1.192 1.977-2.663 0-1.47-.885-2.662-1.977-2.662zm-9.972 0c-1.09 0-1.977 1.192-1.977 2.662S7.9 25.19 8.991 25.19c1.09 0 1.977-1.192 1.977-2.663 0-1.47-.886-2.662-1.977-2.662z"}))}FlameGray.defaultProps={width:"28",height:"38",viewBox:"0 0 28 38"};module.exports=FlameGray;FlameGray.default=FlameGray},52:function(module,__webpack_exports__,__webpack_require__){"use strict";var react__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(13);var react__WEBPACK_IMPORTED_MODULE_0___default=__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);var _util_util_js__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(10);var _util_util_js__WEBPACK_IMPORTED_MODULE_1___default=__webpack_require__.n(_util_util_js__WEBPACK_IMPORTED_MODULE_1__);var _util_zerr_js__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(12);var _util_zerr_js__WEBPACK_IMPORTED_MODULE_2___default=__webpack_require__.n(_util_zerr_js__WEBPACK_IMPORTED_MODULE_2__);var _util_etask_js__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__(11);var _util_etask_js__WEBPACK_IMPORTED_MODULE_3___default=__webpack_require__.n(_util_etask_js__WEBPACK_IMPORTED_MODULE_3__);var _util_date_js__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__(17);var _util_date_js__WEBPACK_IMPORTED_MODULE_4___default=__webpack_require__.n(_util_date_js__WEBPACK_IMPORTED_MODULE_4__);var _bext_vpn_ui_ui_lib_js__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__(34);var _bext_vpn_util_util_js__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__(14);var _bext_vpn_util_util_js__WEBPACK_IMPORTED_MODULE_6___default=__webpack_require__.n(_bext_vpn_util_util_js__WEBPACK_IMPORTED_MODULE_6__);var _bext_vpn_ui_ui_api_js__WEBPACK_IMPORTED_MODULE_7__=__webpack_require__(25);
// LICENSE_CODE ZON
var _temp;function _defineProperty(obj,key,value){if(key in obj){Object.defineProperty(obj,key,{value:value,enumerable:true,configurable:true,writable:true})}else{obj[key]=value}return obj}_bext_vpn_util_util_js__WEBPACK_IMPORTED_MODULE_6___default.a.assert_ui("be_ui_context");const SEC=_util_date_js__WEBPACK_IMPORTED_MODULE_4___default.a.ms.SEC,perr=_bext_vpn_ui_ui_api_js__WEBPACK_IMPORTED_MODULE_7__["a"].perr;const E={};E.App_context=react__WEBPACK_IMPORTED_MODULE_0___default.a.createContext();E.Provider=(_temp=class App_context_provider extends _bext_vpn_ui_ui_lib_js__WEBPACK_IMPORTED_MODULE_5__["a"].PureComponent{constructor(...args){super(...args);_defineProperty(this,"state",{enabled:true,is_tpopup:_bext_vpn_util_util_js__WEBPACK_IMPORTED_MODULE_6___default.a.is_tpopup(),src_country:null,ip:null,rule:null,is_mitm_site:false,is_mitm_ui_enabled:_bext_vpn_ui_ui_api_js__WEBPACK_IMPORTED_MODULE_7__["a"].get_mitm_ext_ui_enabled(),user:null,is_premium:false,trial:null,is_trial_expired:null,is_grace_period:null,url:"",root_url:"",redirects:[],busy_info:{},busy:false,error:false,inited:false,proxy_error:false,dev_mode:false,ext_conflict:false,incognito_allowed:false,no_permission:false,agree_ts:1,protect_ui:{},watermark_pos:null,set_watermark_pos:pos=>this.set_watermark_pos(pos),set_error:error=>this.setState({error:error}),force_trial_update:()=>this.update_trial()})}componentDidMount(){const _this=this;this.etask(_util_etask_js__WEBPACK_IMPORTED_MODULE_3___default()((function*(){if(!_this.props.tpopup_type){if(!_bext_vpn_ui_ui_api_js__WEBPACK_IMPORTED_MODULE_7__["a"].get_user())_bext_vpn_ui_ui_api_js__WEBPACK_IMPORTED_MODULE_7__["a"].force_bext_config_update();_bext_vpn_ui_ui_api_js__WEBPACK_IMPORTED_MODULE_7__["a"].update_svc_info();_bext_vpn_ui_ui_api_js__WEBPACK_IMPORTED_MODULE_7__["a"].refresh_user({force_premium:true,reason:"popup_open"})}yield _this.update_url();yield _this.update_location();yield _this.update_enabled();yield _this.update_user();yield _this.update_trial();yield _this.update_mitm_site();yield _this.update_status();yield _this.update_protect_ui();yield _this.update_conflict();yield _this.update_no_permission();yield _this.update_agree_ts();yield _this.update_suspended();yield _this.update_dev_mode();yield _this.update_enabled_rule();yield _this.update_proxy_error();yield _this.update_watermark_pos();_this.on(_bext_vpn_ui_ui_api_js__WEBPACK_IMPORTED_MODULE_7__["a"],"url_changed",_this.update_url);_this.on(_bext_vpn_ui_ui_api_js__WEBPACK_IMPORTED_MODULE_7__["a"],"location_changed",_this.update_location);_this.on(_bext_vpn_ui_ui_api_js__WEBPACK_IMPORTED_MODULE_7__["a"],"enabled_changed",_this.update_enabled);_this.on(_bext_vpn_ui_ui_api_js__WEBPACK_IMPORTED_MODULE_7__["a"],"trial_start trial_change rule_changed",_this.update_trial);_this.on(_bext_vpn_ui_ui_api_js__WEBPACK_IMPORTED_MODULE_7__["a"],"trial_end",_this.on_trial_end);_this.on(_bext_vpn_ui_ui_api_js__WEBPACK_IMPORTED_MODULE_7__["a"],"user_changed",_this.update_user);_this.on(_bext_vpn_ui_ui_api_js__WEBPACK_IMPORTED_MODULE_7__["a"],"rule_changed",_this.update_enabled_rule);_this.on(_bext_vpn_ui_ui_api_js__WEBPACK_IMPORTED_MODULE_7__["a"],"ext_active_changed",_this.update_enabled_rule);_this.on(_bext_vpn_ui_ui_api_js__WEBPACK_IMPORTED_MODULE_7__["a"],"ext_suspended_changed",_this.update_enabled_rule);_this.on(_bext_vpn_ui_ui_api_js__WEBPACK_IMPORTED_MODULE_7__["a"],"mitm_site_changed",_this.update_mitm_site);_this.on(_bext_vpn_ui_ui_api_js__WEBPACK_IMPORTED_MODULE_7__["a"],"status_changed",_this.update_status);_this.on(_bext_vpn_ui_ui_api_js__WEBPACK_IMPORTED_MODULE_7__["a"],"set_tab_state",_this.on_tab_state);_this.on(_bext_vpn_ui_ui_api_js__WEBPACK_IMPORTED_MODULE_7__["a"],"svc_info_changed",_this.update_protect_ui);_this.on(_bext_vpn_ui_ui_api_js__WEBPACK_IMPORTED_MODULE_7__["a"],"protect_changed",_this.update_protect_ui);_this.on(_bext_vpn_ui_ui_api_js__WEBPACK_IMPORTED_MODULE_7__["a"],"ext_conflict_changed",_this.update_conflict);_this.on(_bext_vpn_ui_ui_api_js__WEBPACK_IMPORTED_MODULE_7__["a"],"no_permission_changed",_this.update_no_permission);_this.on(_bext_vpn_ui_ui_api_js__WEBPACK_IMPORTED_MODULE_7__["a"],"agree_ts_changed",_this.update_agree_ts);_this.on(_bext_vpn_ui_ui_api_js__WEBPACK_IMPORTED_MODULE_7__["a"],"ext_suspended_changed",_this.update_suspended);_this.on(_bext_vpn_ui_ui_api_js__WEBPACK_IMPORTED_MODULE_7__["a"],"dev_mode_changed",_this.update_dev_mode);_this.on(_bext_vpn_ui_ui_api_js__WEBPACK_IMPORTED_MODULE_7__["a"],"user_action_error",_this.on_user_action_error);_this.on(_bext_vpn_ui_ui_api_js__WEBPACK_IMPORTED_MODULE_7__["a"],"tab_load_err",_this.update_proxy_error);_this.setState({inited:true,incognito_allowed:yield _bext_vpn_ui_ui_api_js__WEBPACK_IMPORTED_MODULE_7__["a"].is_incognito_allowed()})})))}componentDidUpdate(prev_props,prev_state){let state=this.state,props=this.props;let changed_root_url=prev_state.root_url!=state.root_url;let changed_url=prev_state.url!=state.url;let changed_user=prev_state.user!=state.user;if(changed_root_url||changed_user){this.update_trial();this.update_enabled_rule()}if(changed_root_url)this.update_mitm_site();if(changed_url)this.update_watermark_pos();if(!props.tpopup_type&&state.rule&&prev_state.rule!=state.rule)_bext_vpn_ui_ui_api_js__WEBPACK_IMPORTED_MODULE_7__["a"].trigger_bg("popup_open",state.rule);if(prev_state.busy!=state.busy){this.clear_timer("busy_timer");this.clear_timer("very_busy_timer");if(state.busy&&!props.tpopup_type){this.set_timer("busy_timer",()=>{perr("be_ui_vpn_busy_slow",state.busy_info);this.set_timer("very_busy_timer",()=>{perr("be_ui_vpn_busy_very_slow",state.busy_info)},13*SEC)},7*SEC)}}}setState(state){return _util_etask_js__WEBPACK_IMPORTED_MODULE_3___default.a.cb_apply(super.setState,this,[state])}update_location(){const _ref=_bext_vpn_ui_ui_api_js__WEBPACK_IMPORTED_MODULE_7__["a"].get_location()||{},country=_ref.country,ip=_ref.ip;this.setState({src_country:country,ip:ip});this.clear_timer("country_timer");if(country){if(this.no_country_perr_sent&&!this.props.tpopup_type)perr("be_ui_vpn_no_country_recover",{country:country},{err:true});return}if(!this.props.tpopup_type){this.set_timer("country_timer",()=>{_bext_vpn_ui_ui_api_js__WEBPACK_IMPORTED_MODULE_7__["a"].no_country_perr();this.no_country_perr_sent=true},3*SEC)}}update_enabled_rule(){let _this=this;return this.etask(_util_etask_js__WEBPACK_IMPORTED_MODULE_3___default()((function*(){let tab_id=_bext_vpn_ui_ui_api_js__WEBPACK_IMPORTED_MODULE_7__["a"].get_tab_id(),url=_bext_vpn_ui_ui_api_js__WEBPACK_IMPORTED_MODULE_7__["a"].get_url();_this.setState({rule:yield _bext_vpn_ui_ui_api_js__WEBPACK_IMPORTED_MODULE_7__["a"].get_enabled_rule({tab_id:tab_id,url:url})})})))}update_proxy_error(){let _this=this;return this.etask(_util_etask_js__WEBPACK_IMPORTED_MODULE_3___default()((function*(){let tab_id=_bext_vpn_ui_ui_api_js__WEBPACK_IMPORTED_MODULE_7__["a"].get_tab_id();let proxy_error=yield _bext_vpn_ui_ui_api_js__WEBPACK_IMPORTED_MODULE_7__["a"].get_tab_load_err(tab_id);_this.setState({proxy_error:proxy_error})})))}update_mitm_site(){let _this=this;return this.etask(_util_etask_js__WEBPACK_IMPORTED_MODULE_3___default()((function*(){let url=_bext_vpn_ui_ui_api_js__WEBPACK_IMPORTED_MODULE_7__["a"].get_url();_this.setState({is_mitm_site:yield _bext_vpn_ui_ui_api_js__WEBPACK_IMPORTED_MODULE_7__["a"].is_mitm_site(url)})})))}update_status(){let _this=this;return this.etask(_util_etask_js__WEBPACK_IMPORTED_MODULE_3___default()((function*(){const wait=300-(Date.now()-(_this.update_status_ts||0));if(wait>0)yield _util_etask_js__WEBPACK_IMPORTED_MODULE_3___default.a.sleep(wait);let s={busy_info:yield _bext_vpn_ui_ui_api_js__WEBPACK_IMPORTED_MODULE_7__["a"].get_busy_info()};s.busy=s.busy_info.busy;_this.setState(s);_this.update_status_ts=Date.now()})))}on_tab_state(event){if(!["fix_vpn_err","set_rule_err"].includes(event.curr))return;this.setState({error:true});if(!this.props.tpopup_type)perr("be_ui_vpn_tab_state",{state:event})}on_user_action_error(event){if(!_bext_vpn_ui_ui_api_js__WEBPACK_IMPORTED_MODULE_7__["a"].get_enabled())return;perr("be_ui_user_action_error",undefined,{err:event});this.setState({error:true})}update_url(){let _this=this;return this.etask(_util_etask_js__WEBPACK_IMPORTED_MODULE_3___default()((function*(){let root_url_prev=_this.state.root_url;let url=_bext_vpn_ui_ui_api_js__WEBPACK_IMPORTED_MODULE_7__["a"].get_url(),root_url=_bext_vpn_ui_ui_api_js__WEBPACK_IMPORTED_MODULE_7__["a"].get_root_url();let redirects=yield _bext_vpn_ui_ui_api_js__WEBPACK_IMPORTED_MODULE_7__["a"].get_redirect_urls();_this.setState({url:url,root_url:root_url,redirects:redirects});if(root_url_prev&&root_url_prev!=root_url&&!_this.props.tpopup_type){let info={root_url:root_url,root_url_prev:root_url_prev,ext_enabled:_bext_vpn_ui_ui_api_js__WEBPACK_IMPORTED_MODULE_7__["a"].get_ext_active(),ext_suspended:_bext_vpn_ui_ui_api_js__WEBPACK_IMPORTED_MODULE_7__["a"].get_ext_suspended()};if(window.hola)info.t=Date.now()-window.hola.t.l_start;perr("be_ui_vpn_root_url_changed",info,{err:true})}})))}update_enabled(){this.setState({enabled:_bext_vpn_ui_ui_api_js__WEBPACK_IMPORTED_MODULE_7__["a"].get_enabled()})}update_user(){let _this=this;return this.etask(_util_etask_js__WEBPACK_IMPORTED_MODULE_3___default()((function*(){let is_premium=_bext_vpn_ui_ui_api_js__WEBPACK_IMPORTED_MODULE_7__["a"].get_is_premium();let user=_bext_vpn_ui_ui_api_js__WEBPACK_IMPORTED_MODULE_7__["a"].get_user();if(!user)return void _this.setState({user:user,is_premium:is_premium});_this.setState({is_premium:is_premium,user:{is_paid:yield _bext_vpn_ui_ui_api_js__WEBPACK_IMPORTED_MODULE_7__["a"].is_paid(),display_name:user.displayName,verified:user.verified,hola_uid:user.hola_uid,email:_util_util_js__WEBPACK_IMPORTED_MODULE_1___default.a.get(user.emails,"0.value")}})})))}update_trial(){let _this=this;return this.etask(_util_etask_js__WEBPACK_IMPORTED_MODULE_3___default()((function*(){const root_url=_bext_vpn_ui_ui_api_js__WEBPACK_IMPORTED_MODULE_7__["a"].get_root_url();let tab_id=_bext_vpn_ui_ui_api_js__WEBPACK_IMPORTED_MODULE_7__["a"].get_tab_id(),url=_bext_vpn_ui_ui_api_js__WEBPACK_IMPORTED_MODULE_7__["a"].get_url();const rule=yield _bext_vpn_ui_ui_api_js__WEBPACK_IMPORTED_MODULE_7__["a"].get_enabled_rule({tab_id:tab_id,url:url});const country=rule&&rule.country;const user=_bext_vpn_ui_ui_api_js__WEBPACK_IMPORTED_MODULE_7__["a"].get_user();const is_premium=_bext_vpn_ui_ui_api_js__WEBPACK_IMPORTED_MODULE_7__["a"].get_is_premium();let trial=null;let is_trial_expired=false;let is_grace_period=false;if((root_url||country)&&user&&!is_premium){trial=yield _bext_vpn_ui_ui_api_js__WEBPACK_IMPORTED_MODULE_7__["a"].get_trial_active(root_url,country);is_trial_expired=yield _bext_vpn_ui_ui_api_js__WEBPACK_IMPORTED_MODULE_7__["a"].is_trial_expired(root_url,country);is_grace_period=yield _bext_vpn_ui_ui_api_js__WEBPACK_IMPORTED_MODULE_7__["a"].is_trial_grace_period(root_url,country)}_util_zerr_js__WEBPACK_IMPORTED_MODULE_2___default.a.notice("ui context update_trial root_url: %s, country: %s, "+"user: %s, is_premium: %s, trial: %s, expired: %s, grace: %s",root_url,country,!!user,is_premium,!!trial,is_trial_expired,is_grace_period);_this.setState({trial:trial,is_trial_expired:is_trial_expired,is_grace_period:is_grace_period})})))}on_trial_end(){_util_zerr_js__WEBPACK_IMPORTED_MODULE_2___default.a.notice("ui context on_trial_end %s",this.state.root_url);const _this=this;this.etask(_util_etask_js__WEBPACK_IMPORTED_MODULE_3___default()((function*(){yield _this.update_trial();if(!_this.state.trial&&_this.state.is_tpopup&&_this.props.tpopup_type!="watermark"){_bext_vpn_ui_ui_api_js__WEBPACK_IMPORTED_MODULE_7__["a"].set_tpopup_type("watermark")}})))}update_protect_ui(){this.setState({protect_ui:{pc:_bext_vpn_ui_ui_api_js__WEBPACK_IMPORTED_MODULE_7__["a"].get_protect_pc(),browser:_bext_vpn_ui_ui_api_js__WEBPACK_IMPORTED_MODULE_7__["a"].get_protect_browser(),tooltips:_bext_vpn_ui_ui_api_js__WEBPACK_IMPORTED_MODULE_7__["a"].get_protect_tooltips(),has_exe:!!_bext_vpn_ui_ui_api_js__WEBPACK_IMPORTED_MODULE_7__["a"].get_svc_info()}})}update_conflict(){this.setState({ext_conflict:_bext_vpn_ui_ui_api_js__WEBPACK_IMPORTED_MODULE_7__["a"].get_ext_conflict()})}update_no_permission(){this.setState({no_permission:_bext_vpn_ui_ui_api_js__WEBPACK_IMPORTED_MODULE_7__["a"].get_no_permission()})}update_agree_ts(){this.setState({agree_ts:_bext_vpn_ui_ui_api_js__WEBPACK_IMPORTED_MODULE_7__["a"].get_agree_ts()})}update_suspended(){this.setState({suspended:_bext_vpn_ui_ui_api_js__WEBPACK_IMPORTED_MODULE_7__["a"].get_ext_suspended()})}update_dev_mode(){this.setState({dev_mode:_bext_vpn_ui_ui_api_js__WEBPACK_IMPORTED_MODULE_7__["a"].get_dev_mode()})}update_watermark_pos(){const _this=this;return this.etask(_util_etask_js__WEBPACK_IMPORTED_MODULE_3___default()((function*(){_this.setState({watermark_pos:yield _bext_vpn_ui_ui_api_js__WEBPACK_IMPORTED_MODULE_7__["a"].get_watermark_pos(_this.state.url)})})))}set_watermark_pos(pos){this.setState({watermark_pos:pos});_bext_vpn_ui_ui_api_js__WEBPACK_IMPORTED_MODULE_7__["a"].set_watermark_pos(this.state.url,pos)}render(){return react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(E.App_context.Provider,{value:this.state},this.props.children)}},_temp);__webpack_exports__["a"]=E},6:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__);var _bext_pub_backbone_js__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(18);var _bext_pub_backbone_js__WEBPACK_IMPORTED_MODULE_0___default=__webpack_require__.n(_bext_pub_backbone_js__WEBPACK_IMPORTED_MODULE_0__);var _util_etask_js__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(11);var _util_etask_js__WEBPACK_IMPORTED_MODULE_1___default=__webpack_require__.n(_util_etask_js__WEBPACK_IMPORTED_MODULE_1__);var _bext_pub_browser_js__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(29);var _bext_pub_browser_js__WEBPACK_IMPORTED_MODULE_2___default=__webpack_require__.n(_bext_pub_browser_js__WEBPACK_IMPORTED_MODULE_2__);var _util_zerr_js__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__(12);var _util_zerr_js__WEBPACK_IMPORTED_MODULE_3___default=__webpack_require__.n(_util_zerr_js__WEBPACK_IMPORTED_MODULE_3__);var _bext_vpn_util_util_js__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__(14);var _bext_vpn_util_util_js__WEBPACK_IMPORTED_MODULE_4___default=__webpack_require__.n(_bext_vpn_util_util_js__WEBPACK_IMPORTED_MODULE_4__);var _bext_vpn_ui_ui_api_js__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__(25);var _bext_vpn_ui_app_js__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__(83);
// LICENSE_CODE ZON
_bext_vpn_util_util_js__WEBPACK_IMPORTED_MODULE_4___default.a.assert_ui("be_popup_main");const chrome=window.chrome;const E=new _bext_pub_backbone_js__WEBPACK_IMPORTED_MODULE_0___default.a.model;E.on("destroy",()=>E.uninit());E.zerr=window.hola.zerr=_util_zerr_js__WEBPACK_IMPORTED_MODULE_3___default.a;E.init=()=>_util_etask_js__WEBPACK_IMPORTED_MODULE_1___default()((function*(){try{if(E.inited)return;window.addEventListener("unload",()=>E._destroy());_bext_vpn_ui_app_js__WEBPACK_IMPORTED_MODULE_6__["a"].pre_init(E);yield _bext_vpn_ui_ui_api_js__WEBPACK_IMPORTED_MODULE_5__["a"].init();_util_zerr_js__WEBPACK_IMPORTED_MODULE_3___default.a.notice("popup got bg");_bext_vpn_ui_ui_api_js__WEBPACK_IMPORTED_MODULE_5__["a"].bg_main_recover();E.listen_to(_bext_vpn_ui_ui_api_js__WEBPACK_IMPORTED_MODULE_5__["a"],"bg_main_inited",inited_cb);E.inited=true}catch(e){_util_zerr_js__WEBPACK_IMPORTED_MODULE_3___default()("popup_main init error %s",_util_zerr_js__WEBPACK_IMPORTED_MODULE_3___default.a.e2s(e));_bext_vpn_ui_ui_api_js__WEBPACK_IMPORTED_MODULE_5__["a"].perr("be_popup_main_init_err",{},{err:e});_bext_vpn_ui_app_js__WEBPACK_IMPORTED_MODULE_6__["a"].render_init_err(e)}}));E.uninit=()=>{if(!E.inited)return;_bext_vpn_ui_app_js__WEBPACK_IMPORTED_MODULE_6__["a"].uninit();_util_zerr_js__WEBPACK_IMPORTED_MODULE_3___default.a.notice("popup uninit");_bext_vpn_ui_ui_api_js__WEBPACK_IMPORTED_MODULE_5__["a"].uninit();_bext_pub_browser_js__WEBPACK_IMPORTED_MODULE_2___default.a._destroy();E.stopListening();E.inited=false;E.set("inited",false);delete window.hola;delete window.conf;delete window.onerror};const inited_cb=()=>{try{if(!_bext_vpn_ui_ui_api_js__WEBPACK_IMPORTED_MODULE_5__["a"].get_bg_main_inited())return _util_zerr_js__WEBPACK_IMPORTED_MODULE_3___default.a.notice("popup_main bg_main not inited");_bext_vpn_ui_ui_api_js__WEBPACK_IMPORTED_MODULE_5__["a"].bg_main_recover();_util_zerr_js__WEBPACK_IMPORTED_MODULE_3___default.a.notice("popup inited");active_tab_fixup();close_vpn_tpopup();_bext_vpn_ui_ui_api_js__WEBPACK_IMPORTED_MODULE_5__["a"].rule_task_cancel_all();E.listen_to(_bext_vpn_ui_ui_api_js__WEBPACK_IMPORTED_MODULE_5__["a"],"vpn_status_changed",vpn_status_cb)}catch(e){_util_zerr_js__WEBPACK_IMPORTED_MODULE_3___default()("popup_main inited_cb error %s",_util_zerr_js__WEBPACK_IMPORTED_MODULE_3___default.a.e2s(e));_bext_vpn_ui_ui_api_js__WEBPACK_IMPORTED_MODULE_5__["a"].perr("be_popup_main_init_err",{},{err:e});_bext_vpn_ui_app_js__WEBPACK_IMPORTED_MODULE_6__["a"].render_init_err(e)}};const vpn_status_cb=()=>{try{if(_bext_vpn_ui_ui_api_js__WEBPACK_IMPORTED_MODULE_5__["a"].get_vpn_status()=="error"){if(E.get("tried_recover"))return;_util_zerr_js__WEBPACK_IMPORTED_MODULE_3___default()("trying auto-recover");E.set("tried_recover",true);_bext_vpn_ui_ui_api_js__WEBPACK_IMPORTED_MODULE_5__["a"].bg_vpn_recover();return}E.set("inited",true);_util_zerr_js__WEBPACK_IMPORTED_MODULE_3___default.a.notice("be_vpn ready");E.stopListening(_bext_vpn_ui_ui_api_js__WEBPACK_IMPORTED_MODULE_5__["a"],"vpn_status_changed");_bext_vpn_ui_app_js__WEBPACK_IMPORTED_MODULE_6__["a"].init()}catch(e){_util_zerr_js__WEBPACK_IMPORTED_MODULE_3___default()("popup_main vpn_status_cb error %s",_util_zerr_js__WEBPACK_IMPORTED_MODULE_3___default.a.e2s(e));_bext_vpn_ui_ui_api_js__WEBPACK_IMPORTED_MODULE_5__["a"].perr("be_popup_main_init_err",{},{err:e});_bext_vpn_ui_app_js__WEBPACK_IMPORTED_MODULE_6__["a"].render_init_err(e)}};const close_vpn_tpopup=()=>{if(_bext_vpn_util_util_js__WEBPACK_IMPORTED_MODULE_4___default.a.is_tpopup())return;_util_etask_js__WEBPACK_IMPORTED_MODULE_1___default()((function*close_vpn_tpopup_(){const tab_id=_bext_vpn_ui_ui_api_js__WEBPACK_IMPORTED_MODULE_5__["a"].get_tab_id();const tpopup_type=yield _bext_vpn_ui_ui_api_js__WEBPACK_IMPORTED_MODULE_5__["a"].tpopup_is_connected(tab_id);if(tpopup_type&&typeof tpopup_type!="string")_bext_vpn_ui_ui_api_js__WEBPACK_IMPORTED_MODULE_5__["a"].close_tab_tpopup(tab_id)}))};const active_tab_fixup=()=>{if(_bext_vpn_util_util_js__WEBPACK_IMPORTED_MODULE_4___default.a.is_tpopup())return;E.listenToOnce(_bext_vpn_ui_ui_api_js__WEBPACK_IMPORTED_MODULE_5__["a"],"tab_id_changed",()=>window.close());if(!chrome||!chrome.tabs)return;chrome.tabs.query({currentWindow:true,active:true},tabs=>{if(tabs&&tabs.length&&tabs[0].id!=_bext_vpn_ui_ui_api_js__WEBPACK_IMPORTED_MODULE_5__["a"].get_tab_id())window.close()})};__webpack_exports__["default"]=E},60:function(module,__webpack_exports__,__webpack_require__){"use strict";var react__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(13);var react__WEBPACK_IMPORTED_MODULE_0___default=__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);var _bext_vpn_ui_ui_api_js__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(25);
// LICENSE_CODE ZON
const E={};E.Text=function Text(){return react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("div",{className:"privacy_text"},react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("h3",null,"What types of information do we collect?"),react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("p",null,"We collect the following types of data from you when you use the Services:"),react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("ul",null,react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("li",null,"Log Data: Log data may include the following information- browser type, web pages you visit, time spent on those pages, access times and dates."),react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("li",null,'Personal Information: Personal information is information that may be of a private or sensitive nature, and which identifies or may identify you. The Personal Information we may collect and retain includes your IP address, your name and email address, screen name, payment and billing information or other information we may ask from time to time as will be required for the on-boarding process and services provisioning. When you create an account on the Services you are able to do so by using your credentials with a designated third party website or service ("Third Party Account") such as Gmail®. Doing so will enable you to link your account and your Third Party Account. If you choose this option, a Third Party Account pop-up box will appear that you will need to approve in order to proceed, and which will describe the types of information that we will obtain. This information includes your Personal Information stored on your Third Party Account, such as user-name, email address, profile picture, birth date, gender and preferences. Any Anonymous Information that is specifically connected or linked to any Personal Information, is treated by us as Personal Information, as long as such connection or linkage exists.'),react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("li",null,"Registering through social network account: When you register or sign-in to the Services via your social network account (e.g., Facebook, Google+), we will have access to basic information from your social network account, such as your full name, home address, email address, birth date, profile picture, friends list, personal description, as well as any other information you made publicly available on such account or agreed to share with us. At all times, we will abide by the terms, conditions and restrictions of the social network platform.")),react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("h3",null,"How do we use your information?"),react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("p",null,"We use your information in order to provide you with the Service. This means that we will use the information to set up your account, provide you with support regarding the Service, communicate with you for updates, marketing offers or concerns you may have and conduct statistical and analytical research to improve the Service."),react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("h3",null,"Information we share"),react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("p",null,"We do not rent or sell any Personal Information. We may disclose Personal Information to other trusted third party service providers or partners for the purposes of providing you with the Services, storage and analytics. We may also transfer or disclose Personal Information to our subsidiaries, affiliated companies."),react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("p",null,"We may also share your Personal Information and other information in special cases if we have good reason to believe that it is necessary to: (1) comply with law, regulation, subpoena or court order; (2) detect, prevent or otherwise address fraud, security, violation of our policies or technical issues; (3) enforce the provisions of this Privacy Policy or any other agreements between you and us, including investigation of potential violations thereof; (4) protect against harm to the rights, property or safety of us, its partners, its affiliates, users, or the public."),react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("h3",null,"Your Choices and Rights"),react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("p",null,"We strive to give you ways to update your information quickly or to delete it. To exercise such right, you may contact us at:"," ",react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("a",{href:"mailto:privacy@hola.org"},"privacy@hola.org")),react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("h3",null,"Contact Us"),react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("p",null,"If you feel that your privacy was not treated in accordance with our Privacy Policy, or if you believe that your privacy has been compromised by any person in the course of using the Services, please contact Hola at: ",react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("a",{href:"mailto:privacy@hola.org"},"privacy@hola.org")," and our privacy officer shall promptly investigate."))};E.title="Hola Firefox Add-on Privacy Policy";E.Privacy_view=function Privacy_view(){return react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("div",null,react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("header",null,react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("h1",null,E.title)),react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(E.Text,null),react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("div",{className:"actions"},react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("button",{onClick:()=>_bext_vpn_ui_ui_api_js__WEBPACK_IMPORTED_MODULE_1__["a"].set_agree_ts(Date.now())},"I Agree")))};__webpack_exports__["a"]=E},72:function(module,__webpack_exports__,__webpack_require__){"use strict";var react__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(13);var react__WEBPACK_IMPORTED_MODULE_0___default=__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);var _util_etask_js__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(11);var _util_etask_js__WEBPACK_IMPORTED_MODULE_1___default=__webpack_require__.n(_util_etask_js__WEBPACK_IMPORTED_MODULE_1__);var _util_util_js__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(10);var _util_util_js__WEBPACK_IMPORTED_MODULE_2___default=__webpack_require__.n(_util_util_js__WEBPACK_IMPORTED_MODULE_2__);var _bext_pub_util_js__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__(15);var _bext_pub_util_js__WEBPACK_IMPORTED_MODULE_3___default=__webpack_require__.n(_bext_pub_util_js__WEBPACK_IMPORTED_MODULE_3__);var _bext_vpn_util_util_js__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__(14);var _bext_vpn_util_util_js__WEBPACK_IMPORTED_MODULE_4___default=__webpack_require__.n(_bext_vpn_util_util_js__WEBPACK_IMPORTED_MODULE_4__);var _protocol_pub_countries_js__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__(49);var _protocol_pub_countries_js__WEBPACK_IMPORTED_MODULE_5___default=__webpack_require__.n(_protocol_pub_countries_js__WEBPACK_IMPORTED_MODULE_5__);var _util_zerr_js__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__(12);var _util_zerr_js__WEBPACK_IMPORTED_MODULE_6___default=__webpack_require__.n(_util_zerr_js__WEBPACK_IMPORTED_MODULE_6__);var _bext_vpn_ui_locale_js__WEBPACK_IMPORTED_MODULE_7__=__webpack_require__(56);var _bext_vpn_ui_ui_api_js__WEBPACK_IMPORTED_MODULE_8__=__webpack_require__(25);var _bext_vpn_ui_ui_lib_js__WEBPACK_IMPORTED_MODULE_9__=__webpack_require__(34);var _bext_vpn_ui_context_js__WEBPACK_IMPORTED_MODULE_10__=__webpack_require__(52);var _util_url_js__WEBPACK_IMPORTED_MODULE_11__=__webpack_require__(19);var _util_url_js__WEBPACK_IMPORTED_MODULE_11___default=__webpack_require__.n(_util_url_js__WEBPACK_IMPORTED_MODULE_11__);var _svc_vpn_pub_util_js__WEBPACK_IMPORTED_MODULE_12__=__webpack_require__(20);var _svc_vpn_pub_util_js__WEBPACK_IMPORTED_MODULE_12___default=__webpack_require__.n(_svc_vpn_pub_util_js__WEBPACK_IMPORTED_MODULE_12__);
// LICENSE_CODE ZON
function _defineProperty(obj,key,value){if(key in obj){Object.defineProperty(obj,key,{value:value,enumerable:true,configurable:true,writable:true})}else{obj[key]=value}return obj}function _slicedToArray(arr,i){return _arrayWithHoles(arr)||_iterableToArrayLimit(arr,i)||_nonIterableRest()}function _nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}function _iterableToArrayLimit(arr,i){if(!(Symbol.iterator in Object(arr)||Object.prototype.toString.call(arr)==="[object Arguments]")){return}var _arr=[];var _n=true;var _d=false;var _e=undefined;try{for(var _i=arr[Symbol.iterator](),_s;!(_n=(_s=_i.next()).done);_n=true){_arr.push(_s.value);if(i&&_arr.length===i)break}}catch(err){_d=true;_e=err}finally{try{if(!_n&&_i["return"]!=null)_i["return"]()}finally{if(_d)throw _e}}return _arr}function _arrayWithHoles(arr){if(Array.isArray(arr))return arr}const E={};const CG=_bext_pub_util_js__WEBPACK_IMPORTED_MODULE_3___default.a.CG,zget=_util_util_js__WEBPACK_IMPORTED_MODULE_2___default.a.get;const App_context=_bext_vpn_ui_context_js__WEBPACK_IMPORTED_MODULE_10__["a"].App_context,useState=react__WEBPACK_IMPORTED_MODULE_0___default.a.useState,useEffect=react__WEBPACK_IMPORTED_MODULE_0___default.a.useEffect,useContext=react__WEBPACK_IMPORTED_MODULE_0___default.a.useContext;function get_be_dev_mode(){let bg=window.chrome.extension.getBackgroundPage();if(!bg)_util_zerr_js__WEBPACK_IMPORTED_MODULE_6___default()("cannot get background");return zget(bg,"be_bg_main.be_dev_mode")}const Debug_conf_switch=({value:value=true,name:name,dev_mode_conf:dev_mode_conf,on_after_change:on_after_change,no_div:no_div,children:children})=>{const _useState=useState(false),_useState2=_slicedToArray(_useState,2),checked=_useState2[0],set_checked=_useState2[1];useEffect(()=>{let et=_util_etask_js__WEBPACK_IMPORTED_MODULE_1___default()((function*(){let curr=dev_mode_conf?get_be_dev_mode().get(name):yield _bext_vpn_ui_ui_api_js__WEBPACK_IMPORTED_MODULE_8__["a"].get_dbg_conf(name);set_checked(JSON.stringify(value)==JSON.stringify(curr))}));return()=>et.return()},[name,dev_mode_conf]);const set_conf_value=new_value=>{if(dev_mode_conf)get_be_dev_mode().set(name,new_value);else _bext_vpn_ui_ui_api_js__WEBPACK_IMPORTED_MODULE_8__["a"].set_dbg_conf(name,new_value)};const handle_change=e=>{let new_checked=e.target.checked;set_conf_value(new_checked?value:undefined);set_checked(new_checked);if(on_after_change)on_after_change(new_checked)};let inner=react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("label",null,react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("input",{type:"checkbox",checked:checked,onChange:handle_change}),children);return no_div?inner:react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("div",{className:"debug_switch"},inner)};const reload_ext_with_timeout=ms=>setTimeout(()=>_bext_pub_util_js__WEBPACK_IMPORTED_MODULE_3___default.a.reload_ext_native(),ms||500);class Force_agent extends react__WEBPACK_IMPORTED_MODULE_0___default.a.PureComponent{constructor(...args){super(...args);_defineProperty(this,"state",{});_defineProperty(this,"toggle_cb",e=>{this.setState({on:!!e.target.checked})});_defineProperty(this,"save_cb",()=>{const _this$state=this.state,on=_this$state.on,error=_this$state.error,value=_this$state.value;get_be_dev_mode().set("force_agent",on?value:null);reload_ext_with_timeout()});_defineProperty(this,"change_cb",event=>{try{const value=JSON.parse(event.target.value);this.setState({value:value,error:null})}catch(e){this.setState({error:"invaldi JSON "+e})}})}componentDidMount(){let value=get_be_dev_mode().get("force_agent");this.setState({value:value||this.props.def,on:!!value})}render(){let _this$state2=this.state,on=_this$state2.on,error=_this$state2.error,value=_this$state2.value;let _this$props=this.props,name=_this$props.name,title=_this$props.title;return react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("div",{className:"debug_area"},react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("div",{className:"debug_switch"},react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("label",null,react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("input",{type:"checkbox",checked:on,onChange:this.toggle_cb}),title),react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("button",{onClick:this.save_cb},"save")),on&&react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("div",null,react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("textarea",{rows:"3",style:{width:"95%"},onChange:this.change_cb},JSON.stringify(value).replace(/","/g,'",\r"')),error&&react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("div",{style:{color:"red"}},error)))}}class Change_trial extends react__WEBPACK_IMPORTED_MODULE_0___default.a.PureComponent{constructor(...args){super(...args);_defineProperty(this,"state",{value:60,error:null});_defineProperty(this,"on_change",event=>this.setState({value:event.target.value}));_defineProperty(this,"on_go_click",()=>{let _this=this;this.setState({error:null});_util_etask_js__WEBPACK_IMPORTED_MODULE_1___default()((function*(){try{yield _bext_vpn_ui_ui_api_js__WEBPACK_IMPORTED_MODULE_8__["a"].set_time_left(_bext_vpn_ui_ui_api_js__WEBPACK_IMPORTED_MODULE_8__["a"].get_root_url(),_this.get_proxy_country(),_this.state.value*1e3)}catch(e){_this.setState({error:e.toString()})}}))});_defineProperty(this,"on_reset_wait_click",()=>{let _this=this;this.setState({error:null});_util_etask_js__WEBPACK_IMPORTED_MODULE_1___default()((function*(){try{yield _bext_vpn_ui_ui_api_js__WEBPACK_IMPORTED_MODULE_8__["a"].set_time_left(_bext_vpn_ui_ui_api_js__WEBPACK_IMPORTED_MODULE_8__["a"].get_root_url(),_this.get_proxy_country(),0,true)}catch(e){_this.setState({error:e.toString()})}}))});_defineProperty(this,"on_reset_click",()=>{let _this=this;this.setState({error:null});_util_etask_js__WEBPACK_IMPORTED_MODULE_1___default()((function*(){try{yield _bext_vpn_ui_ui_api_js__WEBPACK_IMPORTED_MODULE_8__["a"].reset_trial(_bext_vpn_ui_ui_api_js__WEBPACK_IMPORTED_MODULE_8__["a"].get_root_url(),_this.get_proxy_country())}catch(e){_this.setState({error:e.toString()})}}))})}get_proxy_country(){let rule=this.context.rule;if(rule)return rule.country}componentDidMount(){let _this=this;return _util_etask_js__WEBPACK_IMPORTED_MODULE_1___default()((function*(){let root_url=_bext_vpn_ui_ui_api_js__WEBPACK_IMPORTED_MODULE_8__["a"].get_root_url();let country=_this.get_proxy_country();if(!root_url&&!country)return;let trial=yield _bext_vpn_ui_ui_api_js__WEBPACK_IMPORTED_MODULE_8__["a"].get_trial_active(root_url,country);let next_trial_ts=yield _bext_vpn_ui_ui_api_js__WEBPACK_IMPORTED_MODULE_8__["a"].get_next_trial_ts(root_url,country);let trial_ended=yield _bext_vpn_ui_ui_api_js__WEBPACK_IMPORTED_MODULE_8__["a"].is_trial_expired(root_url,country);_this.setState({trial:trial,trial_ended:trial_ended,value:60,waiting:!trial&&next_trial_ts>Date.now()})}))}render(){let state=this.state;if(!state.trial&&!state.waiting&&!state.trial_ended)return null;return react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("div",{className:"change-trial"},state.trial&&react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("div",null,"Move trial time: ",react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("input",{type:"number",min:"10",step:"30",value:Math.round(state.value),onChange:this.on_change}),"sec ",react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("button",{onClick:this.on_go_click}," Go")),state.waiting&&react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("button",{onClick:this.on_reset_wait_click,style:{marginRight:"10px"}},"Reset trial wait"),react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("button",{onClick:this.on_reset_click},"Reset trial"),state.error&&react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("div",{className:"error-msg"},state.error))}}_defineProperty(Change_trial,"contextType",App_context);const Debug_conf_zerr_level=()=>{const _useState3=useState(_util_zerr_js__WEBPACK_IMPORTED_MODULE_6___default.a.level),_useState4=_slicedToArray(_useState3,2),level=_useState4[0],set_level=_useState4[1];useEffect(()=>{let et=_util_etask_js__WEBPACK_IMPORTED_MODULE_1___default()((function*(){let curr=zget(yield _bext_vpn_ui_ui_api_js__WEBPACK_IMPORTED_MODULE_8__["a"].get_dbg_conf("debug.zerr"),"level");set_level(_util_zerr_js__WEBPACK_IMPORTED_MODULE_6___default.a.L[curr]||_util_zerr_js__WEBPACK_IMPORTED_MODULE_6___default.a.level)}));return()=>et.return()},[]);const handle_change=e=>{_bext_vpn_ui_ui_api_js__WEBPACK_IMPORTED_MODULE_8__["a"].set_dbg_conf("debug.zerr",{level:e.target.value});set_level(e.target.value)};const levels=Object.keys(_util_zerr_js__WEBPACK_IMPORTED_MODULE_6___default.a.L).map(k=>react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("option",{key:k,value:k},k));const selected=Object.keys(_util_zerr_js__WEBPACK_IMPORTED_MODULE_6___default.a.L).find(k=>_util_zerr_js__WEBPACK_IMPORTED_MODULE_6___default.a.L[k]==level);return react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("div",null,"Zerr level:",react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("select",{onChange:handle_change,value:selected},levels))};E.Debug_view=function Debug_view({on_close:on_close}){const _useState5=useState("debug"),_useState6=_slicedToArray(_useState5,2),page=_useState6[0],set_page=_useState6[1];const disable_debug_cb=()=>_util_etask_js__WEBPACK_IMPORTED_MODULE_1___default()((function*(){yield _bext_vpn_ui_ui_api_js__WEBPACK_IMPORTED_MODULE_8__["a"].set_dev_mode(false);on_close()}));let ver=_bext_pub_util_js__WEBPACK_IMPORTED_MODULE_3___default.a.version();let rate_us={urls:[{url:"https://www.trustpilot.com/evaluate/hola.org",rand:1}]};return react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("div",{className:"debug_view"},page=="rule_rating"&&react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(Rule_rating_view,null),page=="debug"&&react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("div",null,react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("a",{onClick:disable_debug_cb},"Disable debug"),react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(Debug_conf_zerr_level,null),react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(Debug_conf_switch,{name:"protect_ui2.protect_pc"},"Enable desktop app in protect ui"),react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(Debug_conf_switch,{name:"protect_ui2.protect_browser"},"Enable browser in protect ui"),react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(Debug_conf_switch,{name:"debug.show_redirect"},"Show redirect in popup"),react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(Debug_conf_switch,{name:"debug.show_rule_rating"},"Show rule rating in popup"),react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(Debug_conf_switch,{name:"debug.mitm",on_after_change:_bext_pub_util_js__WEBPACK_IMPORTED_MODULE_3___default.a.reload_ext_native},"Enable MITM"),react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(Debug_conf_switch,{name:"debug.watermark_trial",value:true},"Watermark trial debug"),react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(Debug_conf_switch,{name:"debug.web_worker_requests_detector"},"Web worker requests detector"),react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(Debug_conf_switch,{dev_mode_conf:true,name:"debug_proxy"},"Proxy debug"),react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(Debug_conf_switch,{dev_mode_conf:true,name:"debug_pac"},"Virtual PAC"),react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(Debug_conf_switch,{name:"geo_popup.watermark.allow_hide",value:true},"Allow to hide watermark"),react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(Debug_conf_switch,{name:"proxy_error_ui",value:{min_ver:ver,icon:true,popup:true,dialog:true}},"Enable proxy error UI"),react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(Debug_conf_switch,{name:"rate_us",value:rate_us,on_after_change:_bext_vpn_ui_ui_api_js__WEBPACK_IMPORTED_MODULE_8__["a"].reset_rate_us},"Force rate us trustpilot redirect"),react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(Debug_conf_switch,{name:"geo_popup.watermark.banner.min_ver",value:ver},"Enable watermark banner"),react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(Debug_conf_switch,{name:"tpopup_window_min_ver",value:ver},"Enable tpopup window"),react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(Change_trial,null),react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("a",{onClick:()=>set_page("rule_rating")},"Rule rating page")))};function get_popular_country(host,rule_ratings){return _bext_vpn_util_util_js__WEBPACK_IMPORTED_MODULE_4___default.a.get_popular_country({host:host||E.get_host(),rule_ratings:rule_ratings})}function get_ratings(host,rule_ratings){var popular_countries=get_popular_country(host,rule_ratings);var tld=_bext_vpn_util_util_js__WEBPACK_IMPORTED_MODULE_4___default.a.get_tld_country(host);var ratings=[popular_countries[0],popular_countries[1]];if(tld&&tld!=ratings[0].proxy_country&&tld!=ratings[1].proxy_country){ratings.push({proxy_country:tld,rating:.1});ratings.sort((a,b)=>b.rating-a.rating)}if(tld&&tld!=ratings[0].proxy_country&&tld!=ratings[1].proxy_country){ratings.push({proxy_country:tld,rating:.1});ratings.sort((a,b)=>b.rating-a.rating)}return ratings}let min_suggest_rate=.3;class Rule_rating_view extends react__WEBPACK_IMPORTED_MODULE_0___default.a.PureComponent{constructor(...args){super(...args);_defineProperty(this,"state",{});_defineProperty(this,"onChange",e=>{let country=e.target.value;_util_zerr_js__WEBPACK_IMPORTED_MODULE_6___default.a.notice("set country %s",country);this.set_country(country)})}set_country(country){let _this=this,url=_bext_vpn_ui_ui_api_js__WEBPACK_IMPORTED_MODULE_8__["a"].get_url()||"";let host=_util_url_js__WEBPACK_IMPORTED_MODULE_11___default.a.get_host(url);let root_url=_svc_vpn_pub_util_js__WEBPACK_IMPORTED_MODULE_12___default.a.get_root_url(url);let rate,show_geo,rule_ratings,ratings,force_premium,need_mitm;_util_etask_js__WEBPACK_IMPORTED_MODULE_1___default()((function*set_country_(){try{const unblocking_rate_url=yield _bext_vpn_ui_ui_api_js__WEBPACK_IMPORTED_MODULE_8__["a"].get_unblocking_rate_url(200,country);const unblocking_rate=yield _bext_vpn_ui_ui_api_js__WEBPACK_IMPORTED_MODULE_8__["a"].get_unblocking_rate(200,country);for(let i=0,r;!rate&&(r=unblocking_rate[i]);i++){if(r.root_url==root_url)rate=r}show_geo=rate&&rate.unblocking_rate>min_suggest_rate;rule_ratings=yield _bext_vpn_ui_ui_api_js__WEBPACK_IMPORTED_MODULE_8__["a"].get_rule_ratings({root_url:root_url,country:country,limit:20,vpn_only:true});const premium=yield _bext_vpn_ui_ui_api_js__WEBPACK_IMPORTED_MODULE_8__["a"].get_force_premium_rule(root_url);force_premium=!!premium;need_mitm=yield _bext_vpn_ui_ui_api_js__WEBPACK_IMPORTED_MODULE_8__["a"].mitm_need_popup(url);ratings=get_ratings(host,rule_ratings);_this.setState({inited:true,rate:rate,show_geo:show_geo,ratings:ratings,rule_ratings:rule_ratings,force_premium:force_premium,need_mitm:need_mitm,country:country,root_url:root_url,unblocking_rate_url:unblocking_rate_url})}catch(e){console.error("debug_ui error %s %o",e,e)}}))}componentDidMount(){this.set_country(_bext_vpn_ui_ui_api_js__WEBPACK_IMPORTED_MODULE_8__["a"].get_country())}render(){let compact=this.props.compact;let _this$state3=this.state,country=_this$state3.country,root_url=_this$state3.root_url,unblocking_rate_url=_this$state3.unblocking_rate_url,rate=_this$state3.rate,show_geo=_this$state3.show_geo,inited=_this$state3.inited,ratings=_this$state3.ratings,rule_ratings=_this$state3.rule_ratings,force_premium=_this$state3.force_premium,need_mitm=_this$state3.need_mitm;console.log("---- country %s root_url %s unblocking_rate_url %s "+"rate %o show_geo",country,root_url,unblocking_rate_url,rate,show_geo);var flag=ratings&&ratings[0].proxy_country;var flag2=ratings&&ratings[1].proxy_country;var s={overflow:"auto",wordWrap:"normal"};if(compact){if(!inited)return react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("div",null);let info=!rate?"no rating":"rate from "+country+" "+parseInt(rate.unblocking_rate*100)+"% ("+parseInt(rate.popularity)+")";return react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("div",{style:{textAlign:"left",overflow:"auto"}},react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("div",{style:s},react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("div",null,info),"flags ",flag," ",flag2,force_premium?" plus":"",need_mitm?" mitm":"",show_geo?" geo":""))}return react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("div",{style:{textAlign:"left"}},react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("div",{style:s},"root_url: ",root_url),react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("div",{style:s},"your country: ",country),react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("div",{style:s},react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(Country_list,{country:"IL",onChange:this.onChange})),react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("div",{style:s},"1st flag: ",flag),react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("div",{style:s},"2nd flag: ",flag2),react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("div",{style:s},"premium popup: ",""+!!force_premium),react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("div",{style:s},"mitm popup: ",""+!!need_mitm),react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("div",{style:s},"geo popup: ",""+!!show_geo),react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("div",{style:s},"geo threshold: ",min_suggest_rate),react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("div",{style:s},react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("br",null),react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("div",null,json_str(rate)),react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("br",null),react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("div",null,json_str(ratings)),react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("br",null),react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("div",null,json_str(rule_ratings)),react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("br",null),react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("div",null,"unblocking_rate_url: ",unblocking_rate_url)))}}E.Rule_rating_view=Rule_rating_view;const Country_list=({country:country,onChange:onChange})=>react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("select",{onChange:onChange},_protocol_pub_countries_js__WEBPACK_IMPORTED_MODULE_5___default.a.proxy_countries.bext.map(c=>react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("option",{key:c,value:c,selected:c==country},Object(_bext_vpn_ui_locale_js__WEBPACK_IMPORTED_MODULE_7__["a"])(c))));const Redirect_view=props=>{const tab_id=_bext_vpn_ui_ui_api_js__WEBPACK_IMPORTED_MODULE_8__["a"].get_tab_id();const list=_bext_vpn_ui_ui_lib_js__WEBPACK_IMPORTED_MODULE_9__["a"].use_etask(()=>_bext_vpn_ui_ui_api_js__WEBPACK_IMPORTED_MODULE_8__["a"].get_redirect_list(tab_id),[],[tab_id])||[];if(!list.length)return react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("span",null);const s={overflow:"auto",wordWrap:"normal",textAlign:"left"};return react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("div",{style:s},"redirects: ",json_str(list))};class Checkbox_dev_mode extends react__WEBPACK_IMPORTED_MODULE_0___default.a.PureComponent{constructor(...args){super(...args);_defineProperty(this,"state",{checked:false});_defineProperty(this,"handle_change",e=>{let be_dev_mode=get_be_dev_mode(),checked=!!e.target.checked;be_dev_mode.set(this.props.name,checked);this.setState({checked:checked})})}componentDidMount(){let p=this.props,be_dev_mode=get_be_dev_mode();this.value=p.value===undefined?true:p.value;this.setState({checked:!!be_dev_mode.get(p.name)})}render(){return react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("label",null,react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("input",{type:"checkbox",checked:this.state.checked,onChange:this.handle_change}),this.props.label)}}class Ajax_simulator extends react__WEBPACK_IMPORTED_MODULE_0___default.a.PureComponent{render(){return react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("div",null,react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("span",null,"zgettunnel: "),react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(Checkbox_dev_mode,{name:"zgettunnel_ajax_slow",label:"SLOW +15sec"}),react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(Checkbox_dev_mode,{name:"zgettunnel_ajax_fail",label:"FAIL"}))}}E.Ajax_simulator=Ajax_simulator;let used_ips=[];class Proxy_debug extends react__WEBPACK_IMPORTED_MODULE_0___default.a.PureComponent{constructor(...args){super(...args);_defineProperty(this,"state",{});_defineProperty(this,"disable_proxy_debug_cb",()=>{get_be_dev_mode().set("debug_proxy",false);_bext_vpn_ui_ui_api_js__WEBPACK_IMPORTED_MODULE_8__["a"].close_popup()});_defineProperty(this,"toggle_ui_ps",()=>{let ui_ps=this.state.ui_ps;this.setState({ui_ps:!ui_ps})});_defineProperty(this,"toggle_bg_ps",()=>{let bg_ps=this.state.bg_ps;this.setState({bg_ps:!bg_ps})});_defineProperty(this,"reset_events",()=>{let bg=window.chrome.extension.getBackgroundPage();if(!bg)return _util_zerr_js__WEBPACK_IMPORTED_MODULE_6___default()("cannot get background");let be_vpn=bg.be_bg_main.be_vpn;be_vpn.reset_events()});_defineProperty(this,"refresh_data",()=>{let _this=this;let url=_bext_vpn_ui_ui_api_js__WEBPACK_IMPORTED_MODULE_8__["a"].get_url();let bg=window.chrome.extension.getBackgroundPage();if(!bg)return _util_zerr_js__WEBPACK_IMPORTED_MODULE_6___default()("cannot get background");let _bg$be_bg_main=bg.be_bg_main,be_rule=_bg$be_bg_main.be_rule,be_vpn=_bg$be_bg_main.be_vpn,unblocker_lib=_bg$be_bg_main.unblocker_lib;let events=be_vpn.events_to_str();let ip_mismatch=be_vpn.get_event_n("pac_miss");let pac_slow=be_vpn.get_event_n("pac_slow");let pac_reload=be_vpn.get_event_n("pac_reload");let stuck=be_vpn.get_event_n(">stuck");let verify_err=be_vpn.get_event_n("<verify_err");let rules=be_rule.get_rules(url);let rule=rules&&rules[0];this.setState({events:events,pac_slow:pac_slow,pac_reload:pac_reload,stuck:stuck,ip_mismatch:ip_mismatch,verify_err:verify_err});if(rule){let country=rule.country;let chosen=unblocker_lib.get_chosen_agent({country:country},rule);this.setState({rule:rule,country:country,rule_route:be_vpn.be_tab_unblocker.get_rule_route(rules[0]),agents:unblocker_lib.debug&&unblocker_lib.debug.get_agents(),chosen:chosen});_util_etask_js__WEBPACK_IMPORTED_MODULE_1___default()((function*debug_refresh_data(){let rule_agents=yield unblocker_lib.get_agents(null,rule);_this.setState({rule_agents:rule_agents})}))}if(this.state.ui_ps)this.setState({ui_ps_str:_util_etask_js__WEBPACK_IMPORTED_MODULE_1___default.a.ps()});if(this.state.bg_ps)this.setState({bg_ps_str:bg.be_bg_main.etask.ps()})})}componentDidMount(){this.timer=setInterval(this.refresh_data,1e3)}componentWillUnmount(){clearInterval(this.timer)}render(){const _this$state4=this.state,country=_this$state4.country,rule_route=_this$state4.rule_route,chosen=_this$state4.chosen,rule_agents=_this$state4.rule_agents,events=_this$state4.events,ui_ps=_this$state4.ui_ps,ui_ps_str=_this$state4.ui_ps_str,bg_ps=_this$state4.bg_ps,bg_ps_str=_this$state4.bg_ps_str,ip_mismatch=_this$state4.ip_mismatch,pac_slow=_this$state4.pac_slow,verify_err=_this$state4.verify_err,stuck=_this$state4.stuck,pac_reload=_this$state4.pac_reload;const ip=zget(chosen,"ip");const host=(zget(chosen,"host")||"").replace(".hola.org","");if(!used_ips.includes(ip))used_ips.push(ip);const sw={color:"orange",fontWeight:"bold"};const se={color:"red",fontWeight:"bold"};const bw=zget(chosen,"bw_available");const rtt=zget(chosen,"rtt");const sip_mismatch=ip_mismatch?se:null;const spac_slow=pac_slow?se:null;const spac_reload=pac_reload?se:null;const sstuck=stuck?se:null;const sverify_err=verify_err?se:null;const stext={height:"50px",fontSize:"10px"};const stext_wide={width:"360px",height:"150px",fontSize:"10px"};const sbw=bw>200?null:bw>50?sw:se;const srtt=rtt<700?null:rtt<1e3?sw:se;const sips=used_ips.length<5?null:used_ips.length<10?sw:se;let fa={ip:"134.209.174.30",host:"zagent2050.hola.org",port:22222};return react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("div",{style:{textAlign:"left",maxWidth:"400px",maxHeight:"500px",overflow:"scroll",fontSize:"12px"}},react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("div",null,react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("a",{onClick:this.disable_proxy_debug_cb},"Disable debug")),react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("div",null,react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("b",null,country),react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("span",null," ",host," ",ip),react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("span",null,", "),react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("span",{style:sips},"unique_ips: ",used_ips.length)),react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("div",null,react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("span",{style:sbw},Math.round(bw)," MBs"),react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("span",{style:srtt},", verify ",rtt,"ms"),ip_mismatch&&react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("span",{style:sip_mismatch},", pac MISS: ",ip_mismatch),pac_reload&&react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("span",{style:spac_reload},", pac reload: ",pac_reload),pac_slow&&react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("span",{style:spac_slow},", pac SLOW: ",pac_slow),stuck&&react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("span",{style:sstuck},", STUCK: ",stuck),verify_err&&react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("span",{style:sverify_err},", verify err: ",verify_err)),react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("div",null,react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("span",null,"XXX disable debug"),react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("span",null,"XXX pool_ip"),react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("span",null,"XXX typeerror"),react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("span",null,"XXX trace_errors/show_errors"),react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("span",null,"XXX show proxy_rule for site"),react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("span",null,"XXX show bext_config"),react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("button",{onClick:this.toggle_ui_ps},"ui ps"),ui_ps&&react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("textarea",{style:stext_wide,value:"ui "+ui_ps_str}),react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("button",{onClick:this.toggle_bg_ps},"bg ps"),bg_ps&&react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("textarea",{style:stext_wide,value:"bg "+bg_ps_str}),react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("button",{onClick:this.reset_events},"reset events"),react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(Debug_conf_switch,{no_div:true,dev_mode_conf:true,name:"debug_pac"},"virtual PAC")),react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(Force_agent,{name:"be_force_agent",def:fa,title:"Force agent"}),react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("textarea",{style:stext_wide,value:events}),react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(Ajax_simulator,null),react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("textarea",{style:stext,value:"rule_route: "+JSON.stringify(rule_route,null," ")}),react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("textarea",{style:stext,value:"chosen: "+JSON.stringify(chosen,null," ")}),react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("textarea",{style:stext,value:"rule_agents: "+JSON.stringify(rule_agents,null," ")}))}}E.Proxy_debug=Proxy_debug;E.Debug_ui=function Debug_ui(){const _useContext=useContext(App_context),dev_mode=_useContext.dev_mode,is_tpopup=_useContext.is_tpopup;if(!dev_mode||is_tpopup)return null;let debug_proxy=get_be_dev_mode().get("debug_proxy");return react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("div",{className:"debug-ui"},CG("debug.show_rule_rating")&&react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(E.Rule_rating_view,{compact:true}),CG("debug.show_redirect")&&react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(Redirect_view,null),debug_proxy&&react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(E.Proxy_debug,null))};function json_str(o){let s=JSON.stringify(o||"");return s.replace(/,/,", ").replace(/"/g,"")}__webpack_exports__["a"]=E},83:function(module,__webpack_exports__,__webpack_require__){"use strict";var react__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(13);var react__WEBPACK_IMPORTED_MODULE_0___default=__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);var react_dom__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(33);var react_dom__WEBPACK_IMPORTED_MODULE_1___default=__webpack_require__.n(react_dom__WEBPACK_IMPORTED_MODULE_1__);var react_flip_toolkit__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(57);var _util_zerr_js__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__(12);var _util_zerr_js__WEBPACK_IMPORTED_MODULE_3___default=__webpack_require__.n(_util_zerr_js__WEBPACK_IMPORTED_MODULE_3__);var _util_util_js__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__(10);var _util_util_js__WEBPACK_IMPORTED_MODULE_4___default=__webpack_require__.n(_util_util_js__WEBPACK_IMPORTED_MODULE_4__);var _util_storage_js__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__(22);var _util_storage_js__WEBPACK_IMPORTED_MODULE_5___default=__webpack_require__.n(_util_storage_js__WEBPACK_IMPORTED_MODULE_5__);var _bext_vpn_ui_debug_ui_js__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__(72);var _bext_pub_util_js__WEBPACK_IMPORTED_MODULE_7__=__webpack_require__(15);var _bext_pub_util_js__WEBPACK_IMPORTED_MODULE_7___default=__webpack_require__.n(_bext_pub_util_js__WEBPACK_IMPORTED_MODULE_7__);var _bext_vpn_util_util_js__WEBPACK_IMPORTED_MODULE_8__=__webpack_require__(14);var _bext_vpn_util_util_js__WEBPACK_IMPORTED_MODULE_8___default=__webpack_require__.n(_bext_vpn_util_util_js__WEBPACK_IMPORTED_MODULE_8__);var _bext_vpn_ui_ui_lib_js__WEBPACK_IMPORTED_MODULE_9__=__webpack_require__(34);var _bext_vpn_ui_ui_js__WEBPACK_IMPORTED_MODULE_10__=__webpack_require__(92);var _bext_vpn_ui_watermark_js__WEBPACK_IMPORTED_MODULE_11__=__webpack_require__(101);var _bext_vpn_ui_ui_api_js__WEBPACK_IMPORTED_MODULE_12__=__webpack_require__(25);var _bext_vpn_ui_context_js__WEBPACK_IMPORTED_MODULE_13__=__webpack_require__(52);
// LICENSE_CODE ZON
function _extends(){_extends=Object.assign||function(target){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var key in source){if(Object.prototype.hasOwnProperty.call(source,key)){target[key]=source[key]}}}return target};return _extends.apply(this,arguments)}function _slicedToArray(arr,i){return _arrayWithHoles(arr)||_iterableToArrayLimit(arr,i)||_nonIterableRest()}function _nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}function _iterableToArrayLimit(arr,i){if(!(Symbol.iterator in Object(arr)||Object.prototype.toString.call(arr)==="[object Arguments]")){return}var _arr=[];var _n=true;var _d=false;var _e=undefined;try{for(var _i=arr[Symbol.iterator](),_s;!(_n=(_s=_i.next()).done);_n=true){_arr.push(_s.value);if(i&&_arr.length===i)break}}catch(err){_d=true;_e=err}finally{try{if(!_n&&_i["return"]!=null)_i["return"]()}finally{if(_d)throw _e}}return _arr}function _arrayWithHoles(arr){if(Array.isArray(arr))return arr}function ownKeys(object,enumerableOnly){var keys=Object.keys(object);if(Object.getOwnPropertySymbols){var symbols=Object.getOwnPropertySymbols(object);if(enumerableOnly)symbols=symbols.filter((function(sym){return Object.getOwnPropertyDescriptor(object,sym).enumerable}));keys.push.apply(keys,symbols)}return keys}function _objectSpread(target){for(var i=1;i<arguments.length;i++){var source=arguments[i]!=null?arguments[i]:{};if(i%2){ownKeys(Object(source),true).forEach((function(key){_defineProperty(target,key,source[key])}))}else if(Object.getOwnPropertyDescriptors){Object.defineProperties(target,Object.getOwnPropertyDescriptors(source))}else{ownKeys(Object(source)).forEach((function(key){Object.defineProperty(target,key,Object.getOwnPropertyDescriptor(source,key))}))}}return target}function _defineProperty(obj,key,value){if(key in obj){Object.defineProperty(obj,key,{value:value,enumerable:true,configurable:true,writable:true})}else{obj[key]=value}return obj}_bext_vpn_util_util_js__WEBPACK_IMPORTED_MODULE_8___default.a.assert_ui("ui_app");const E={},T=_bext_vpn_ui_ui_lib_js__WEBPACK_IMPORTED_MODULE_9__["a"].T;const Vpn_ui=_bext_vpn_ui_ui_js__WEBPACK_IMPORTED_MODULE_10__["a"].Vpn_ui,Error_dialog=_bext_vpn_ui_ui_js__WEBPACK_IMPORTED_MODULE_10__["a"].Error_dialog;const Mitm_wrapper=_bext_vpn_ui_watermark_js__WEBPACK_IMPORTED_MODULE_11__["a"].Mitm_wrapper,Watermark_wrapper=_bext_vpn_ui_watermark_js__WEBPACK_IMPORTED_MODULE_11__["a"].Watermark_wrapper;const Init_slow=()=>react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("div",{className:"init-slow"},react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_bext_vpn_ui_ui_lib_js__WEBPACK_IMPORTED_MODULE_9__["a"].Load_spinner,{size:140,busy:true,gray:true}));const Init_error=()=>{const on_reload_click=()=>_bext_vpn_ui_ui_api_js__WEBPACK_IMPORTED_MODULE_12__["a"].reload_ext({info:"error"},true);return react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("div",{className:"init-error"},react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("div",{className:"init-error-img"}),react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("p",null,react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(T,null,"Hola is not available right now, but we are working on it.")),react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("ol",null,react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("li",null,react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("a",{onClick:on_reload_click},react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(T,null,"Reload Hola"))),react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("li",null,react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(T,null,"Check your Internet connection"))))};class Error_boundary extends react__WEBPACK_IMPORTED_MODULE_0___default.a.Component{constructor(...args){super(...args);_defineProperty(this,"state",{error:false})}static getDerivedStateFromError(error){return{error:true}}componentDidCatch(err,info){this.setState({error:true});_bext_vpn_ui_ui_api_js__WEBPACK_IMPORTED_MODULE_12__["a"].perr("be_ui_vpn_render_err",info,{err:err});if(_bext_vpn_util_util_js__WEBPACK_IMPORTED_MODULE_8___default.a.is_tpopup())_bext_vpn_ui_ui_api_js__WEBPACK_IMPORTED_MODULE_12__["a"].close_tpopup()}render(){const reset_errror=()=>this.setState({error:false});if(this.state.error){return _bext_vpn_util_util_js__WEBPACK_IMPORTED_MODULE_8___default.a.is_tpopup()?null:react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(Error_dialog,{on_close:reset_errror})}return this.props.children}}const reducer=(state,action)=>{if(action.type=="set_tpopup_type")return _objectSpread({},state,{tpopup_type:action.value,flipping:true});if(action.type=="flip_end")return _objectSpread({},state,{flipping:false})};const App=()=>{const _useReducer=Object(react__WEBPACK_IMPORTED_MODULE_0__["useReducer"])(reducer,{tpopup_type:_bext_vpn_util_util_js__WEBPACK_IMPORTED_MODULE_8___default.a.get_tpopup_type(),flipping:false}),_useReducer2=_slicedToArray(_useReducer,2),state=_useReducer2[0],dispatch=_useReducer2[1];Object(react__WEBPACK_IMPORTED_MODULE_0__["useEffect"])(()=>{const listener=t=>dispatch({type:"set_tpopup_type",value:t});_bext_vpn_ui_ui_api_js__WEBPACK_IMPORTED_MODULE_12__["a"].on("set_tpopup_type",listener);return()=>_bext_vpn_ui_ui_api_js__WEBPACK_IMPORTED_MODULE_12__["a"].off("set_tpopup_type",listener)},[]);const opt={flipping:state.flipping};let inner;if(state.tpopup_type=="mitm_popup")inner=react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(Mitm_wrapper,opt);else if(state.tpopup_type=="watermark")inner=react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(Watermark_wrapper,opt);else if(state.tpopup_type=="suggestion"){let country=_util_util_js__WEBPACK_IMPORTED_MODULE_4___default.a.get(window,"hola.tpopup_opt.country");let _opt=country?{suggest_country:country,prefix:"stub_rule"}:{force_suggestion:true,prefix:"suggest"};inner=react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(Watermark_wrapper,_extends({},opt,_opt))}else inner=react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(Vpn_ui,opt);return react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_bext_vpn_ui_context_js__WEBPACK_IMPORTED_MODULE_13__["a"].Provider,{tpopup_type:state.tpopup_type},react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_bext_vpn_ui_debug_ui_js__WEBPACK_IMPORTED_MODULE_6__["a"].Debug_ui,null),react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(react_flip_toolkit__WEBPACK_IMPORTED_MODULE_2__["b"],{className:"flipper",flipKey:state.tpopup_type,onComplete:()=>dispatch({type:"flip_end"}),spring:{stiffness:700,damping:60}},inner))};let init_slow_timer,init_error_timer,auto_reload_timer;const schedule_auto_reload=()=>{if(_bext_vpn_util_util_js__WEBPACK_IMPORTED_MODULE_8___default.a.is_tpopup()){_bext_vpn_ui_ui_api_js__WEBPACK_IMPORTED_MODULE_12__["a"].perr("be_popup_reload_ext_skip",{},{filehead:_util_zerr_js__WEBPACK_IMPORTED_MODULE_3___default.a.log_tail(),rate_limit:{count:10}});_bext_vpn_ui_ui_api_js__WEBPACK_IMPORTED_MODULE_12__["a"].close_tpopup();return}auto_reload_timer=_bext_vpn_util_util_js__WEBPACK_IMPORTED_MODULE_8___default.a.set_timeout(()=>_bext_vpn_ui_ui_api_js__WEBPACK_IMPORTED_MODULE_12__["a"].reload_ext({info:"auto_reload"}),1e4)};const init_err_info=()=>{const s={};_util_storage_js__WEBPACK_IMPORTED_MODULE_5___default.a.set("ui_popup_init_err",_util_storage_js__WEBPACK_IMPORTED_MODULE_5___default.a.get_int("ui_popup_init_err")+1);if(!_util_storage_js__WEBPACK_IMPORTED_MODULE_5___default.a.get_int("ui_popup_inited"))s.never=1;if(_util_storage_js__WEBPACK_IMPORTED_MODULE_5___default.a.get_int("ui_popup_init_err")>1)s.errors=_util_storage_js__WEBPACK_IMPORTED_MODULE_5___default.a.get_int("ui_popup_init_err");if(_util_storage_js__WEBPACK_IMPORTED_MODULE_5___default.a.get_int("ajax_timeout"))s.timeout=_util_storage_js__WEBPACK_IMPORTED_MODULE_5___default.a.get_int("ajax_timeout");return s};const reset_init_err=()=>{if(!_util_storage_js__WEBPACK_IMPORTED_MODULE_5___default.a.get_int("ui_popup_inited"))_util_storage_js__WEBPACK_IMPORTED_MODULE_5___default.a.set("ui_popup_inited",1);if(_util_storage_js__WEBPACK_IMPORTED_MODULE_5___default.a.get_int("ajax_timeout"))_util_storage_js__WEBPACK_IMPORTED_MODULE_5___default.a.clr("ajax_timeout");if(_util_storage_js__WEBPACK_IMPORTED_MODULE_5___default.a.get_int("ui_popup_init_err")){_bext_vpn_ui_ui_api_js__WEBPACK_IMPORTED_MODULE_12__["a"].perr("be_ui_popup_recover","errors "+_util_storage_js__WEBPACK_IMPORTED_MODULE_5___default.a.get_int("ui_popup_init_err"));_util_storage_js__WEBPACK_IMPORTED_MODULE_5___default.a.clr("ui_popup_init_err")}};const send_render_stats=()=>{if(_bext_vpn_util_util_js__WEBPACK_IMPORTED_MODULE_8___default.a.get_tpopup_type())return;const count=(_util_storage_js__WEBPACK_IMPORTED_MODULE_5___default.a.get_int("ui_popup_render_count")||0)+1;_util_storage_js__WEBPACK_IMPORTED_MODULE_5___default.a.set("ui_popup_render_count",count);const err=window.hola.err,info=_bext_vpn_ui_ui_api_js__WEBPACK_IMPORTED_MODULE_12__["a"].get_timings();_util_util_js__WEBPACK_IMPORTED_MODULE_4___default.a.if_set(_util_util_js__WEBPACK_IMPORTED_MODULE_4___default.a.get(err,"require"),info,"require");_util_util_js__WEBPACK_IMPORTED_MODULE_4___default.a.if_set(count,info,"count");_bext_vpn_ui_ui_api_js__WEBPACK_IMPORTED_MODULE_12__["a"].perr("popup_render"+(info.popup_render_ms>4e3?"_slow":""),info);_bext_vpn_ui_ui_api_js__WEBPACK_IMPORTED_MODULE_12__["a"].push_event(_bext_vpn_util_util_js__WEBPACK_IMPORTED_MODULE_8___default.a.is_tpopup()?"tpopup_render":"popup_render",{url:_bext_vpn_ui_ui_api_js__WEBPACK_IMPORTED_MODULE_12__["a"].get_url()})};const render=(component,root)=>void react_dom__WEBPACK_IMPORTED_MODULE_1___default.a.render(react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(Error_boundary,null,component),root);E.pre_init=()=>{init_slow_timer=_bext_vpn_util_util_js__WEBPACK_IMPORTED_MODULE_8___default.a.set_timeout(()=>{_bext_vpn_ui_ui_api_js__WEBPACK_IMPORTED_MODULE_12__["a"].perr("be_ui_popup_slow_render");render(react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(Init_slow,null),document.querySelector(".react-root"));init_error_timer=_bext_vpn_util_util_js__WEBPACK_IMPORTED_MODULE_8___default.a.set_timeout(()=>E.render_init_err(),2e4)},2e3)};E.render_init_err=()=>{schedule_auto_reload();_bext_vpn_ui_ui_api_js__WEBPACK_IMPORTED_MODULE_12__["a"].perr("be_ui_obj_init_err",init_err_info(),{filehead:_util_zerr_js__WEBPACK_IMPORTED_MODULE_3___default.a.log_tail()});render(react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(Init_error,null),document.querySelector(".react-root"))};E.init=()=>{try{_bext_vpn_util_util_js__WEBPACK_IMPORTED_MODULE_8___default.a.clear_timeout(init_slow_timer);_bext_vpn_util_util_js__WEBPACK_IMPORTED_MODULE_8___default.a.clear_timeout(init_error_timer);_bext_vpn_util_util_js__WEBPACK_IMPORTED_MODULE_8___default.a.clear_timeout(auto_reload_timer);react_dom__WEBPACK_IMPORTED_MODULE_1___default.a.unmountComponentAtNode(document.querySelector(".react-root"));reset_init_err();document.body.classList.add(_bext_pub_util_js__WEBPACK_IMPORTED_MODULE_7___default.a.browser());render(react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(App,null),document.querySelector(".react-root"));if(_bext_vpn_util_util_js__WEBPACK_IMPORTED_MODULE_8___default.a.is_tpopup()){document.body.classList.add("tpopup");if(_bext_vpn_util_util_js__WEBPACK_IMPORTED_MODULE_8___default.a.get_tpopup_mode()=="window")document.body.classList.add("tpopup_window");const st=document.documentElement.style;st.width=st.maxWidth=st.height=st.maxHeight="100%";_bext_vpn_ui_ui_api_js__WEBPACK_IMPORTED_MODULE_12__["a"].show_tpopup();if(!_bext_vpn_util_util_js__WEBPACK_IMPORTED_MODULE_8___default.a.get_tpopup_type())document.body.classList.add("show_anim")}if(performance.mark)performance.mark("popup_render")}catch(e){_util_zerr_js__WEBPACK_IMPORTED_MODULE_3___default()("app init error %s",_util_zerr_js__WEBPACK_IMPORTED_MODULE_3___default.a.e2s(e));_bext_vpn_ui_ui_api_js__WEBPACK_IMPORTED_MODULE_12__["a"].perr("be_ui_app_init_err",{},{err:e});E.render_init_err(e)}send_render_stats()};E.uninit=()=>react_dom__WEBPACK_IMPORTED_MODULE_1___default.a.unmountComponentAtNode(document.querySelector(".react-root"));__webpack_exports__["a"]=E},92:function(module,__webpack_exports__,__webpack_require__){"use strict";var react__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(13);var react__WEBPACK_IMPORTED_MODULE_0___default=__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);var react_dom__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(33);var react_dom__WEBPACK_IMPORTED_MODULE_1___default=__webpack_require__.n(react_dom__WEBPACK_IMPORTED_MODULE_1__);var classnames__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(39);var classnames__WEBPACK_IMPORTED_MODULE_2___default=__webpack_require__.n(classnames__WEBPACK_IMPORTED_MODULE_2__);var react_flip_toolkit__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__(57);var _util_etask_js__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__(11);var _util_etask_js__WEBPACK_IMPORTED_MODULE_4___default=__webpack_require__.n(_util_etask_js__WEBPACK_IMPORTED_MODULE_4__);var _util_url_js__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__(19);var _util_url_js__WEBPACK_IMPORTED_MODULE_5___default=__webpack_require__.n(_util_url_js__WEBPACK_IMPORTED_MODULE_5__);var _util_string_js__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__(31);var _util_string_js__WEBPACK_IMPORTED_MODULE_6___default=__webpack_require__.n(_util_string_js__WEBPACK_IMPORTED_MODULE_6__);var _util_country_js__WEBPACK_IMPORTED_MODULE_7__=__webpack_require__(53);var _util_country_js__WEBPACK_IMPORTED_MODULE_7___default=__webpack_require__.n(_util_country_js__WEBPACK_IMPORTED_MODULE_7__);var _svc_vpn_pub_common_ui_js__WEBPACK_IMPORTED_MODULE_8__=__webpack_require__(58);var _svc_vpn_pub_common_ui_js__WEBPACK_IMPORTED_MODULE_8___default=__webpack_require__.n(_svc_vpn_pub_common_ui_js__WEBPACK_IMPORTED_MODULE_8__);var _bext_vpn_ui_debug_ui_js__WEBPACK_IMPORTED_MODULE_9__=__webpack_require__(72);var _bext_vpn_ui_ui_lib_js__WEBPACK_IMPORTED_MODULE_10__=__webpack_require__(34);var _bext_vpn_ui_ui_api_js__WEBPACK_IMPORTED_MODULE_11__=__webpack_require__(25);var _bext_vpn_util_util_js__WEBPACK_IMPORTED_MODULE_12__=__webpack_require__(14);var _bext_vpn_util_util_js__WEBPACK_IMPORTED_MODULE_12___default=__webpack_require__.n(_bext_vpn_util_util_js__WEBPACK_IMPORTED_MODULE_12__);var _svc_vpn_pub_util_js__WEBPACK_IMPORTED_MODULE_13__=__webpack_require__(20);var _svc_vpn_pub_util_js__WEBPACK_IMPORTED_MODULE_13___default=__webpack_require__.n(_svc_vpn_pub_util_js__WEBPACK_IMPORTED_MODULE_13__);var _bext_pub_util_js__WEBPACK_IMPORTED_MODULE_14__=__webpack_require__(15);var _bext_pub_util_js__WEBPACK_IMPORTED_MODULE_14___default=__webpack_require__.n(_bext_pub_util_js__WEBPACK_IMPORTED_MODULE_14__);var _bext_vpn_ui_privacy_js__WEBPACK_IMPORTED_MODULE_15__=__webpack_require__(60);var _bext_vpn_ui_context_js__WEBPACK_IMPORTED_MODULE_16__=__webpack_require__(52);var _img_power_svg__WEBPACK_IMPORTED_MODULE_17__=__webpack_require__(93);var _img_power_svg__WEBPACK_IMPORTED_MODULE_17___default=__webpack_require__.n(_img_power_svg__WEBPACK_IMPORTED_MODULE_17__);var _img_power_16_svg__WEBPACK_IMPORTED_MODULE_18__=__webpack_require__(94);var _img_power_16_svg__WEBPACK_IMPORTED_MODULE_18___default=__webpack_require__.n(_img_power_16_svg__WEBPACK_IMPORTED_MODULE_18__);var _img_menu_svg__WEBPACK_IMPORTED_MODULE_19__=__webpack_require__(95);var _img_menu_svg__WEBPACK_IMPORTED_MODULE_19___default=__webpack_require__.n(_img_menu_svg__WEBPACK_IMPORTED_MODULE_19__);var _img_unlock_svg__WEBPACK_IMPORTED_MODULE_20__=__webpack_require__(96);var _img_unlock_svg__WEBPACK_IMPORTED_MODULE_20___default=__webpack_require__.n(_img_unlock_svg__WEBPACK_IMPORTED_MODULE_20__);var _img_protect_svg__WEBPACK_IMPORTED_MODULE_21__=__webpack_require__(97);var _img_protect_svg__WEBPACK_IMPORTED_MODULE_21___default=__webpack_require__.n(_img_protect_svg__WEBPACK_IMPORTED_MODULE_21__);var _img_x_svg__WEBPACK_IMPORTED_MODULE_22__=__webpack_require__(59);var _img_x_svg__WEBPACK_IMPORTED_MODULE_22___default=__webpack_require__.n(_img_x_svg__WEBPACK_IMPORTED_MODULE_22__);var _img_v_svg__WEBPACK_IMPORTED_MODULE_23__=__webpack_require__(98);var _img_v_svg__WEBPACK_IMPORTED_MODULE_23___default=__webpack_require__.n(_img_v_svg__WEBPACK_IMPORTED_MODULE_23__);var _img_right_svg__WEBPACK_IMPORTED_MODULE_24__=__webpack_require__(99);var _img_right_svg__WEBPACK_IMPORTED_MODULE_24___default=__webpack_require__.n(_img_right_svg__WEBPACK_IMPORTED_MODULE_24__);var _img_plus_svg__WEBPACK_IMPORTED_MODULE_25__=__webpack_require__(100);var _img_plus_svg__WEBPACK_IMPORTED_MODULE_25___default=__webpack_require__.n(_img_plus_svg__WEBPACK_IMPORTED_MODULE_25__);
// LICENSE_CODE ZON
function ownKeys(object,enumerableOnly){var keys=Object.keys(object);if(Object.getOwnPropertySymbols){var symbols=Object.getOwnPropertySymbols(object);if(enumerableOnly)symbols=symbols.filter((function(sym){return Object.getOwnPropertyDescriptor(object,sym).enumerable}));keys.push.apply(keys,symbols)}return keys}function _objectSpread(target){for(var i=1;i<arguments.length;i++){var source=arguments[i]!=null?arguments[i]:{};if(i%2){ownKeys(Object(source),true).forEach((function(key){_defineProperty(target,key,source[key])}))}else if(Object.getOwnPropertyDescriptors){Object.defineProperties(target,Object.getOwnPropertyDescriptors(source))}else{ownKeys(Object(source)).forEach((function(key){Object.defineProperty(target,key,Object.getOwnPropertyDescriptor(source,key))}))}}return target}function _defineProperty(obj,key,value){if(key in obj){Object.defineProperty(obj,key,{value:value,enumerable:true,configurable:true,writable:true})}else{obj[key]=value}return obj}function _slicedToArray(arr,i){return _arrayWithHoles(arr)||_iterableToArrayLimit(arr,i)||_nonIterableRest()}function _nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}function _iterableToArrayLimit(arr,i){if(!(Symbol.iterator in Object(arr)||Object.prototype.toString.call(arr)==="[object Arguments]")){return}var _arr=[];var _n=true;var _d=false;var _e=undefined;try{for(var _i=arr[Symbol.iterator](),_s;!(_n=(_s=_i.next()).done);_n=true){_arr.push(_s.value);if(i&&_arr.length===i)break}}catch(err){_d=true;_e=err}finally{try{if(!_n&&_i["return"]!=null)_i["return"]()}finally{if(_d)throw _e}}return _arr}function _arrayWithHoles(arr){if(Array.isArray(arr))return arr}function _extends(){_extends=Object.assign||function(target){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var key in source){if(Object.prototype.hasOwnProperty.call(source,key)){target[key]=source[key]}}}return target};return _extends.apply(this,arguments)}const E={};const T=_bext_vpn_ui_ui_lib_js__WEBPACK_IMPORTED_MODULE_10__["a"].T,Country_flag=_bext_vpn_ui_ui_lib_js__WEBPACK_IMPORTED_MODULE_10__["a"].Country_flag,Search_field=_bext_vpn_ui_ui_lib_js__WEBPACK_IMPORTED_MODULE_10__["a"].Search_field,Menu_header=_bext_vpn_ui_ui_lib_js__WEBPACK_IMPORTED_MODULE_10__["a"].Menu_header,Country_button=_bext_vpn_ui_ui_lib_js__WEBPACK_IMPORTED_MODULE_10__["a"].Country_button,Country_menu=_bext_vpn_ui_ui_lib_js__WEBPACK_IMPORTED_MODULE_10__["a"].Country_menu,Tooltip=_bext_vpn_ui_ui_lib_js__WEBPACK_IMPORTED_MODULE_10__["a"].Tooltip,Site_icon=_bext_vpn_ui_ui_lib_js__WEBPACK_IMPORTED_MODULE_10__["a"].Site_icon,Dots=_bext_vpn_ui_ui_lib_js__WEBPACK_IMPORTED_MODULE_10__["a"].Dots,Btn=_bext_vpn_ui_ui_lib_js__WEBPACK_IMPORTED_MODULE_10__["a"].Btn,Working_button=_bext_vpn_ui_ui_lib_js__WEBPACK_IMPORTED_MODULE_10__["a"].Working_button,Close_tooltip=_bext_vpn_ui_ui_lib_js__WEBPACK_IMPORTED_MODULE_10__["a"].Close_tooltip,Menu_items=_bext_vpn_ui_ui_lib_js__WEBPACK_IMPORTED_MODULE_10__["a"].Menu_items,Menu_item=_bext_vpn_ui_ui_lib_js__WEBPACK_IMPORTED_MODULE_10__["a"].Menu_item,Rate_us=_bext_vpn_ui_ui_lib_js__WEBPACK_IMPORTED_MODULE_10__["a"].Rate_us,Rated=_bext_vpn_ui_ui_lib_js__WEBPACK_IMPORTED_MODULE_10__["a"].Rated,use_enter_effect=_bext_vpn_ui_ui_lib_js__WEBPACK_IMPORTED_MODULE_10__["a"].use_enter_effect;const CG=_bext_pub_util_js__WEBPACK_IMPORTED_MODULE_14___default.a.CG;const perr=_bext_vpn_ui_ui_api_js__WEBPACK_IMPORTED_MODULE_11__["a"].perr;const App_context=_bext_vpn_ui_context_js__WEBPACK_IMPORTED_MODULE_16__["a"].App_context;const useContext=react__WEBPACK_IMPORTED_MODULE_0___default.a.useContext,useState=react__WEBPACK_IMPORTED_MODULE_0___default.a.useState,useEffect=react__WEBPACK_IMPORTED_MODULE_0___default.a.useEffect,useLayoutEffect=react__WEBPACK_IMPORTED_MODULE_0___default.a.useLayoutEffect,useRef=react__WEBPACK_IMPORTED_MODULE_0___default.a.useRef,Fragment=react__WEBPACK_IMPORTED_MODULE_0___default.a.Fragment;const Slides_switch=_svc_vpn_pub_common_ui_js__WEBPACK_IMPORTED_MODULE_8___default.a.Slides_switch;const A=react__WEBPACK_IMPORTED_MODULE_0___default.a.forwardRef((props,ref)=>react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("a",_extends({ref:ref,target:"_blank",rel:"noopener noreferrer"},props),props.children));const Power_btn=()=>{const _useContext=useContext(App_context),enabled=_useContext.enabled;return react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("div",{className:`vpn-header-power vpn-header-power-${enabled?"off":"on"}`,onClick:()=>_bext_vpn_ui_ui_api_js__WEBPACK_IMPORTED_MODULE_11__["a"].set_enabled(!enabled),title:T(enabled?"Turn off Hola":"Turn on Hola")},react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_img_power_16_svg__WEBPACK_IMPORTED_MODULE_18___default.a,null))};const Upgrade_link=()=>{const _useContext2=useContext(App_context),is_premium=_useContext2.is_premium,root_url=_useContext2.root_url;if(is_premium||!CG("upgrade_link.enabled",true))return null;const pos=CG("upgrade_link.position","left");const on_click=()=>_bext_vpn_ui_ui_api_js__WEBPACK_IMPORTED_MODULE_11__["a"].open_plus_page(root_url,"ext_upgrade_t"+pos[0]);let is_paid=false;const cls=classnames__WEBPACK_IMPORTED_MODULE_2___default()("vpn-header-upgrade","upgrade-link-"+pos,is_paid?"renew":"upgrade");return react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("div",{className:cls,onClick:on_click},is_paid?T("Renew"):T("Upgrade"))};const Tpopup_close_btn=()=>{const _useContext3=useContext(App_context),root_url=_useContext3.root_url;const btn_ref=useRef();return react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(Fragment,null,react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("div",{className:"vpn-header-close",ref:btn_ref,onClick:()=>_bext_vpn_ui_ui_api_js__WEBPACK_IMPORTED_MODULE_11__["a"].tpopup_close_click("x_btn")},react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_img_x_svg__WEBPACK_IMPORTED_MODULE_22___default.a,null)),_bext_vpn_ui_ui_api_js__WEBPACK_IMPORTED_MODULE_11__["a"].need_tpopup_hint()&&react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(Close_tooltip,{root_url:root_url,position:"bottom",close_btn:btn_ref.current,period:_bext_pub_util_js__WEBPACK_IMPORTED_MODULE_14___default.a.get_dont_show_def_period(),on_click:_bext_vpn_ui_ui_api_js__WEBPACK_IMPORTED_MODULE_11__["a"].tpopup_close_hint_click}))};const Plus_icon=()=>react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("img",{src:"./bext/vpn/ui/img/hola_plus.svg"});const Logo_tooltip=({el:el})=>{const _useContext4=useContext(App_context),root_url=_useContext4.root_url;const on_click=e=>{e.stopPropagation();_bext_vpn_ui_ui_api_js__WEBPACK_IMPORTED_MODULE_11__["a"].open_plus_page(root_url,"logo_tooltip")};return react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(Tooltip,{el:el,className:"logo-tooltip",on_click:on_click,position:"bottom",title:"Upgrade now to hola plus!",icon:react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(Plus_icon,null)},"Faster servers. Unblock any site. Online protection.")};const Trial_timer=()=>{const _useContext5=useContext(App_context),root_url=_useContext5.root_url,trial=_useContext5.trial;const ref=useRef();const ref_suffix=root_url.replace(/\./g,"_");const on_click=e=>{e.preventDefault();_bext_vpn_ui_ui_api_js__WEBPACK_IMPORTED_MODULE_11__["a"].ga_send("checkout",{step:5,lab:"ext_timer"});_bext_vpn_ui_ui_api_js__WEBPACK_IMPORTED_MODULE_11__["a"].open_plus_page(root_url,"trial_timer_"+ref_suffix)};const on_tooltip_click=e=>{e.stopPropagation();_bext_vpn_ui_ui_api_js__WEBPACK_IMPORTED_MODULE_11__["a"].open_plus_page(root_url,"trial_timer_tooltip_"+ref_suffix)};if(!trial||!root_url)return null;return react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("div",{ref:ref,className:"vpn-header-timer"},react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_bext_vpn_ui_ui_lib_js__WEBPACK_IMPORTED_MODULE_10__["a"].Trial_timer,{trial:trial,on_click:on_click}),react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(Tooltip,{el:ref.current,position:"bottom",title:"Upgrade to PLUS!",icon:react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(Plus_icon,null),on_click:on_tooltip_click},"Get unlimited unblocking time for ",react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("b",null,root_url),"."))};const Header=({compact:compact,toggle_menu:toggle_menu})=>{const _useContext6=useContext(App_context),root_url=_useContext6.root_url,is_premium=_useContext6.is_premium,trial=_useContext6.trial,is_tpopup=_useContext6.is_tpopup;const logo_ref=useRef();let on_click=()=>{if(is_premium)_bext_vpn_ui_ui_api_js__WEBPACK_IMPORTED_MODULE_11__["a"].open_page("https://hola.org?utm_source=holaext");else _bext_vpn_ui_ui_api_js__WEBPACK_IMPORTED_MODULE_11__["a"].open_plus_page(root_url,"logo_upgrade")};return react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("div",{className:classnames__WEBPACK_IMPORTED_MODULE_2___default()("vpn-header",is_premium&&"vpn-header-plus")},!compact&&react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("div",{className:"vpn-header-menu",onClick:()=>toggle_menu(true)},react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_img_menu_svg__WEBPACK_IMPORTED_MODULE_19___default.a,null)),react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("div",{className:"vpn-header-logo",onClick:on_click,ref:logo_ref},!is_premium&&react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(Logo_tooltip,{el:logo_ref.current})),is_tpopup?react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(Tpopup_close_btn,null):react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(Power_btn,null),!is_premium&&trial&&react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(Trial_timer,null),react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(Upgrade_link,null))};const Footer_upgrade=({plus_ref:plus_ref,tp_margin:tp_margin,tp_width:tp_width,tp_boudary:tp_boudary})=>{const _useContext7=useContext(App_context),root_url=_useContext7.root_url,is_premium=_useContext7.is_premium;const ref=useRef();const on_click=e=>{e.stopPropagation();_bext_vpn_ui_ui_api_js__WEBPACK_IMPORTED_MODULE_11__["a"].open_plus_page(root_url,plus_ref||"ext_footer")};if(is_premium)return null;return react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("div",{ref:ref,className:"vpn-footer-upgrade",onClick:on_click},react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(T,null,"Upgrade to ",react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("span",null,"PLUS")),react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(Tooltip,{el:ref.current,className:"footer-tooltip",margin:tp_margin,width:tp_width,boundary_el:tp_boudary,on_click:on_click,title:"Hola VPN PLUS",icon:react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(Plus_icon,null)},"Try out Hola VPN PLUS"))};const Footer=()=>react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("div",{className:"vpn-footer"},react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(Footer_upgrade,null));const Product_icon=({type:type,href:href,tp_title:tp_title,tp_text:tp_text})=>{const ref=useRef();const on_click=()=>_bext_vpn_ui_ui_api_js__WEBPACK_IMPORTED_MODULE_11__["a"].open_page(href);const on_tp_click=e=>{e.stopPropagation();on_click()};return react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("div",{ref:ref,className:"product-icon "+type,onClick:on_click},react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(Tooltip,{el:ref.current,className:"product-icon-tooltip menu-tooltip "+type,margin:16,width:265,boundary_el:document.querySelector(".menu-container > .menu"),on_click:on_tp_click,title:tp_title,show_icon:true},tp_text))};const Menu_products=({origin:origin})=>{const _useContext8=useContext(App_context),is_premium=_useContext8.is_premium;let products=[{type:"android",tp_title:T("Hola VPN on Android"),tp_text:T("Unblock any website or app"),href:`https://play.google.com/store/apps/details?id=org.hola.prem&`+`referrer=utm_source%3Dholaext%26utm_content%3D${origin}-products`},{type:"ios",tp_title:T("Hola VPN on iOS"),tp_text:T("Unblock any website or app"),href:`https://itunes.apple.com/us/app/hola-privacy-vpn-app-browser/`+`id903869356?mt=8&ct=holaext-${origin}-products`},{type:"mac",tp_title:T("Hola VPN on macOS"),tp_text:T("Unblock any website or app"),href:`https://hola.org/plus_setup?platform=mac&utm_source=holaext&`+`utm_content=${origin}-products`},{type:"adremover",tp_title:T("Hola Ad Remover"),tp_text:T("Block annoying ads, maleware and tracking"),href:"https://chrome.google.com/webstore/detail/hola-ad-remover/"+"lalfpjdbhpmnhfofkckdpkljeilmogfl"},!is_premium&&{type:"plus",tp_title:T("Upgrade to PLUS"),tp_text:T("Faster servers. Unblock any sites. Online protection."),href:_bext_vpn_ui_ui_api_js__WEBPACK_IMPORTED_MODULE_11__["a"].plus_ref("holaext-menu-try",{utm_source:"holaext",utm_content:"menu-products"})}];products=products.filter(l=>!!l);if(_bext_pub_util_js__WEBPACK_IMPORTED_MODULE_14___default.a.browser()=="edge")return null;return react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("div",{className:"menu-products"},products.map(p=>react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(Product_icon,_extends({key:p.type},p))))};const Incognito_menu=()=>{useEffect(()=>void perr("be_ui_incognito_menu_show"),[]);const link_click=()=>{perr("be_ui_incognito_menu_click");_bext_vpn_ui_ui_api_js__WEBPACK_IMPORTED_MODULE_11__["a"].open_ext_settings()};const browser=_util_string_js__WEBPACK_IMPORTED_MODULE_6___default.a.capitalize(_bext_pub_util_js__WEBPACK_IMPORTED_MODULE_14___default.a.browser());return react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("div",{className:"incognito-menu"},react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("div",null,react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(T,null,"To use Hola VPN in incognito:")),react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("ol",null,react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("li",null,"Open ",react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("a",{onClick:link_click},browser," extensions settings")),react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("li",null,"Enable ",react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("b",null,"Allow in incognito"))))};const set_body_size=ref=>useLayoutEffect(()=>{const el=ref.current;const height=el.clientHeight+el.getBoundingClientRect().top;if(document.body.clientHeight>=height)return;const prev=document.body.style.minHeight;document.body.style.minHeight=height+"px";return()=>document.body.style.minHeight=prev},[]);const General_menu=({set_menu:set_menu})=>{let _useContext9=useContext(App_context),user=_useContext9.user,is_premium=_useContext9.is_premium,dev_mode=_useContext9.dev_mode,incognito_allowed=_useContext9.incognito_allowed,src_country=_useContext9.src_country;let plus_try=_bext_vpn_ui_ui_api_js__WEBPACK_IMPORTED_MODULE_11__["a"].plus_ref("holaext-menu-try",{utm_source:"holaext",utm_content:"menu-try"});let protect="https://hola.org/plus_setup?platform=windows&utm_source="+"holaext&utm_content=menu-protect";let install="https://hola.org/plus_setup?utm_source=holaext&"+"utm_content=menu-install";let show_incognito_item=_bext_pub_util_js__WEBPACK_IMPORTED_MODULE_14___default.a.browser()!="firefox"&&!incognito_allowed;let ref=useRef();set_body_size(ref);src_country=(src_country||"").toLowerCase();return react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("div",{ref:ref,className:classnames__WEBPACK_IMPORTED_MODULE_2___default()("general-menu",{"user-signed":!!user})},user&&react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("div",{className:"menu-item menu-username",onClick:()=>set_menu("account")},react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("div",{className:"menu-item-text"},user.display_name),react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_img_right_svg__WEBPACK_IMPORTED_MODULE_24___default.a,null)),!user&&react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("div",{className:"menu-item menu-login",onClick:()=>_bext_vpn_ui_ui_api_js__WEBPACK_IMPORTED_MODULE_11__["a"].login("menu",true)},react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("div",{className:"menu-item-text"},react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(T,null,"Sign in")),react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_img_right_svg__WEBPACK_IMPORTED_MODULE_24___default.a,null)),react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("div",{className:"menu-spacer"}),react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(Menu_items,null,is_premium&&react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(Fragment,null,react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(Menu_item,{href:protect,icon:"protect",text:"Protect entire PC"}),react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(Menu_item,{href:install,icon:"devices",text:"Install on other devices"}),react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("li",{className:"menu-item-divider menu-item"})),_bext_pub_util_js__WEBPACK_IMPORTED_MODULE_14___default.a.browser()!="edge"&&react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(Menu_item,{icon:"language",on_click:()=>set_menu("lang"),text:"Language",extra:_bext_vpn_ui_ui_api_js__WEBPACK_IMPORTED_MODULE_11__["a"].get_locale().toUpperCase()}),react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(Menu_item,{icon:"settings",on_click:_bext_vpn_ui_ui_api_js__WEBPACK_IMPORTED_MODULE_11__["a"].open_settings,text:"Settings"}),react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(Menu_item,{icon:"support",href:"https://hola.org/cp/support",text:"Support"}),react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(Menu_item,{icon:"about",on_click:_bext_vpn_ui_ui_api_js__WEBPACK_IMPORTED_MODULE_11__["a"].open_about,text:"About"}),dev_mode&&react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(Menu_item,{icon:"debug",on_click:()=>set_menu("debug"),text:"Debug"}),show_incognito_item&&react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(Menu_item,{icon:"incognito",on_click:()=>set_menu("incognito"),text:"Incognito Mode"}),!is_premium&&react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(Menu_item,{icon:"plus",href:plus_try,text:"Try Hola VPN PLUS"}),react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(Menu_item,{icon:"alert",on_click:_bext_vpn_ui_ui_api_js__WEBPACK_IMPORTED_MODULE_11__["a"].open_report_problem,text:"Report a problem"}),react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(Menu_item,{icon:"add",href:"https://hola.org/unblock/popular/"+src_country,text:"Unblock more sites..."})),react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("div",{className:"menu-spacer"}),react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(Menu_products,{origin:"menu"}))};const Account_menu=({close_menu:close_menu})=>{let _useContext10=useContext(App_context),user=_useContext10.user,is_premium=_useContext10.is_premium;let plus_upgrade=_bext_vpn_ui_ui_api_js__WEBPACK_IMPORTED_MODULE_11__["a"].plus_ref("holaext-menu-account-upgrade",{utm_source:"holaext",utm_content:"menu-account-upgrade"});let cp_url="https://hola.org/cp?utm_source=holaext&utm_content="+"menu-account-manage";let logout_click=()=>{_bext_vpn_ui_ui_api_js__WEBPACK_IMPORTED_MODULE_11__["a"].logout();close_menu()};let ref=useRef();set_body_size(ref);return react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("div",{ref:ref,className:"account-menu"},react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("div",{className:"account-menu-title"},react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(T,null,"Account type:")),react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("div",{className:"account-menu-value"},is_premium?react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(T,null,"PLUS"):react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(T,null,"Free"),!is_premium?react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(A,{href:plus_upgrade},react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(T,null,"Upgrade")):react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(A,{href:cp_url},react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(T,null,"Manage"))),react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("div",{className:"account-menu-title"},react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(T,null,"User:")),react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("div",{className:"account-menu-value"},react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("span",null,user&&user.email)),react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(Btn,{onClick:logout_click,light:true},react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(T,null,"Log out")),react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(Footer_upgrade,{plus_ref:"ext_menu_account_footer",tp_margin:16,tp_boudary:document.querySelector(".menu-container > .menu"),tp_width:265}))};const Lang_menu=({close_menu:close_menu})=>{const more_click=()=>{_bext_vpn_ui_ui_api_js__WEBPACK_IMPORTED_MODULE_11__["a"].open_page("https://hola.org/translate?utm_source=holaext#more");close_menu()};const locale_click=l=>{_bext_vpn_ui_ui_api_js__WEBPACK_IMPORTED_MODULE_11__["a"].set_locale(l);close_menu()};const locale=_bext_vpn_ui_ui_api_js__WEBPACK_IMPORTED_MODULE_11__["a"].get_locale();const locales=["en",..._bext_vpn_ui_ui_api_js__WEBPACK_IMPORTED_MODULE_11__["a"].get_locales()];return react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("div",{className:"lang-menu"},react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(Menu_items,null,locales.map(l=>react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(Menu_item,{key:l,selected:l==locale,on_click:()=>locale_click(l),text:"locale_en_"+l})),react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(Menu_item,{on_click:more_click,text:"More..."})))};const Menu=({close_menu:close_menu})=>{const _useContext11=useContext(App_context),is_premium=_useContext11.is_premium;const _useState=useState("general"),_useState2=_slicedToArray(_useState,2),menu=_useState2[0],set_menu=_useState2[1];const _useState3=useState(0),_useState4=_slicedToArray(_useState3,2),opacity=_useState4[0],set_opacity=_useState4[1];const ref=useRef();const animate=enter=>{let keyframes=[{transform:"translateX(-100%)"},{transform:"translateX(0)"}];if(enter)set_opacity(1);else keyframes.reverse();ref.current.animate(keyframes,{duration:150,easing:"ease-in-out",fill:"both"})};const _use_enter_effect=use_enter_effect({close:close_menu,on_enter:()=>animate(true),on_exit:()=>animate(false)}),enter_state=_use_enter_effect.enter_state,close=_use_enter_effect.close;_bext_vpn_ui_ui_lib_js__WEBPACK_IMPORTED_MODULE_10__["a"].on_outside_click(ref,()=>close());const title=menu=="lang"?"Language":menu=="account"?"My account":menu=="incognito"?"Incognito mode":menu=="debug"?"Debug":is_premium?"Hola VPN PLUS":"Hola Free VPN";return react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("div",{className:classnames__WEBPACK_IMPORTED_MODULE_2___default()("menu-container",enter_state)},react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("div",{ref:ref,className:"menu",style:{opacity:opacity}},react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(Menu_header,{on_close:menu=="general"?()=>close():null,on_back:menu!="general"?()=>set_menu("general"):null,title:title}),react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(Slides_switch,{slide:menu},react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(General_menu,{key:"general",set_menu:set_menu}),react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(Account_menu,{key:"account",close_menu:close}),react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(Lang_menu,{key:"lang",close_menu:close}),react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(Incognito_menu,{key:"incognito"}),react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_bext_vpn_ui_debug_ui_js__WEBPACK_IMPORTED_MODULE_9__["a"].Debug_view,{key:"debug",on_close:()=>close_menu()}))))};const Turned_off=()=>react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("div",{className:"vpn-off"},react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("h1",null,react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(T,null,"Hola is off")),react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("div",{className:"vpn-off-button",onClick:()=>_bext_vpn_ui_ui_api_js__WEBPACK_IMPORTED_MODULE_11__["a"].set_enabled(true)},react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_img_power_svg__WEBPACK_IMPORTED_MODULE_17___default.a,null)),react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("h2",null,react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(T,null,"Click to turn it on")));const Unblocker_title=({site:site,busy:busy})=>{const _useContext12=useContext(App_context),rule=_useContext12.rule,is_mitm_site=_useContext12.is_mitm_site,is_tpopup=_useContext12.is_tpopup;if(site)site=react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("span",{className:"ellipsis"},site);const browser=_util_string_js__WEBPACK_IMPORTED_MODULE_6___default.a.capitalize(_bext_pub_util_js__WEBPACK_IMPORTED_MODULE_14___default.a.browser());let text;if(rule){if(busy)text=react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("span",null,react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(T,null,"Connecting"),react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(Dots,null));else if(rule.mitm)text=react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(T,null,site," unblocked!");else if(rule.protect=="pc")text=react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(T,null,"Your PC is protected!");else if(rule.protect=="browser")text=react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(T,null,react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("span",null,browser)," browser",react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("br",null)," is protected!");else if(rule.protect=="site")text=site?react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(T,null,site,react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("br",null)," is protected!"):react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(T,null,"Protected!");else text=site?react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(T,null,"Browsing",react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("br",null),site," via"):react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(T,null,"Browsing via")}else if(is_mitm_site)text=react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(T,null,"Unblock ",site,"?");else if(is_tpopup)text=react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(T,null,"Click to change ",site,react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("br",null)," country to:");else{text=site?react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(T,null,"Change ",site,react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("br",null)," country to:"):react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(T,null,"Change country to:")}const cls=classnames__WEBPACK_IMPORTED_MODULE_2___default()("unblocker-title",rule&&busy&&"unblocker-title-connecting");return react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("div",{className:cls},react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("span",null,text))};const Working_buttons=({click_yes:click_yes,click_no:click_no,no_clicked:no_clicked})=>{const _useContext13=useContext(App_context),src_country=_useContext13.src_country;const on_yes=()=>_util_etask_js__WEBPACK_IMPORTED_MODULE_4___default()((function*(){yield _bext_vpn_ui_ui_api_js__WEBPACK_IMPORTED_MODULE_11__["a"].click_working({src:"ui"});click_yes()}));const on_no=()=>{_bext_vpn_ui_ui_api_js__WEBPACK_IMPORTED_MODULE_11__["a"].click_not_working({send_logs:!no_clicked,src:"ui",src_country:src_country});click_no()};return react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("div",{className:"working-buttons"},react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("div",{className:"working-buttons-title"},react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(T,null,"Is it working?")),react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("div",{className:"working-buttons-row"},react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(Working_button,{on_click:on_yes,yes:true}),react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(Working_button,{on_click:on_no})),no_clicked&&react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("div",{className:"working-buttons-report",onClick:_bext_vpn_ui_ui_api_js__WEBPACK_IMPORTED_MODULE_11__["a"].open_report_problem},react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(T,null,"Report a problem")))};const Bottom_buttons=({busy:busy})=>{const _useContext14=useContext(App_context),rule=_useContext14.rule,root_url=_useContext14.root_url,is_premium=_useContext14.is_premium;const _useState5=useState(null),_useState6=_slicedToArray(_useState5,2),btn_clicked=_useState6[0],set_btn_clicked=_useState6[1];const _useState7=useState(),_useState8=_slicedToArray(_useState7,2),rating=_useState8[0],set_rating=_useState8[1];useEffect(()=>void set_btn_clicked(null),[rule]);const on_try_premium=()=>_bext_vpn_ui_ui_api_js__WEBPACK_IMPORTED_MODULE_11__["a"].open_plus_page(root_url,_bext_vpn_ui_ui_api_js__WEBPACK_IMPORTED_MODULE_11__["a"].get_vpn_last_rating()==5?"ext_working":"ext_not_working");if(busy)return null;if(btn_clicked=="yes"){return _bext_vpn_ui_ui_api_js__WEBPACK_IMPORTED_MODULE_11__["a"].need_rating()&&!rating?react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(Rate_us,{on_rated:r=>set_rating(r)}):react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(Rated,{rating:rating,on_try_premium:!is_premium&&on_try_premium})}return react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(Working_buttons,{click_yes:()=>set_btn_clicked("yes"),click_no:()=>set_btn_clicked("no"),no_clicked:btn_clicked=="no"})};const Main_switch_tooltip=props=>{let root_url=props.root_url,value=props.value,is_mitm=props.is_mitm,is_protect_pc=props.is_protect_pc,is_protect_browser=props.is_protect_browser,type=props.type,el=props.el,is_premium=props.is_premium,ip=props.ip,onClick=props.onClick;let is_protect=type=="protect";let country=_util_country_js__WEBPACK_IMPORTED_MODULE_7___default.a.code2label(props.country||"");let src_country=_util_country_js__WEBPACK_IMPORTED_MODULE_7___default.a.code2label(props.src_country||"");let tooltip_opts={el:el,position:"bottom",on_click:onClick,icon:react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(Country_flag,{country:props.country,mitm:is_mitm,protect:is_protect,size:"40"})};if(is_protect){let target=is_protect_pc?"your PC":is_protect_browser?"your browser":react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("b",null,root_url);let on_click=is_premium?onClick:()=>_bext_vpn_ui_ui_api_js__WEBPACK_IMPORTED_MODULE_11__["a"].open_plus_page(root_url,"protect_tooltip");return react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(Tooltip,_extends({},tooltip_opts,{className:"protect-tooltip",on_click:on_click}),react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("div",{className:"protect-tooltip-status"},"Your status: ",value?react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("b",null,"Protected"):react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("b",null,react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("u",null,"UNPROTECTED"))),!value&&react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("div",{className:"protect-tooltip-location"},react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("div",null,"Location: ",react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("b",null,src_country)),react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("div",null,"IP: ",react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("b",null,ip))),value&&react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("div",null,"Click to stop ",react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("b",null,"Protect")," for ",target),!value&&react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("div",null,is_premium&&react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("span",null,"Click "),!is_premium&&react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("span",null,react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("a",null,"Upgrade")," to PLUS "),"to hide your identity and encrypt all your traffic."))}if(is_mitm){if(value){return react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(Tooltip,_extends({},tooltip_opts,{title:react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("span",null,react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("b",null,root_url)," is unblocked")}),"Click to stop VPN and stop unblocking ",react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("b",null,root_url))}return react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(Tooltip,_extends({},tooltip_opts,{title:react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("span",null,react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("b",null,root_url)," is blocked by your country")}),"Click to start VPN for ",react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("b",null,root_url)," and unblock it")}if(value){return react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(Tooltip,_extends({},tooltip_opts,{title:react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("span",null,react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("b",null,root_url)," country is ",country)}),"Click to stop VPN for ",react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("b",null,root_url)," and change country back to ",src_country)}return react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(Tooltip,_extends({},tooltip_opts,{title:`Change country to ${country}`}),"Click to enable the VPN and change country to ",country,".")};const Vpn_switch=props=>{const ref=useRef();const _props$type=props.type,type=_props$type===void 0?"unblock":_props$type,tooltip=props.tooltip,value=props.value;const cls=classnames__WEBPACK_IMPORTED_MODULE_2___default()(`vpn-switch ${type}-switch`,value&&"vpn-switch-active");return react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("div",{ref:ref,className:cls,onClick:()=>props.onClick&&props.onClick()},react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("div",{className:"vpn-switch-icon"},!value&&react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_img_x_svg__WEBPACK_IMPORTED_MODULE_22___default.a,null),value&&type=="protect"&&react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_img_protect_svg__WEBPACK_IMPORTED_MODULE_21___default.a,null),value&&type=="unblock"&&react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_img_unlock_svg__WEBPACK_IMPORTED_MODULE_20___default.a,null)),react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("div",{className:"vpn-switch-text"},type=="protect"&&value&&T("Protected"),type=="unblock"&&value&&T("Unblocked"),type=="protect"&&!value&&T("Protect"),type=="unblock"&&!value&&T("Unblock")),!!tooltip&&react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(Main_switch_tooltip,_extends({el:ref.current},props)))};const Protect_dialog=({root_url:root_url,close_cb:close_cb})=>{useEffect(()=>void perr("be_ui_protect_need_plus_show"),[]);const on_no=()=>{perr("be_ui_protect_need_plus_close");close_cb()};const on_yes=()=>{perr("be_ui_protect_need_plus_go");close_cb();_bext_vpn_ui_ui_api_js__WEBPACK_IMPORTED_MODULE_11__["a"].open_plus_page(root_url,"ext_protect")};return react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(Dialog,{cls:"protect-dialog",text_yes:"Go PLUS!",on_yes:on_yes,on_no:on_no},react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("div",null,react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("div",{className:"protect-dialog-header"},"Your status: ",react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("b",null,"UNPROTECTED")),"Protect is available only for PLUS",react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("br",null),"Upgrade to PLUS and get:",react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("ul",null,react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("li",null,"Unlimited online security"),react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("li",null,"Privacy and anonymity"),react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("li",null,"Up to 10 devices!"))))};const Unblock_protect=({root_url:root_url,on_unblock:on_unblock,pop_countries:pop_countries})=>{const protect_click=()=>{perr("be_ui_click_protect",{value:!protect,country:country,is_mitm_site:is_mitm_site});if(protect)return on_unblock({protect:false});if(!is_premium)return toggle_get_plus(true);on_unblock({country:country,protect:"site"})};const unblock_click=()=>{perr("be_ui_click_unblock",{value:!rule,country:country,is_mitm_site:is_mitm_site});if(rule)return on_unblock({disable:true});on_unblock(is_mitm_site?{mitm:true}:{country:country})};const _useContext15=useContext(App_context),rule=_useContext15.rule,src_country=_useContext15.src_country,ip=_useContext15.ip,is_mitm_site=_useContext15.is_mitm_site,is_premium=_useContext15.is_premium,protect_ui=_useContext15.protect_ui;const _ref=rule||{},protect=_ref.protect;const _useState9=useState(false),_useState10=_slicedToArray(_useState9,2),show_get_plus=_useState10[0],toggle_get_plus=_useState10[1];const country=(rule&&rule.country||pop_countries[0]||"").toLowerCase();if(!country)return null;return react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("div",{className:"unblock-protect"},react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(Vpn_switch,{root_url:root_url,is_premium:is_premium,tooltip:protect_ui.tooltips,onClick:unblock_click,value:!!rule,country:country,src_country:src_country,ip:ip,is_mitm:rule&&rule.mitm||is_mitm_site}),react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(Vpn_switch,{root_url:root_url,is_premium:is_premium,tooltip:protect_ui.tooltips,onClick:protect_click,value:!!protect,src_country:src_country,ip:ip,type:"protect",is_protect_pc:protect=="pc",is_protect_browser:protect=="browser"}),show_get_plus&&react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(Protect_dialog,{root_url:root_url,close_cb:()=>toggle_get_plus(false)}))};const Checkbox=({checked:checked,onChange:onChange,className:className,children:children})=>react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("label",{className:classnames__WEBPACK_IMPORTED_MODULE_2___default()("checkbox",className)},react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("input",{type:"checkbox",checked:checked,onChange:onChange}),checked?react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_img_v_svg__WEBPACK_IMPORTED_MODULE_23___default.a,{width:"16",height:"16"}):react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("svg",{viewBox:"0 0 16 16",width:"16",height:"16"},react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("circle",{cx:"8",cy:"8",r:"7",strokeWidth:"2",fill:"none",stroke:"#a3b5ca"})),children);const Protecting_item=({root_url:root_url,type:type,on_click:on_click,checked:checked})=>{const browser=_bext_pub_util_js__WEBPACK_IMPORTED_MODULE_14___default.a.browser();return react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(Checkbox,{className:"protecting-item",checked:checked,onChange:on_click},react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(Fragment,null,react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("div",{className:"protecting-item-img"},type=="site"&&react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("img",{src:`https://favicon.yandex.net/favicon/${root_url}`}),type=="browser"&&react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("img",{src:`./bext/vpn/ui/img/${browser}.svg`}),type=="pc"&&react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("img",{src:`./bext/vpn/ui/img/win.svg`})),react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("div",{className:"protecting-item-text"},type=="site"&&root_url,type=="browser"&&react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(T,null,react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("span",null,_util_string_js__WEBPACK_IMPORTED_MODULE_6___default.a.capitalize(browser))," browser"),type=="pc"&&react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(T,null,"All PC applicatons"))))};const Protecting=({url:url,root_url:root_url,on_unblock:on_unblock})=>{const _useState11=useState(""),_useState12=_slicedToArray(_useState11,2),show_dialog=_useState12[0],toggle_dialog=_useState12[1];const _useContext16=useContext(App_context),rule=_useContext16.rule,protect_ui=_useContext16.protect_ui;const _ref2=rule||{},protect=_ref2.protect;const skip_url=_bext_vpn_util_util_js__WEBPACK_IMPORTED_MODULE_12___default.a.is_skip_url(url);if(!protect||skip_url&&!protect_ui.browser&&!protect_ui.pc)return null;const all_browser=protect=="browser"||protect=="pc";const pc_click=()=>{if(!protect_ui.has_exe){perr("be_ui_vpn_needs_app");return toggle_dialog(true)}on_unblock({protect:protect=="pc"?"browser":"pc"})};const install_click=()=>_bext_vpn_ui_ui_api_js__WEBPACK_IMPORTED_MODULE_11__["a"].open_page("https://hola.org/download");return react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("div",{className:"protecting"},react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("div",{className:"protecting-title"},react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(T,null,"Protecting:")),!skip_url&&react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(Protecting_item,{type:"site",root_url:root_url,on_click:()=>on_unblock({protect:protect?false:"site"}),checked:!!protect}),protect_ui.browser&&react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(Protecting_item,{type:"browser",on_click:()=>on_unblock({protect:all_browser?"site":"browser"}),checked:all_browser}),protect_ui.pc&&react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(Protecting_item,{type:"pc",on_click:pc_click,checked:protect=="pc"}),show_dialog&&react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(Dialog,{cls:"download-dialog",text_yes:"Download",text_no:"No, thanks!",on_yes:install_click,on_no:()=>toggle_dialog(false)},react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(Country_flag,{protect:true,size:40}),react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(T,null,"For protecting PC applications you have to install ",react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("a",{onClick:install_click}," Hola for Windows"))))};const use_busy=()=>{const _useContext17=useContext(App_context),busy=_useContext17.busy;const _useState13=useState(false),_useState14=_slicedToArray(_useState13,2),finishing=_useState14[0],set_finishing=_useState14[1];const prev_busy=_bext_vpn_ui_ui_lib_js__WEBPACK_IMPORTED_MODULE_10__["a"].use_previous(busy);const need_finish=prev_busy&&!busy;useEffect(()=>{if(!need_finish)return void set_finishing(false);set_finishing(true);const t=_bext_vpn_util_util_js__WEBPACK_IMPORTED_MODULE_12___default.a.set_timeout(()=>set_finishing(false),1200);return()=>_bext_vpn_util_util_js__WEBPACK_IMPORTED_MODULE_12___default.a.clear_timeout(t)},[busy]);return{busy:busy||need_finish||finishing,finishing:need_finish||finishing}};const Site_premium=({root_url:root_url})=>{useEffect(()=>{perr("be_uuid_site_premium_view",{root_url:root_url});perr("be_show_require_plus",{root_url:root_url})},[]);const on_click=()=>{perr("uuid_site_premium_subscribe",{root_url:root_url});_bext_vpn_ui_ui_api_js__WEBPACK_IMPORTED_MODULE_11__["a"].open_plus_page(root_url,"require_plus")};return react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("div",{className:"site-premium"},react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("div",{className:"site-premium-image",onClick:on_click}),react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("div",{className:"site-premium-text"},root_url,react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("br",null),react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(T,null,"Requires specialized servers")),react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(Btn,{onClick:on_click},react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(T,null,"Subscribe to PLUS")))};const Stub_unblock=()=>{const _useContext18=useContext(App_context),is_premium=_useContext18.is_premium,rule=_useContext18.rule,root_url=_useContext18.root_url;if(is_premium||!_bext_vpn_util_util_js__WEBPACK_IMPORTED_MODULE_12___default.a.is_google(root_url)||!rule.stub)return null;return react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("div",{className:"stub-unblock-new"},"To change IP for ",react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("b",null,root_url),",",react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("br",null),"upgrade to ",react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(A,{href:_bext_vpn_ui_ui_api_js__WEBPACK_IMPORTED_MODULE_11__["a"].plus_ref("stub_unblock",{root_url:root_url})},"PLUS"))};const Unblocker=({compact:compact,toggle_site_premium:toggle_site_premium})=>{const on_unblock=opt=>{toggle_dropdown(false);if(need_premium)return void toggle_site_premium(root_url);_bext_vpn_ui_ui_api_js__WEBPACK_IMPORTED_MODULE_11__["a"].unblock_action(_objectSpread({url:url,redirects:redirects},opt))};const on_country_click=opt=>{if(rule&&opt.main||opt.other)return void toggle_dropdown(true);if(!opt.disable)perr("be_ui_vpn_click_flag",opt);on_unblock(opt)};const _use_busy=use_busy(),busy=_use_busy.busy,finishing=_use_busy.finishing;const _useState15=useState(false),_useState16=_slicedToArray(_useState15,2),show_dropdown=_useState16[0],toggle_dropdown=_useState16[1];const ctx=useContext(App_context);const is_premium=ctx.is_premium,is_mitm_site=ctx.is_mitm_site,rule=ctx.rule,is_tpopup=ctx.is_tpopup,src_country=ctx.src_country;let root_url=ctx.root_url,url=ctx.url,redirects=ctx.redirects,is_mitm_ui_enabled=ctx.is_mitm_ui_enabled;let is_redirect;if(!rule&&redirects&&redirects.length){root_url=_svc_vpn_pub_util_js__WEBPACK_IMPORTED_MODULE_13___default.a.get_root_url(redirects[0]);url=redirects[0];is_redirect=true}const pop=_bext_vpn_ui_ui_lib_js__WEBPACK_IMPORTED_MODULE_10__["a"].use_popular_countries({root_url:root_url,src_country:src_country,rule:rule});const need_premium=_bext_vpn_ui_ui_lib_js__WEBPACK_IMPORTED_MODULE_10__["a"].use_etask(()=>_bext_vpn_ui_ui_api_js__WEBPACK_IMPORTED_MODULE_11__["a"].get_force_premium_rule(root_url),false,[root_url])&&!is_premium;const proxy_error=_bext_pub_util_js__WEBPACK_IMPORTED_MODULE_14___default.a.proxy_error_ui_enabled("popup")&&!ctx.busy&&ctx.proxy_error;useEffect(()=>{if(is_redirect)perr("be_ui_redirect",{chain:redirects})},[is_redirect]);useEffect(()=>{if(proxy_error)perr("be_ui_proxy_error",{root_url:root_url,rule:rule,proxy_error:proxy_error})},[proxy_error]);const opt={on_unblock:on_unblock,pop_countries:pop,busy:busy,finishing:finishing,on_click:on_country_click};const countries=_bext_vpn_ui_ui_api_js__WEBPACK_IMPORTED_MODULE_11__["a"].get_all_countries(rule&&rule.protect);return react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("div",{className:classnames__WEBPACK_IMPORTED_MODULE_2___default()("unblocker",{"unblocker-on":!!rule})},!compact&&react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(Unblock_protect,{root_url:root_url,on_unblock:on_unblock,pop_countries:pop}),react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(Unblocker_title,{site:root_url,busy:busy}),react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("div",{className:"unblocker-country-buttons"},rule&&react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(Country_button,_extends({main:true,glow:!busy,active:true,country:rule.country,mitm:rule.mitm,protect:rule.protect&&rule.default_protect,toggle_dropdown:toggle_dropdown,error:proxy_error},opt)),!rule&&is_mitm_site&&react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(Country_button,_extends({main:true,mitm:true,toggle_dropdown:toggle_dropdown},opt)),!rule&&!is_mitm_site&&is_tpopup&&!!pop.length&&react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(Country_button,_extends({country:pop[0],main:true,plus:need_premium},opt)),!rule&&!is_mitm_site&&!is_tpopup&&!!pop.length&&react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(Fragment,null,react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(Country_button,_extends({main:true,country:pop[0],plus:need_premium,toggle_dropdown:toggle_dropdown},opt)),react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("div",{className:"unblocker-br"}),react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(Country_button,_extends({country:pop[1]},opt)),react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(Country_button,_extends({other:true,title:T("Other"),toggle_dropdown:toggle_dropdown},opt)))),rule&&rule.protect&&react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(Protecting,{url:url,root_url:root_url,on_unblock:on_unblock}),rule&&react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(Stub_unblock,null),rule&&!compact&&!rule.stub&&react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(Bottom_buttons,{busy:busy}),show_dropdown&&react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(Country_menu,{on_click:on_country_click,on_close:()=>toggle_dropdown(false),show_protect:is_premium,show_stop:!!rule,country:rule&&!rule.mitm&&!rule.protect&&rule.country,countries:countries,pop_countries:pop,parent:document.querySelector(".vpn"),is_premium:is_premium,is_mitm_ui_enabled:is_mitm_ui_enabled}))};const get_site_name=root_url=>{let name=root_url.slice(0,root_url.indexOf("."));return name.length<=3?name.toUpperCase():_util_string_js__WEBPACK_IMPORTED_MODULE_6___default.a.capitalize(name)};const Popular_item=({root_url:root_url,on_click:on_click})=>{const name=get_site_name(root_url);let pic_url;if(pic_url=CG("popular_sites.sitepic_url"))pic_url=pic_url.replace("${root_url}",root_url);return react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("div",{title:root_url,className:"popular-item",onClick:()=>on_click(root_url)},react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(Site_icon,{root_url:root_url,size:24}),react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("div",{className:"popular-item-hover"},!!pic_url&&react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("img",{src:pic_url}),react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("div",{className:"popular-item-hover-fade"}),react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("div",{className:"popular-item-hover-glow"})),react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("div",{className:"popular-item-name"},name))};const Popular=({toggle_site_premium:toggle_site_premium})=>{const _useContext19=useContext(App_context),src_country=_useContext19.src_country,root_url=_useContext19.root_url,url=_useContext19.url;useEffect(()=>void perr("be_ui_popular_view",{root_url:root_url,url:url}),[]);const _useState17=useState(""),_useState18=_slicedToArray(_useState17,2),filter=_useState18[0],set_filter=_useState18[1];const data=_bext_vpn_ui_ui_lib_js__WEBPACK_IMPORTED_MODULE_10__["a"].use_etask(()=>_bext_vpn_ui_ui_api_js__WEBPACK_IMPORTED_MODULE_11__["a"].get_popular_sites(11),{list:[],top_urls:[]});const open_popular=site_root_url=>_util_etask_js__WEBPACK_IMPORTED_MODULE_4___default()((function*(){if(yield _bext_vpn_ui_ui_api_js__WEBPACK_IMPORTED_MODULE_11__["a"].get_force_premium_rule(site_root_url))toggle_site_premium(site_root_url);else _bext_vpn_ui_ui_api_js__WEBPACK_IMPORTED_MODULE_11__["a"].open_popular({root_url:site_root_url,src_country:src_country})}));const go=v=>{if(!v)return;let res=data.top_urls.find(r=>r.startsWith(v.toLowerCase()));if(res)v=res;perr("be_ui_popular_click_go",{value:v});if(_util_url_js__WEBPACK_IMPORTED_MODULE_5___default.a.is_valid_url(v))open_popular(_svc_vpn_pub_util_js__WEBPACK_IMPORTED_MODULE_13___default.a.get_root_url(_util_url_js__WEBPACK_IMPORTED_MODULE_5___default.a.add_proto(v)));else{_bext_vpn_ui_ui_api_js__WEBPACK_IMPORTED_MODULE_11__["a"].search_popular("https://google.com/search?q="+encodeURIComponent(v))}};const more_url="https://hola.org/unblock/popular"+(src_country?"/"+src_country:"")+"?utm_source=holaext";let list=data.list;if(filter)list=list.filter(l=>l.root_url.startsWith(filter.toLowerCase()));return react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("div",{className:"popular"},react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(Search_field,{value:filter,set_value:set_filter,on_action:go,placeholder:"Enter site to unblock"}),react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("div",{className:"popular-list"},list.map(p=>react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(Popular_item,_extends({key:p.root_url,on_click:open_popular},p))),react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("div",{className:"popular-more popular-item",onClick:()=>_bext_vpn_ui_ui_api_js__WEBPACK_IMPORTED_MODULE_11__["a"].open_page(more_url)},react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_img_plus_svg__WEBPACK_IMPORTED_MODULE_25___default.a,null),react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("span",null,react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(T,null,"More")))))};const Conflict_msg=()=>{useEffect(()=>void perr("be_render_ext_conflict"));const on_click=()=>_bext_vpn_ui_ui_api_js__WEBPACK_IMPORTED_MODULE_11__["a"].open_page("chrome://extensions/");return react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("div",{className:"conflict-msg"},react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("div",{className:"conflict-msg-img"}),react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("p",null,react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(T,null,"Hola cannot work because another extension is controlling your proxy settings.")),react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("p",null,react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(T,null,"Please disable other ",react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("a",{onClick:on_click},"extensions")," that you think might control your proxy settings such as ad-blockers, other VPN services, etc.")))};const No_permission_msg=()=>{useEffect(()=>void perr("be_no_permission_show"));const on_close=()=>{perr("be_no_permission_click_close");_bext_vpn_ui_ui_api_js__WEBPACK_IMPORTED_MODULE_11__["a"].close_popup()};const on_allow=()=>{perr("be_no_permission_click_allow");_bext_vpn_ui_ui_api_js__WEBPACK_IMPORTED_MODULE_11__["a"].request_permission()};return react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(Dialog,{cls:"permission-dialog",alert:true,on_no:on_close,on_yes:on_allow,text_yes:T("Allow"),text_no:T("Close")},react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("p",null,react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(T,null,"Hola needs permissions to access site data.")))};const Content=({compact:compact})=>{const _useContext20=useContext(App_context),inited=_useContext20.inited,enabled=_useContext20.enabled,url=_useContext20.url,rule=_useContext20.rule,ext_conflict=_useContext20.ext_conflict,no_permission=_useContext20.no_permission;const _useState19=useState(""),_useState20=_slicedToArray(_useState19,2),premium_root_url=_useState20[0],toggle_site_premium=_useState20[1];let inner;if(!inited)inner=null;else if(ext_conflict)inner=react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(Conflict_msg,null);else if(no_permission)inner=react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(No_permission_msg,null);else if(!enabled)inner=react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(Turned_off,null);else if(premium_root_url)inner=react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(Site_premium,{root_url:premium_root_url});else if(_bext_vpn_util_util_js__WEBPACK_IMPORTED_MODULE_12___default.a.is_skip_url(url)&&!rule&&!_bext_vpn_ui_ui_api_js__WEBPACK_IMPORTED_MODULE_11__["a"].allow_skip_url())inner=react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(Popular,{toggle_site_premium:toggle_site_premium});else{inner=react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(Unblocker,{compact:compact,toggle_site_premium:toggle_site_premium})}return react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("div",{className:"vpn-content"},inner)};const Privacy=()=>react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("div",{className:"firefox-privacy"},react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("header",null,react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(T,null,_bext_vpn_ui_privacy_js__WEBPACK_IMPORTED_MODULE_15__["a"].title)),react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_bext_vpn_ui_privacy_js__WEBPACK_IMPORTED_MODULE_15__["a"].Text,null),react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("footer",null,react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(Btn,{light:true,onClick:()=>_bext_vpn_ui_ui_api_js__WEBPACK_IMPORTED_MODULE_11__["a"].set_agree_ts(Date.now())},react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(T,null,"I Agree"))));const Upgrade_msg=()=>{const show=_bext_vpn_ui_ui_lib_js__WEBPACK_IMPORTED_MODULE_10__["a"].use_etask(()=>_bext_vpn_ui_ui_api_js__WEBPACK_IMPORTED_MODULE_11__["a"].need_upgrade_msg(),false);const _useState21=useState(false),_useState22=_slicedToArray(_useState21,2),closed=_useState22[0],set_closed=_useState22[1];const click_yes=()=>{perr("be_ui_upgrade_msg_click");_bext_vpn_ui_ui_api_js__WEBPACK_IMPORTED_MODULE_11__["a"].click_upgrade(true);set_closed(true)};const click_no=()=>{perr("be_ui_upgrade_msg_close");_bext_vpn_ui_ui_api_js__WEBPACK_IMPORTED_MODULE_11__["a"].click_upgrade(false);set_closed(true)};useEffect(()=>{if(show)perr("be_ui_upgrade_msg_show")},[show]);if(!show||closed)return null;const browser_name=_util_string_js__WEBPACK_IMPORTED_MODULE_6___default.a.capitalize(_bext_pub_util_js__WEBPACK_IMPORTED_MODULE_14___default.a.browser());return react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(Dialog,{text_yes:"Upgrade",on_yes:click_yes,on_no:click_no,alert:true},react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("div",null,react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(T,null,"Your Hola VPN version is too old. Please upgrade to latest version at ",react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("a",{onClick:click_yes},browser_name," Store"),".")))};const Dialog=({on_no:on_no,on_yes:on_yes,cls:cls,text_yes:text_yes,text_no:text_no,alert:alert,children:children})=>{const _use_enter_effect2=use_enter_effect({close:on_no}),enter_state=_use_enter_effect2.enter_state,close=_use_enter_effect2.close;const ref=useRef();const container=document.querySelector(".vpn")||document.querySelector(".react-root");_bext_vpn_ui_ui_lib_js__WEBPACK_IMPORTED_MODULE_10__["a"].on_outside_click(ref,close);return react_dom__WEBPACK_IMPORTED_MODULE_1___default.a.createPortal(react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("div",{className:classnames__WEBPACK_IMPORTED_MODULE_2___default()("dialog-container",enter_state)},react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("div",{ref:ref,className:classnames__WEBPACK_IMPORTED_MODULE_2___default()("dialog",cls)},!!on_no&&react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_img_x_svg__WEBPACK_IMPORTED_MODULE_22___default.a,{className:"dialog-close",onClick:close}),alert&&react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("div",{className:"dialog-icon dialog-icon-alert"}),react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("div",{className:"dialog-message"},children),!!(text_no||text_yes)&&react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("div",{className:"dialog-buttons"},!!text_no&&react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(Btn,{light:true,arrow:false,onClick:close},react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(T,null,text_no)),!!text_yes&&react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(Btn,{onClick:on_yes}," ",react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(T,null,text_yes))))),container)};const Suspended_dialog=()=>{useEffect(()=>void _bext_vpn_ui_ui_api_js__WEBPACK_IMPORTED_MODULE_11__["a"].perr("be_ui_alert_suspended"),[]);const sign_in=()=>{_bext_vpn_ui_ui_api_js__WEBPACK_IMPORTED_MODULE_11__["a"].perr("be_ui_alert_suspended_signin");let url=_util_url_js__WEBPACK_IMPORTED_MODULE_5___default.a.qs_add("https://hola.org/signin",{force_signin:1,signin_redirect:true,next:"/cp"});_bext_vpn_ui_ui_api_js__WEBPACK_IMPORTED_MODULE_11__["a"].open_page(url)};return react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(Dialog,{cls:"suspended-dialog",alert:true},react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("div",null,react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("div",null,"To continue using Hola VPN, please Sign in"),react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(Btn,{onClick:sign_in},"Sign in"),react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("a",{onClick:_bext_vpn_ui_ui_api_js__WEBPACK_IMPORTED_MODULE_11__["a"].open_report_problem},react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(T,null,"Report a problem"))))};const Error_dialog=({on_close:on_close})=>{const is_offline=()=>window.navigator.onLine===false;const _useState23=useState(is_offline()),_useState24=_slicedToArray(_useState23,2),offline=_useState24[0],set_offline=_useState24[1];useEffect(()=>{const update_status=()=>set_offline(is_offline());window.addEventListener("offline",update_status);window.addEventListener("online",update_status);_bext_vpn_ui_ui_api_js__WEBPACK_IMPORTED_MODULE_11__["a"].perr("be_ui_err",{offline:is_offline()});return()=>{window.removeEventListener("offline",update_status);window.removeEventListener("online",update_status)}},[]);const on_yes=()=>{_bext_vpn_ui_ui_api_js__WEBPACK_IMPORTED_MODULE_11__["a"].perr("be_ui_popup_reload");_bext_vpn_ui_ui_api_js__WEBPACK_IMPORTED_MODULE_11__["a"].reload_ext({info:"error"},true)};if(offline){return react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(Dialog,{cls:"error-dialog",alert:true,on_no:on_close},react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("p",null,react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("b",null,"No internet")),react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("div",null,"Try:"),react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("ul",null,react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("li",null,"Checking the network cables, modem, and router"),react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("li",null,"Reconnecting to Wi-Fi")))}return react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(Dialog,{cls:"error-dialog",alert:true,on_no:on_close,on_yes:on_yes,text_no:T("Close"),text_yes:T("Reload extension")},react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("div",null,"Sorry, Hola is not available right now."),react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("ol",null,react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("li",null,"Check you have Internet connection"),react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("li",null,react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("a",{onClick:on_yes},"Reload")," the extension"),react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("li",null,"Email us at ",react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_bext_vpn_ui_ui_lib_js__WEBPACK_IMPORTED_MODULE_10__["a"].Link_mailto,{to:"support@hola.org"}))))};E.Error_dialog=Error_dialog;let tpopup_perr_sent=false,displayed=false,ready_sent=false;E.Vpn_ui=()=>{const _useContext21=useContext(App_context),is_tpopup=_useContext21.is_tpopup,root_url=_useContext21.root_url,url=_useContext21.url,agree_ts=_useContext21.agree_ts,error=_useContext21.error,set_error=_useContext21.set_error,inited=_useContext21.inited,suspended=_useContext21.suspended;const _useState25=useState(false),_useState26=_slicedToArray(_useState25,2),is_menu_open=_useState26[0],set_menu_open=_useState26[1];useEffect(()=>{if(is_tpopup&&root_url&&!tpopup_perr_sent){perr("be_tpopup_open",{root_url:root_url,url:url});tpopup_perr_sent=true}},[root_url]);useEffect(()=>{if(!displayed&&!is_tpopup){perr("be_ui_display_ext_vpn");displayed=true}_bext_vpn_ui_ui_api_js__WEBPACK_IMPORTED_MODULE_11__["a"].init_monitor_active();return()=>_bext_vpn_ui_ui_api_js__WEBPACK_IMPORTED_MODULE_11__["a"].uninit_monitor_active()},[]);useEffect(()=>{if(!inited||ready_sent)return;if(performance.mark)performance.mark("ui_ready");perr("be_ui_vpn_ready",_bext_vpn_ui_ui_api_js__WEBPACK_IMPORTED_MODULE_11__["a"].get_timings());ready_sent=true},[inited]);useLayoutEffect(()=>{if(!_bext_vpn_util_util_js__WEBPACK_IMPORTED_MODULE_12___default.a.is_tpopup())return;const on_body_click=()=>_bext_vpn_ui_ui_api_js__WEBPACK_IMPORTED_MODULE_11__["a"].tpopup_close_click("outside_click");_bext_vpn_ui_ui_api_js__WEBPACK_IMPORTED_MODULE_11__["a"].on("body_click",on_body_click);return()=>_bext_vpn_ui_ui_api_js__WEBPACK_IMPORTED_MODULE_11__["a"].off("body_click",on_body_click)},[]);const toggle_menu=val=>set_menu_open(val!==undefined?val:!is_menu_open);const compact=is_tpopup&&!_bext_vpn_util_util_js__WEBPACK_IMPORTED_MODULE_12___default.a.get_tpopup_type();const cls=classnames__WEBPACK_IMPORTED_MODULE_2___default()("vpn",is_tpopup&&"vpn-tpopup",compact&&"vpn-compact");return!agree_ts?react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(Privacy,null):react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(react_flip_toolkit__WEBPACK_IMPORTED_MODULE_3__["a"],{flipId:"modal_flip"},react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("div",{className:cls},react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(Header,{compact:compact,toggle_menu:toggle_menu}),react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(Content,{compact:compact}),suspended?react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(Suspended_dialog,null):!!error&&react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(Error_dialog,{on_close:()=>set_error(false)}),!compact&&react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(Footer,null),is_menu_open&&react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(Menu,{close_menu:()=>toggle_menu(false)}),react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(Upgrade_msg,null)))};__webpack_exports__["a"]=E},93:function(module,exports,__webpack_require__){var React=__webpack_require__(13);function Power(props){return React.createElement("svg",props,React.createElement("path",{fill:"#D4E0EC",fillRule:"evenodd",d:"M42.873 2.807l.14.046C58.725 8.59 67.397 25.575 62.754 41.766 57.876 58.778 40.153 68.62 23.168 63.75 6.184 58.88-3.63 41.14 1.248 24.13 4.104 14.167 11.49 6.36 21.024 2.859c1.169-.43 2.463.17 2.89 1.34.428 1.17-.172 2.466-1.34 2.896-8.197 3.011-14.54 9.714-16.995 18.276-4.191 14.616 4.24 29.857 18.833 34.04 14.593 4.185 29.82-4.271 34.01-18.887 3.99-13.91-3.461-28.504-16.956-33.43-1.168-.428-1.77-1.723-1.343-2.894.41-1.123 1.62-1.724 2.75-1.393zM32 0c1.195 0 2.172.931 2.248 2.108l.005.149v28.885c0 1.246-1.009 2.257-2.253 2.257-1.195 0-2.172-.932-2.248-2.109l-.005-.148V2.257C29.748 1.01 30.757 0 32.001 0z"}))}Power.defaultProps={width:"64",height:"65",viewBox:"0 0 64 65"};module.exports=Power;Power.default=Power},94:function(module,exports,__webpack_require__){var React=__webpack_require__(13);function Power16(props){return React.createElement("svg",props,React.createElement("path",{fill:"#A3B5CA",fillRule:"evenodd",d:"M11.888 1.112C14.404 2.502 16 5.144 16 8.059 16 12.445 12.418 16 8 16s-8-3.555-8-7.941c0-2.917 1.599-5.556 4.121-6.947.43-.236.97-.083 1.209.343.238.426.084.963-.346 1.2-1.963 1.082-3.206 3.134-3.206 5.404 0 3.411 2.786 6.176 6.222 6.176 3.436 0 6.222-2.765 6.222-6.176 0-2.268-1.241-4.323-3.2-5.406-.428-.237-.582-.774-.344-1.2.24-.426.78-.578 1.21-.341zM8 0c.552 0 1 .448 1 1v8c0 .552-.448 1-1 1s-1-.448-1-1V1c0-.552.448-1 1-1z"}))}Power16.defaultProps={width:"16",height:"16",viewBox:"0 0 16 16"};module.exports=Power16;Power16.default=Power16},95:function(module,exports,__webpack_require__){var React=__webpack_require__(13);function Menu(props){return React.createElement("svg",props,React.createElement("path",{fill:"#A3B5CA",fillRule:"evenodd",d:"M15 12c.552 0 1 .448 1 1s-.448 1-1 1H1c-.552 0-1-.448-1-1s.448-1 1-1h14zm0-6c.552 0 1 .448 1 1s-.448 1-1 1H1c-.552 0-1-.448-1-1s.448-1 1-1h14zm0-6c.552 0 1 .448 1 1s-.448 1-1 1H1c-.552 0-1-.448-1-1s.448-1 1-1h14z"}))}Menu.defaultProps={width:"16",height:"14",viewBox:"0 0 16 14"};module.exports=Menu;Menu.default=Menu},96:function(module,exports,__webpack_require__){var React=__webpack_require__(13);function Unlock(props){return React.createElement("svg",props,[React.createElement("defs",{key:0},React.createElement("linearGradient",{id:"prefix__a",x1:"50%",x2:"50%",y1:"0%",y2:"100%"},[React.createElement("stop",{offset:"0%",stopColor:"#FF6400",stopOpacity:".316",key:0}),React.createElement("stop",{offset:"100%",stopColor:"#FF6400",key:1})])),React.createElement("path",{fill:"url(#prefix__a)",fillRule:"evenodd",d:"M6 0c2.689 0 4.882 2.122 4.995 4.783L11 5l.001 3.268c.597.346.999.992.999 1.732v4c0 1.105-.895 2-2 2H2c-1.105 0-2-.895-2-2v-4c0-1.105.895-2 2-2h7V5c0-1.657-1.343-3-3-3S3 3.343 3 5c0 .552-.448 1-1 1s-1-.448-1-1c0-2.761 2.239-5 5-5z",key:1})])}Unlock.defaultProps={width:"12",height:"16",viewBox:"0 0 12 16"};module.exports=Unlock;Unlock.default=Unlock},97:function(module,exports,__webpack_require__){var React=__webpack_require__(13);function Protect(props){return React.createElement("svg",props,[React.createElement("defs",{key:0},React.createElement("linearGradient",{id:"prefix__a",x1:"50%",x2:"50%",y1:"100%",y2:"0%"},[React.createElement("stop",{offset:"0%",stopColor:"#FF6400",stopOpacity:".316",key:0}),React.createElement("stop",{offset:"100%",stopColor:"#FF6400",key:1})])),React.createElement("g",{fill:"none",fillRule:"evenodd",key:1},[React.createElement("path",{fill:"url(#prefix__a)",d:"M0 2.875c1.96 0 3.882-.55 5.544-1.59L6 1v15l-4.243-4.243C.632 10.632 0 9.106 0 7.515v-4.64z",key:0}),React.createElement("path",{fill:"#FF6400",d:"M6 1l.456.285c1.662 1.04 3.584 1.59 5.544 1.59v4.64c0 1.591-.632 3.117-1.757 4.242L6 16V1z",key:1})])])}Protect.defaultProps={width:"12",height:"16",viewBox:"0 0 12 16"};module.exports=Protect;Protect.default=Protect},98:function(module,exports,__webpack_require__){var React=__webpack_require__(13);function V(props){return React.createElement("svg",props,React.createElement("g",{fill:"none",fillRule:"evenodd"},[React.createElement("circle",{cx:"10",cy:"10",r:"10",fill:"#EBF2F9",key:0}),React.createElement("path",{fill:"#FF6400",d:"M6.708 9.293c-.39-.39-1.024-.39-1.415 0-.39.39-.39 1.023 0 1.414l2.998 3c.416.416 1.1.385 1.477-.067l5-6c.354-.424.296-1.055-.128-1.408-.425-.354-1.056-.296-1.41.128l-4.298 5.158-2.224-2.225z",key:1})]))}V.defaultProps={width:"20",height:"20",viewBox:"0 0 20 20"};module.exports=V;V.default=V},99:function(module,exports,__webpack_require__){var React=__webpack_require__(13);function Right(props){return React.createElement("svg",props,React.createElement("path",{fill:"#65707C",fillRule:"evenodd",d:"M7.268 6L3.21 10.033c-.28.278-.28.73 0 1.008.28.279.734.279 1.015 0L8.79 6.504c.28-.278.28-.73 0-1.008L4.225.959C3.945.68 3.49.68 3.21.959c-.28.278-.28.73 0 1.008L7.268 6z"}))}Right.defaultProps={width:"12",height:"12",viewBox:"0 0 12 12"};module.exports=Right;Right.default=Right}}]);
//# sourceMappingURL=https://hola.org/be_source_map/1.171.419/12.js.map